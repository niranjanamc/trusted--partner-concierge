import{c as Hn,r as I,R as at,a as uc,b as Ji,g as dc,d as hc,j as T,X as fc,M as Oo}from"./index-By_A-Ydj.js";import{C as pc}from"./clock-aFPy17jw.js";import{C as mc}from"./coffee-dFPAU7qz.js";/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Bo=Hn("grip-vertical",gc);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vc=Hn("plus",_c);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bc=Hn("trash-2",yc);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wc=Hn("triangle-alert",xc);function St(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Pc=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ro=Pc,No=()=>Math.random().toString(36).substring(7).split("").join("."),Sc={INIT:`@@redux/INIT${No()}`,REPLACE:`@@redux/REPLACE${No()}`},zo=Sc;function Lc(n){if(typeof n!="object"||n===null)return!1;let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i||Object.getPrototypeOf(n)===null}function Sa(n,i,o){if(typeof n!="function")throw new Error(St(2));if(typeof i=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(St(0));if(typeof i=="function"&&typeof o>"u"&&(o=i,i=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(St(1));return o(Sa)(n,i)}let s=n,l=i,c=new Map,d=c,p=0,h=!1;function g(){d===c&&(d=new Map,c.forEach((x,E)=>{d.set(E,x)}))}function v(){if(h)throw new Error(St(3));return l}function m(x){if(typeof x!="function")throw new Error(St(4));if(h)throw new Error(St(5));let E=!0;g();const A=p++;return d.set(A,x),function(){if(E){if(h)throw new Error(St(6));E=!1,g(),d.delete(A),c=null}}}function _(x){if(!Lc(x))throw new Error(St(7));if(typeof x.type>"u")throw new Error(St(8));if(typeof x.type!="string")throw new Error(St(17));if(h)throw new Error(St(9));try{h=!0,l=s(l,x)}finally{h=!1}return(c=d).forEach(A=>{A()}),x}function b(x){if(typeof x!="function")throw new Error(St(10));s=x,_({type:zo.REPLACE})}function S(){const x=m;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(St(11));function A(){const B=E;B.next&&B.next(v())}return A(),{unsubscribe:x(A)}},[Ro](){return this}}}return _({type:zo.INIT}),{dispatch:_,subscribe:m,getState:v,replaceReducer:b,[Ro]:S}}function Fo(n,i){return function(...o){return i(n.apply(this,o))}}function Zo(n,i){if(typeof n=="function")return Fo(n,i);if(typeof n!="object"||n===null)throw new Error(St(16));const o={};for(const s in n){const l=n[s];typeof l=="function"&&(o[s]=Fo(l,i))}return o}function La(...n){return n.length===0?i=>i:n.length===1?n[0]:n.reduce((i,o)=>(...s)=>i(o(...s)))}function Cc(...n){return i=>(o,s)=>{const l=i(o,s);let c=()=>{throw new Error(St(15))};const d={getState:l.getState,dispatch:(h,...g)=>c(h,...g)},p=n.map(h=>h(d));return c=La(...p)(l.dispatch),{...l,dispatch:c}}}var Tc={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rn=I;function Ic(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var kc=typeof Object.is=="function"?Object.is:Ic,Ec=rn.useSyncExternalStore,Ac=rn.useRef,Dc=rn.useEffect,Mc=rn.useMemo,Oc=rn.useDebugValue;Tc.useSyncExternalStoreWithSelector=function(n,i,o,s,l){var c=Ac(null);if(c.current===null){var d={hasValue:!1,value:null};c.current=d}else d=c.current;c=Mc(function(){function h(b){if(!g){if(g=!0,v=b,b=s(b),l!==void 0&&d.hasValue){var S=d.value;if(l(S,b))return m=S}return m=b}if(S=m,kc(v,b))return S;var C=s(b);return l!==void 0&&l(S,C)?(v=b,S):(v=b,m=C)}var g=!1,v,m,_=o===void 0?null:o;return[function(){return h(i())},_===null?void 0:function(){return h(_())}]},[i,o,s,l]);var p=Ec(n,c[0],c[1]);return Dc(function(){d.hasValue=!0,d.value=p},[p]),Oc(p),p};var Bc=I.version.startsWith("19"),Rc=Symbol.for(Bc?"react.transitional.element":"react.element"),Nc=Symbol.for("react.portal"),zc=Symbol.for("react.fragment"),Fc=Symbol.for("react.strict_mode"),Zc=Symbol.for("react.profiler"),jc=Symbol.for("react.consumer"),Hc=Symbol.for("react.context"),Ca=Symbol.for("react.forward_ref"),Gc=Symbol.for("react.suspense"),Wc=Symbol.for("react.suspense_list"),Qi=Symbol.for("react.memo"),Uc=Symbol.for("react.lazy"),Vc=Ca,qc=Qi;function Kc(n){if(typeof n=="object"&&n!==null){const{$$typeof:i}=n;switch(i){case Rc:switch(n=n.type,n){case zc:case Zc:case Fc:case Gc:case Wc:return n;default:switch(n=n&&n.$$typeof,n){case Hc:case Ca:case Uc:case Qi:return n;case jc:return n;default:return i}}case Nc:return i}}}function $c(n){return Kc(n)===Qi}function Yc(n,i,o,s,{areStatesEqual:l,areOwnPropsEqual:c,areStatePropsEqual:d}){let p=!1,h,g,v,m,_;function b(A,D){return h=A,g=D,v=n(h,g),m=i(s,g),_=o(v,m,g),p=!0,_}function S(){return v=n(h,g),i.dependsOnOwnProps&&(m=i(s,g)),_=o(v,m,g),_}function C(){return n.dependsOnOwnProps&&(v=n(h,g)),i.dependsOnOwnProps&&(m=i(s,g)),_=o(v,m,g),_}function x(){const A=n(h,g),D=!d(A,v);return v=A,D&&(_=o(v,m,g)),_}function E(A,D){const B=!c(D,g),N=!l(A,h,D,g);return h=A,g=D,B&&N?S():B?C():N?x():_}return function(D,B){return p?E(D,B):b(D,B)}}function Xc(n,{initMapStateToProps:i,initMapDispatchToProps:o,initMergeProps:s,...l}){const c=i(n,l),d=o(n,l),p=s(n,l);return Yc(c,d,p,n,l)}function Jc(n,i){const o={};for(const s in n){const l=n[s];typeof l=="function"&&(o[s]=(...c)=>i(l(...c)))}return o}function Gi(n){return function(o){const s=n(o);function l(){return s}return l.dependsOnOwnProps=!1,l}}function jo(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function Ta(n,i){return function(s,{displayName:l}){const c=function(p,h){return c.dependsOnOwnProps?c.mapToProps(p,h):c.mapToProps(p,void 0)};return c.dependsOnOwnProps=!0,c.mapToProps=function(p,h){c.mapToProps=n,c.dependsOnOwnProps=jo(n);let g=c(p,h);return typeof g=="function"&&(c.mapToProps=g,c.dependsOnOwnProps=jo(g),g=c(p,h)),g},c}}function tr(n,i){return(o,s)=>{throw new Error(`Invalid value of type ${typeof n} for ${i} argument when connecting component ${s.wrappedComponentName}.`)}}function Qc(n){return n&&typeof n=="object"?Gi(i=>Jc(n,i)):n?typeof n=="function"?Ta(n):tr(n,"mapDispatchToProps"):Gi(i=>({dispatch:i}))}function tu(n){return n?typeof n=="function"?Ta(n):tr(n,"mapStateToProps"):Gi(()=>({}))}function eu(n,i,o){return{...o,...n,...i}}function nu(n){return function(o,{displayName:s,areMergedPropsEqual:l}){let c=!1,d;return function(h,g,v){const m=n(h,g,v);return c?l(m,d)||(d=m):(c=!0,d=m),d}}}function iu(n){return n?typeof n=="function"?nu(n):tr(n,"mergeProps"):()=>eu}function ru(n){n()}function ou(){let n=null,i=null;return{clear(){n=null,i=null},notify(){ru(()=>{let o=n;for(;o;)o.callback(),o=o.next})},get(){const o=[];let s=n;for(;s;)o.push(s),s=s.next;return o},subscribe(o){let s=!0;const l=i={callback:o,next:null,prev:i};return l.prev?l.prev.next=l:n=l,function(){!s||n===null||(s=!1,l.next?l.next.prev=l.prev:i=l.prev,l.prev?l.prev.next=l.next:n=l.next)}}}}var Ho={notify(){},get:()=>[]};function Ia(n,i){let o,s=Ho,l=0,c=!1;function d(C){v();const x=s.subscribe(C);let E=!1;return()=>{E||(E=!0,x(),m())}}function p(){s.notify()}function h(){S.onStateChange&&S.onStateChange()}function g(){return c}function v(){l++,o||(o=i?i.addNestedSub(h):n.subscribe(h),s=ou())}function m(){l--,o&&l===0&&(o(),o=void 0,s.clear(),s=Ho)}function _(){c||(c=!0,v())}function b(){c&&(c=!1,m())}const S={addNestedSub:d,notifyNestedSubs:p,handleChangeWrapper:h,isSubscribed:g,trySubscribe:_,tryUnsubscribe:b,getListeners:()=>s};return S}var au=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",su=au(),lu=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cu=lu(),uu=()=>su||cu?I.useLayoutEffect:I.useEffect,Mn=uu();function Go(n,i){return n===i?n!==0||i!==0||1/n===1/i:n!==n&&i!==i}function Ei(n,i){if(Go(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;const o=Object.keys(n),s=Object.keys(i);if(o.length!==s.length)return!1;for(let l=0;l<o.length;l++)if(!Object.prototype.hasOwnProperty.call(i,o[l])||!Go(n[o[l]],i[o[l]]))return!1;return!0}var du={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},hu={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},fu={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ka={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pu={[Vc]:fu,[qc]:ka};function Wo(n){return $c(n)?ka:pu[n.$$typeof]||du}var mu=Object.defineProperty,gu=Object.getOwnPropertyNames,Uo=Object.getOwnPropertySymbols,_u=Object.getOwnPropertyDescriptor,vu=Object.getPrototypeOf,Vo=Object.prototype;function Wi(n,i){if(typeof i!="string"){if(Vo){const c=vu(i);c&&c!==Vo&&Wi(n,c)}let o=gu(i);Uo&&(o=o.concat(Uo(i)));const s=Wo(n),l=Wo(i);for(let c=0;c<o.length;++c){const d=o[c];if(!hu[d]&&!(l&&l[d])&&!(s&&s[d])){const p=_u(i,d);try{mu(n,d,p)}catch{}}}}return n}var Ai=Symbol.for("react-redux-context"),Di=typeof globalThis<"u"?globalThis:{};function yu(){if(!I.createContext)return{};const n=Di[Ai]??(Di[Ai]=new Map);let i=n.get(I.createContext);return i||(i=I.createContext(null),n.set(I.createContext,i)),i}var Ea=yu(),bu=[null,null];function xu(n,i,o){Mn(()=>n(...i),o)}function wu(n,i,o,s,l,c){n.current=s,o.current=!1,l.current&&(l.current=null,c())}function Pu(n,i,o,s,l,c,d,p,h,g,v){if(!n)return()=>{};let m=!1,_=null;const b=()=>{if(m||!p.current)return;const C=i.getState();let x,E;try{x=s(C,l.current)}catch(A){E=A,_=A}E||(_=null),x===c.current?d.current||g():(c.current=x,h.current=x,d.current=!0,v())};return o.onStateChange=b,o.trySubscribe(),b(),()=>{if(m=!0,o.tryUnsubscribe(),o.onStateChange=null,_)throw _}}function Su(n,i){return n===i}function Lu(n,i,o,{pure:s,areStatesEqual:l=Su,areOwnPropsEqual:c=Ei,areStatePropsEqual:d=Ei,areMergedPropsEqual:p=Ei,forwardRef:h=!1,context:g=Ea}={}){const v=g,m=tu(n),_=Qc(i),b=iu(o),S=!!n;return x=>{const E=x.displayName||x.name||"Component",A=`Connect(${E})`,D={shouldHandleStateChanges:S,displayName:A,wrappedComponentName:E,WrappedComponent:x,initMapStateToProps:m,initMapDispatchToProps:_,initMergeProps:b,areStatesEqual:l,areStatePropsEqual:d,areOwnPropsEqual:c,areMergedPropsEqual:p};function B(J){const[$,ft,et]=I.useMemo(()=>{const{reactReduxForwardedRef:mt,...Kt}=J;return[J.context,mt,Kt]},[J]),K=I.useMemo(()=>{let mt=v;return $!=null&&$.Consumer,mt},[$,v]),rt=I.useContext(K),zt=!!J.store&&!!J.store.getState&&!!J.store.dispatch,Ct=!!rt&&!!rt.store,Et=zt?J.store:rt.store,xt=Ct?rt.getServerState:Et.getState,qt=I.useMemo(()=>Xc(Et.dispatch,D),[Et]),[H,Ae]=I.useMemo(()=>{if(!S)return bu;const mt=Ia(Et,zt?void 0:rt.subscription),Kt=mt.notifyNestedSubs.bind(mt);return[mt,Kt]},[Et,zt,rt]),G=I.useMemo(()=>zt?rt:{...rt,subscription:H},[zt,rt,H]),it=I.useRef(void 0),pt=I.useRef(et),ut=I.useRef(void 0),st=I.useRef(!1),Q=I.useRef(!1),V=I.useRef(void 0);Mn(()=>(Q.current=!0,()=>{Q.current=!1}),[]);const At=I.useMemo(()=>()=>ut.current&&et===pt.current?ut.current:qt(Et.getState(),et),[Et,et]),Ht=I.useMemo(()=>Kt=>H?Pu(S,Et,H,qt,pt,it,st,Q,ut,Ae,Kt):()=>{},[H]);xu(wu,[pt,it,st,et,ut,Ae]);let oe;try{oe=I.useSyncExternalStore(Ht,At,xt?()=>qt(xt(),et):At)}catch(mt){throw V.current&&(mt.message+=`
The error may be correlated with this previous error:
${V.current.stack}

`),mt}Mn(()=>{V.current=void 0,ut.current=void 0,it.current=oe});const ae=I.useMemo(()=>I.createElement(x,{...oe,ref:ft}),[ft,x,oe]);return I.useMemo(()=>S?I.createElement(K.Provider,{value:G},ae):ae,[K,ae,G])}const z=I.memo(B);if(z.WrappedComponent=x,z.displayName=B.displayName=A,h){const $=I.forwardRef(function(et,K){return I.createElement(z,{...et,reactReduxForwardedRef:K})});return $.displayName=A,$.WrappedComponent=x,Wi($,x)}return Wi(z,x)}}var Aa=Lu;function Cu(n){const{children:i,context:o,serverState:s,store:l}=n,c=I.useMemo(()=>{const h=Ia(l);return{store:l,subscription:h,getServerState:s?()=>s:void 0}},[l,s]),d=I.useMemo(()=>l.getState(),[l]);Mn(()=>{const{subscription:h}=c;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),d!==l.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[c,d]);const p=o||Ea;return I.createElement(p.Provider,{value:c},i)}var Tu=Cu,Iu="Invariant failed";function ku(n,i){throw new Error(Iu)}var jt=function(i){var o=i.top,s=i.right,l=i.bottom,c=i.left,d=s-c,p=l-o,h={top:o,right:s,bottom:l,left:c,width:d,height:p,x:c,y:o,center:{x:(s+c)/2,y:(l+o)/2}};return h},er=function(i,o){return{top:i.top-o.top,left:i.left-o.left,bottom:i.bottom+o.bottom,right:i.right+o.right}},qo=function(i,o){return{top:i.top+o.top,left:i.left+o.left,bottom:i.bottom-o.bottom,right:i.right-o.right}},Eu=function(i,o){return{top:i.top+o.y,left:i.left+o.x,bottom:i.bottom+o.y,right:i.right+o.x}},Mi={top:0,right:0,bottom:0,left:0},nr=function(i){var o=i.borderBox,s=i.margin,l=s===void 0?Mi:s,c=i.border,d=c===void 0?Mi:c,p=i.padding,h=p===void 0?Mi:p,g=jt(er(o,l)),v=jt(qo(o,d)),m=jt(qo(v,h));return{marginBox:g,borderBox:jt(o),paddingBox:v,contentBox:m,margin:l,border:d,padding:h}},Bt=function(i){var o=i.slice(0,-2),s=i.slice(-2);if(s!=="px")return 0;var l=Number(o);return isNaN(l)&&ku(),l},Au=function(){return{x:window.pageXOffset,y:window.pageYOffset}},On=function(i,o){var s=i.borderBox,l=i.border,c=i.margin,d=i.padding,p=Eu(s,o);return nr({borderBox:p,border:l,margin:c,padding:d})},Bn=function(i,o){return o===void 0&&(o=Au()),On(i,o)},Da=function(i,o){var s={top:Bt(o.marginTop),right:Bt(o.marginRight),bottom:Bt(o.marginBottom),left:Bt(o.marginLeft)},l={top:Bt(o.paddingTop),right:Bt(o.paddingRight),bottom:Bt(o.paddingBottom),left:Bt(o.paddingLeft)},c={top:Bt(o.borderTopWidth),right:Bt(o.borderRightWidth),bottom:Bt(o.borderBottomWidth),left:Bt(o.borderLeftWidth)};return nr({borderBox:i,margin:s,padding:l,border:c})},Ma=function(i){var o=i.getBoundingClientRect(),s=window.getComputedStyle(i);return Da(o,s)},Ye=function(i){var o=[],s=null,l=function(){for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];o=p,!s&&(s=requestAnimationFrame(function(){s=null,i.apply(void 0,o)}))};return l.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},l};function Rn(){return Rn=Object.assign?Object.assign.bind():function(n){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var s in o)({}).hasOwnProperty.call(o,s)&&(n[s]=o[s])}return n},Rn.apply(null,arguments)}function Oa(n,i){}Oa.bind(null,"warn");Oa.bind(null,"error");function ne(){}function Du(n,i){return{...n,...i}}function Rt(n,i,o){const s=i.map(l=>{const c=Du(o,l.options);return n.addEventListener(l.eventName,l.fn,c),function(){n.removeEventListener(l.eventName,l.fn,c)}});return function(){s.forEach(c=>{c()})}}const Mu="Invariant failed";class Nn extends Error{}Nn.prototype.toString=function(){return this.message};function M(n,i){throw new Nn(Mu)}class Ou extends at.Component{constructor(...i){super(...i),this.callbacks=null,this.unbind=ne,this.onWindowError=o=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),o.error instanceof Nn&&o.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=o=>{this.callbacks=o}}componentDidMount(){this.unbind=Rt(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(i){if(i instanceof Nn){this.setState({});return}throw i}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Bu=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,zn=n=>n+1,Ru=n=>`
  You have lifted an item in position ${zn(n.source.index)}
`,Ba=(n,i)=>{const o=n.droppableId===i.droppableId,s=zn(n.index),l=zn(i.index);return o?`
      You have moved the item from position ${s}
      to position ${l}
    `:`
    You have moved the item from position ${s}
    in list ${n.droppableId}
    to list ${i.droppableId}
    in position ${l}
  `},Ra=(n,i,o)=>i.droppableId===o.droppableId?`
      The item ${n}
      has been combined with ${o.draggableId}`:`
      The item ${n}
      in list ${i.droppableId}
      has been combined with ${o.draggableId}
      in list ${o.droppableId}
    `,Nu=n=>{const i=n.destination;if(i)return Ba(n.source,i);const o=n.combine;return o?Ra(n.draggableId,n.source,o):"You are over an area that cannot be dropped on"},Ko=n=>`
  The item has returned to its starting position
  of ${zn(n.index)}
`,zu=n=>{if(n.reason==="CANCEL")return`
      Movement cancelled.
      ${Ko(n.source)}
    `;const i=n.destination,o=n.combine;return i?`
      You have dropped the item.
      ${Ba(n.source,i)}
    `:o?`
      You have dropped the item.
      ${Ra(n.draggableId,n.source,o)}
    `:`
    The item has been dropped while not over a drop area.
    ${Ko(n.source)}
  `},Dn={dragHandleUsageInstructions:Bu,onDragStart:Ru,onDragUpdate:Nu,onDragEnd:zu};function Fu(n,i){return!!(n===i||Number.isNaN(n)&&Number.isNaN(i))}function Na(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(!Fu(n[o],i[o]))return!1;return!0}function X(n,i){const o=I.useState(()=>({inputs:i,result:n()}))[0],s=I.useRef(!0),l=I.useRef(o),d=s.current||!!(i&&l.current.inputs&&Na(i,l.current.inputs))?l.current:{inputs:i,result:n()};return I.useEffect(()=>{s.current=!1,l.current=d},[d]),d.result}function F(n,i){return X(()=>n,i)}const vt={x:0,y:0},bt=(n,i)=>({x:n.x+i.x,y:n.y+i.y}),Tt=(n,i)=>({x:n.x-i.x,y:n.y-i.y}),ie=(n,i)=>n.x===i.x&&n.y===i.y,Ie=n=>({x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}),pe=(n,i,o=0)=>n==="x"?{x:i,y:o}:{x:o,y:i},Xe=(n,i)=>Math.sqrt((i.x-n.x)**2+(i.y-n.y)**2),$o=(n,i)=>Math.min(...i.map(o=>Xe(n,o))),za=n=>i=>({x:n(i.x),y:n(i.y)});var Zu=(n,i)=>{const o=jt({top:Math.max(i.top,n.top),right:Math.min(i.right,n.right),bottom:Math.min(i.bottom,n.bottom),left:Math.max(i.left,n.left)});return o.width<=0||o.height<=0?null:o};const on=(n,i)=>({top:n.top+i.y,left:n.left+i.x,bottom:n.bottom+i.y,right:n.right+i.x}),Yo=n=>[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.left,y:n.bottom},{x:n.right,y:n.bottom}],ju={top:0,right:0,bottom:0,left:0},Hu=(n,i)=>i?on(n,i.scroll.diff.displacement):n,Gu=(n,i,o)=>o&&o.increasedBy?{...n,[i.end]:n[i.end]+o.increasedBy[i.line]}:n,Wu=(n,i)=>i&&i.shouldClipSubject?Zu(i.pageMarginBox,n):jt(n);var Le=({page:n,withPlaceholder:i,axis:o,frame:s})=>{const l=Hu(n.marginBox,s),c=Gu(l,o,i),d=Wu(c,s);return{page:n,withPlaceholder:i,active:d}},ir=(n,i)=>{n.frame||M();const o=n.frame,s=Tt(i,o.scroll.initial),l=Ie(s),c={...o,scroll:{initial:o.scroll.initial,current:i,diff:{value:s,displacement:l},max:o.scroll.max}},d=Le({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:c});return{...n,frame:c,subject:d}};function _t(n,i=Na){let o=null;function s(...l){if(o&&o.lastThis===this&&i(l,o.lastArgs))return o.lastResult;const c=n.apply(this,l);return o={lastResult:c,lastArgs:l,lastThis:this},c}return s.clear=function(){o=null},s}const Fa=_t(n=>n.reduce((i,o)=>(i[o.descriptor.id]=o,i),{})),Za=_t(n=>n.reduce((i,o)=>(i[o.descriptor.id]=o,i),{})),Gn=_t(n=>Object.values(n)),Uu=_t(n=>Object.values(n));var ke=_t((n,i)=>Uu(i).filter(s=>n===s.descriptor.droppableId).sort((s,l)=>s.descriptor.index-l.descriptor.index));function rr(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function Wn(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var Un=_t((n,i)=>i.filter(o=>o.descriptor.id!==n.descriptor.id)),Vu=({isMovingForward:n,draggable:i,destination:o,insideDestination:s,previousImpact:l})=>{if(!o.isCombineEnabled||!rr(l))return null;function d(b){const S={type:"COMBINE",combine:{draggableId:b,droppableId:o.descriptor.id}};return{...l,at:S}}const p=l.displaced.all,h=p.length?p[0]:null;if(n)return h?d(h):null;const g=Un(i,s);if(!h){if(!g.length)return null;const b=g[g.length-1];return d(b.descriptor.id)}const v=g.findIndex(b=>b.descriptor.id===h);v===-1&&M();const m=v-1;if(m<0)return null;const _=g[m];return d(_.descriptor.id)},Ee=(n,i)=>n.descriptor.droppableId===i.descriptor.id;const ja={point:vt,value:0},Je={invisible:{},visible:{},all:[]},qu={displaced:Je,displacedBy:ja,at:null};var Nt=(n,i)=>o=>n<=o&&o<=i,Ha=n=>{const i=Nt(n.top,n.bottom),o=Nt(n.left,n.right);return s=>{if(i(s.top)&&i(s.bottom)&&o(s.left)&&o(s.right))return!0;const c=i(s.top)||i(s.bottom),d=o(s.left)||o(s.right);if(c&&d)return!0;const h=s.top<n.top&&s.bottom>n.bottom,g=s.left<n.left&&s.right>n.right;return h&&g?!0:h&&d||g&&c}},Ku=n=>{const i=Nt(n.top,n.bottom),o=Nt(n.left,n.right);return s=>i(s.top)&&i(s.bottom)&&o(s.left)&&o(s.right)};const or={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ga={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var $u=n=>i=>{const o=Nt(i.top,i.bottom),s=Nt(i.left,i.right);return l=>n===or?o(l.top)&&o(l.bottom):s(l.left)&&s(l.right)};const Yu=(n,i)=>{const o=i.frame?i.frame.scroll.diff.displacement:vt;return on(n,o)},Xu=(n,i,o)=>i.subject.active?o(i.subject.active)(n):!1,Ju=(n,i,o)=>o(i)(n),ar=({target:n,destination:i,viewport:o,withDroppableDisplacement:s,isVisibleThroughFrameFn:l})=>{const c=s?Yu(n,i):n;return Xu(c,i,l)&&Ju(c,o,l)},Qu=n=>ar({...n,isVisibleThroughFrameFn:Ha}),Wa=n=>ar({...n,isVisibleThroughFrameFn:Ku}),td=n=>ar({...n,isVisibleThroughFrameFn:$u(n.destination.axis)}),ed=(n,i,o)=>{if(typeof o=="boolean")return o;if(!i)return!0;const{invisible:s,visible:l}=i;if(s[n])return!1;const c=l[n];return c?c.shouldAnimate:!0};function nd(n,i){const o=n.page.marginBox,s={top:i.point.y,right:0,bottom:0,left:i.point.x};return jt(er(o,s))}function Qe({afterDragging:n,destination:i,displacedBy:o,viewport:s,forceShouldAnimate:l,last:c}){return n.reduce(function(p,h){const g=nd(h,o),v=h.descriptor.id;if(p.all.push(v),!Qu({target:g,destination:i,viewport:s,withDroppableDisplacement:!0}))return p.invisible[h.descriptor.id]=!0,p;const _=ed(v,c,l),b={draggableId:v,shouldAnimate:_};return p.visible[v]=b,p},{all:[],visible:{},invisible:{}})}function id(n,i){if(!n.length)return 0;const o=n[n.length-1].descriptor.index;return i.inHomeList?o:o+1}function Xo({insideDestination:n,inHomeList:i,displacedBy:o,destination:s}){const l=id(n,{inHomeList:i});return{displaced:Je,displacedBy:o,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:l}}}}function Fn({draggable:n,insideDestination:i,destination:o,viewport:s,displacedBy:l,last:c,index:d,forceShouldAnimate:p}){const h=Ee(n,o);if(d==null)return Xo({insideDestination:i,inHomeList:h,displacedBy:l,destination:o});const g=i.find(S=>S.descriptor.index===d);if(!g)return Xo({insideDestination:i,inHomeList:h,displacedBy:l,destination:o});const v=Un(n,i),m=i.indexOf(g),_=v.slice(m);return{displaced:Qe({afterDragging:_,destination:o,displacedBy:l,last:c,viewport:s.frame,forceShouldAnimate:p}),displacedBy:l,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:d}}}}function re(n,i){return!!i.effected[n]}var rd=({isMovingForward:n,destination:i,draggables:o,combine:s,afterCritical:l})=>{if(!i.isCombineEnabled)return null;const c=s.draggableId,p=o[c].descriptor.index;return re(c,l)?n?p:p-1:n?p+1:p},od=({isMovingForward:n,isInHomeList:i,insideDestination:o,location:s})=>{if(!o.length)return null;const l=s.index,c=n?l+1:l-1,d=o[0].descriptor.index,p=o[o.length-1].descriptor.index,h=i?p:p+1;return c<d||c>h?null:c},ad=({isMovingForward:n,isInHomeList:i,draggable:o,draggables:s,destination:l,insideDestination:c,previousImpact:d,viewport:p,afterCritical:h})=>{const g=d.at;if(g||M(),g.type==="REORDER"){const m=od({isMovingForward:n,isInHomeList:i,location:g.destination,insideDestination:c});return m==null?null:Fn({draggable:o,insideDestination:c,destination:l,viewport:p,last:d.displaced,displacedBy:d.displacedBy,index:m})}const v=rd({isMovingForward:n,destination:l,displaced:d.displaced,draggables:s,combine:g.combine,afterCritical:h});return v==null?null:Fn({draggable:o,insideDestination:c,destination:l,viewport:p,last:d.displaced,displacedBy:d.displacedBy,index:v})},sd=({displaced:n,afterCritical:i,combineWith:o,displacedBy:s})=>{const l=!!(n.visible[o]||n.invisible[o]);return re(o,i)?l?vt:Ie(s.point):l?s.point:vt},ld=({afterCritical:n,impact:i,draggables:o})=>{const s=Wn(i);s||M();const l=s.draggableId,c=o[l].page.borderBox.center,d=sd({displaced:i.displaced,afterCritical:n,combineWith:l,displacedBy:i.displacedBy});return bt(c,d)};const Ua=(n,i)=>i.margin[n.start]+i.borderBox[n.size]/2,cd=(n,i)=>i.margin[n.end]+i.borderBox[n.size]/2,sr=(n,i,o)=>i[n.crossAxisStart]+o.margin[n.crossAxisStart]+o.borderBox[n.crossAxisSize]/2,Jo=({axis:n,moveRelativeTo:i,isMoving:o})=>pe(n.line,i.marginBox[n.end]+Ua(n,o),sr(n,i.marginBox,o)),Qo=({axis:n,moveRelativeTo:i,isMoving:o})=>pe(n.line,i.marginBox[n.start]-cd(n,o),sr(n,i.marginBox,o)),ud=({axis:n,moveInto:i,isMoving:o})=>pe(n.line,i.contentBox[n.start]+Ua(n,o),sr(n,i.contentBox,o));var dd=({impact:n,draggable:i,draggables:o,droppable:s,afterCritical:l})=>{const c=ke(s.descriptor.id,o),d=i.page,p=s.axis;if(!c.length)return ud({axis:p,moveInto:s.page,isMoving:d});const{displaced:h,displacedBy:g}=n,v=h.all[0];if(v){const _=o[v];if(re(v,l))return Qo({axis:p,moveRelativeTo:_.page,isMoving:d});const b=On(_.page,g.point);return Qo({axis:p,moveRelativeTo:b,isMoving:d})}const m=c[c.length-1];if(m.descriptor.id===i.descriptor.id)return d.borderBox.center;if(re(m.descriptor.id,l)){const _=On(m.page,Ie(l.displacedBy.point));return Jo({axis:p,moveRelativeTo:_,isMoving:d})}return Jo({axis:p,moveRelativeTo:m.page,isMoving:d})},Ui=(n,i)=>{const o=n.frame;return o?bt(i,o.scroll.diff.displacement):i};const hd=({impact:n,draggable:i,droppable:o,draggables:s,afterCritical:l})=>{const c=i.page.borderBox.center,d=n.at;return!o||!d?c:d.type==="REORDER"?dd({impact:n,draggable:i,draggables:s,droppable:o,afterCritical:l}):ld({impact:n,draggables:s,afterCritical:l})};var Vn=n=>{const i=hd(n),o=n.droppable;return o?Ui(o,i):i},Va=(n,i)=>{const o=Tt(i,n.scroll.initial),s=Ie(o);return{frame:jt({top:i.y,bottom:i.y+n.frame.height,left:i.x,right:i.x+n.frame.width}),scroll:{initial:n.scroll.initial,max:n.scroll.max,current:i,diff:{value:o,displacement:s}}}};function ta(n,i){return n.map(o=>i[o])}function fd(n,i){for(let o=0;o<i.length;o++){const s=i[o].visible[n];if(s)return s}return null}var pd=({impact:n,viewport:i,destination:o,draggables:s,maxScrollChange:l})=>{const c=Va(i,bt(i.scroll.current,l)),d=o.frame?ir(o,bt(o.frame.scroll.current,l)):o,p=n.displaced,h=Qe({afterDragging:ta(p.all,s),destination:o,displacedBy:n.displacedBy,viewport:c.frame,last:p,forceShouldAnimate:!1}),g=Qe({afterDragging:ta(p.all,s),destination:d,displacedBy:n.displacedBy,viewport:i.frame,last:p,forceShouldAnimate:!1}),v={},m={},_=[p,h,g];return p.all.forEach(S=>{const C=fd(S,_);if(C){m[S]=C;return}v[S]=!0}),{...n,displaced:{all:p.all,invisible:v,visible:m}}},md=(n,i)=>bt(n.scroll.diff.displacement,i),lr=({pageBorderBoxCenter:n,draggable:i,viewport:o})=>{const s=md(o,n),l=Tt(s,i.page.borderBox.center);return bt(i.client.borderBox.center,l)},qa=({draggable:n,destination:i,newPageBorderBoxCenter:o,viewport:s,withDroppableDisplacement:l,onlyOnMainAxis:c=!1})=>{const d=Tt(o,n.page.borderBox.center),h={target:on(n.page.borderBox,d),destination:i,withDroppableDisplacement:l,viewport:s};return c?td(h):Wa(h)},gd=({isMovingForward:n,draggable:i,destination:o,draggables:s,previousImpact:l,viewport:c,previousPageBorderBoxCenter:d,previousClientSelection:p,afterCritical:h})=>{if(!o.isEnabled)return null;const g=ke(o.descriptor.id,s),v=Ee(i,o),m=Vu({isMovingForward:n,draggable:i,destination:o,insideDestination:g,previousImpact:l})||ad({isMovingForward:n,isInHomeList:v,draggable:i,draggables:s,destination:o,insideDestination:g,previousImpact:l,viewport:c,afterCritical:h});if(!m)return null;const _=Vn({impact:m,draggable:i,droppable:o,draggables:s,afterCritical:h});if(qa({draggable:i,destination:o,newPageBorderBoxCenter:_,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:lr({pageBorderBoxCenter:_,draggable:i,viewport:c}),impact:m,scrollJumpRequest:null};const S=Tt(_,d),C=pd({impact:m,viewport:c,destination:o,draggables:s,maxScrollChange:S});return{clientSelection:p,impact:C,scrollJumpRequest:S}};const Pt=n=>{const i=n.subject.active;return i||M(),i};var _d=({isMovingForward:n,pageBorderBoxCenter:i,source:o,droppables:s,viewport:l})=>{const c=o.subject.active;if(!c)return null;const d=o.axis,p=Nt(c[d.start],c[d.end]),h=Gn(s).filter(v=>v!==o).filter(v=>v.isEnabled).filter(v=>!!v.subject.active).filter(v=>Ha(l.frame)(Pt(v))).filter(v=>{const m=Pt(v);return n?c[d.crossAxisEnd]<m[d.crossAxisEnd]:m[d.crossAxisStart]<c[d.crossAxisStart]}).filter(v=>{const m=Pt(v),_=Nt(m[d.start],m[d.end]);return p(m[d.start])||p(m[d.end])||_(c[d.start])||_(c[d.end])}).sort((v,m)=>{const _=Pt(v)[d.crossAxisStart],b=Pt(m)[d.crossAxisStart];return n?_-b:b-_}).filter((v,m,_)=>Pt(v)[d.crossAxisStart]===Pt(_[0])[d.crossAxisStart]);if(!h.length)return null;if(h.length===1)return h[0];const g=h.filter(v=>Nt(Pt(v)[d.start],Pt(v)[d.end])(i[d.line]));return g.length===1?g[0]:g.length>1?g.sort((v,m)=>Pt(v)[d.start]-Pt(m)[d.start])[0]:h.sort((v,m)=>{const _=$o(i,Yo(Pt(v))),b=$o(i,Yo(Pt(m)));return _!==b?_-b:Pt(v)[d.start]-Pt(m)[d.start]})[0]};const ea=(n,i)=>{const o=n.page.borderBox.center;return re(n.descriptor.id,i)?Tt(o,i.displacedBy.point):o},vd=(n,i)=>{const o=n.page.borderBox;return re(n.descriptor.id,i)?on(o,Ie(i.displacedBy.point)):o};var yd=({pageBorderBoxCenter:n,viewport:i,destination:o,insideDestination:s,afterCritical:l})=>s.filter(d=>Wa({target:vd(d,l),destination:o,viewport:i.frame,withDroppableDisplacement:!0})).sort((d,p)=>{const h=Xe(n,Ui(o,ea(d,l))),g=Xe(n,Ui(o,ea(p,l)));return h<g?-1:g<h?1:d.descriptor.index-p.descriptor.index})[0]||null,an=_t(function(i,o){const s=o[i.line];return{value:s,point:pe(i.line,s)}});const bd=(n,i,o)=>{const s=n.axis;if(n.descriptor.mode==="virtual")return pe(s.line,i[s.line]);const l=n.subject.page.contentBox[s.size],h=ke(n.descriptor.id,o).reduce((g,v)=>g+v.client.marginBox[s.size],0)+i[s.line]-l;return h<=0?null:pe(s.line,h)},Ka=(n,i)=>({...n,scroll:{...n.scroll,max:i}}),$a=(n,i,o)=>{const s=n.frame;Ee(i,n)&&M(),n.subject.withPlaceholder&&M();const l=an(n.axis,i.displaceBy).point,c=bd(n,l,o),d={placeholderSize:l,increasedBy:c,oldFrameMaxScroll:n.frame?n.frame.scroll.max:null};if(!s){const v=Le({page:n.subject.page,withPlaceholder:d,axis:n.axis,frame:n.frame});return{...n,subject:v}}const p=c?bt(s.scroll.max,c):s.scroll.max,h=Ka(s,p),g=Le({page:n.subject.page,withPlaceholder:d,axis:n.axis,frame:h});return{...n,subject:g,frame:h}},xd=n=>{const i=n.subject.withPlaceholder;i||M();const o=n.frame;if(!o){const d=Le({page:n.subject.page,axis:n.axis,frame:null,withPlaceholder:null});return{...n,subject:d}}const s=i.oldFrameMaxScroll;s||M();const l=Ka(o,s),c=Le({page:n.subject.page,axis:n.axis,frame:l,withPlaceholder:null});return{...n,subject:c,frame:l}};var wd=({previousPageBorderBoxCenter:n,moveRelativeTo:i,insideDestination:o,draggable:s,draggables:l,destination:c,viewport:d,afterCritical:p})=>{if(!i){if(o.length)return null;const m={displaced:Je,displacedBy:ja,at:{type:"REORDER",destination:{droppableId:c.descriptor.id,index:0}}},_=Vn({impact:m,draggable:s,droppable:c,draggables:l,afterCritical:p}),b=Ee(s,c)?c:$a(c,s,l);return qa({draggable:s,destination:b,newPageBorderBoxCenter:_,viewport:d.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?m:null}const h=n[c.axis.line]<=i.page.borderBox.center[c.axis.line],g=(()=>{const m=i.descriptor.index;return i.descriptor.id===s.descriptor.id||h?m:m+1})(),v=an(c.axis,s.displaceBy);return Fn({draggable:s,insideDestination:o,destination:c,viewport:d,displacedBy:v,last:Je,index:g})},Pd=({isMovingForward:n,previousPageBorderBoxCenter:i,draggable:o,isOver:s,draggables:l,droppables:c,viewport:d,afterCritical:p})=>{const h=_d({isMovingForward:n,pageBorderBoxCenter:i,source:s,droppables:c,viewport:d});if(!h)return null;const g=ke(h.descriptor.id,l),v=yd({pageBorderBoxCenter:i,viewport:d,destination:h,insideDestination:g,afterCritical:p}),m=wd({previousPageBorderBoxCenter:i,destination:h,draggable:o,draggables:l,moveRelativeTo:v,insideDestination:g,viewport:d,afterCritical:p});if(!m)return null;const _=Vn({impact:m,draggable:o,droppable:h,draggables:l,afterCritical:p});return{clientSelection:lr({pageBorderBoxCenter:_,draggable:o,viewport:d}),impact:m,scrollJumpRequest:null}},It=n=>{const i=n.at;return i?i.type==="REORDER"?i.destination.droppableId:i.combine.droppableId:null};const Sd=(n,i)=>{const o=It(n);return o?i[o]:null};var Ld=({state:n,type:i})=>{const o=Sd(n.impact,n.dimensions.droppables),s=!!o,l=n.dimensions.droppables[n.critical.droppable.id],c=o||l,d=c.axis.direction,p=d==="vertical"&&(i==="MOVE_UP"||i==="MOVE_DOWN")||d==="horizontal"&&(i==="MOVE_LEFT"||i==="MOVE_RIGHT");if(p&&!s)return null;const h=i==="MOVE_DOWN"||i==="MOVE_RIGHT",g=n.dimensions.draggables[n.critical.draggable.id],v=n.current.page.borderBoxCenter,{draggables:m,droppables:_}=n.dimensions;return p?gd({isMovingForward:h,previousPageBorderBoxCenter:v,draggable:g,destination:c,draggables:m,viewport:n.viewport,previousClientSelection:n.current.client.selection,previousImpact:n.impact,afterCritical:n.afterCritical}):Pd({isMovingForward:h,previousPageBorderBoxCenter:v,draggable:g,isOver:c,draggables:m,droppables:_,viewport:n.viewport,afterCritical:n.afterCritical})};function fe(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function Ya(n){const i=Nt(n.top,n.bottom),o=Nt(n.left,n.right);return function(l){return i(l.y)&&o(l.x)}}function Cd(n,i){return n.left<i.right&&n.right>i.left&&n.top<i.bottom&&n.bottom>i.top}function Td({pageBorderBox:n,draggable:i,candidates:o}){const s=i.page.borderBox.center,l=o.map(c=>{const d=c.axis,p=pe(c.axis.line,n.center[d.line],c.page.borderBox.center[d.crossAxisLine]);return{id:c.descriptor.id,distance:Xe(s,p)}}).sort((c,d)=>d.distance-c.distance);return l[0]?l[0].id:null}function Id({pageBorderBox:n,draggable:i,droppables:o}){const s=Gn(o).filter(l=>{if(!l.isEnabled)return!1;const c=l.subject.active;if(!c||!Cd(n,c))return!1;if(Ya(c)(n.center))return!0;const d=l.axis,p=c.center[d.crossAxisLine],h=n[d.crossAxisStart],g=n[d.crossAxisEnd],v=Nt(c[d.crossAxisStart],c[d.crossAxisEnd]),m=v(h),_=v(g);return!m&&!_?!0:m?h<p:g>p});return s.length?s.length===1?s[0].descriptor.id:Td({pageBorderBox:n,draggable:i,candidates:s}):null}const Xa=(n,i)=>jt(on(n,i));var kd=(n,i)=>{const o=n.frame;return o?Xa(i,o.scroll.diff.value):i};function Ja({displaced:n,id:i}){return!!(n.visible[i]||n.invisible[i])}function Ed({draggable:n,closest:i,inHomeList:o}){return i?o&&i.descriptor.index>n.descriptor.index?i.descriptor.index-1:i.descriptor.index:null}var Ad=({pageBorderBoxWithDroppableScroll:n,draggable:i,destination:o,insideDestination:s,last:l,viewport:c,afterCritical:d})=>{const p=o.axis,h=an(o.axis,i.displaceBy),g=h.value,v=n[p.start],m=n[p.end],b=Un(i,s).find(C=>{const x=C.descriptor.id,E=C.page.borderBox.center[p.line],A=re(x,d),D=Ja({displaced:l,id:x});return A?D?m<=E:v<E-g:D?m<=E+g:v<E})||null,S=Ed({draggable:i,closest:b,inHomeList:Ee(i,o)});return Fn({draggable:i,insideDestination:s,destination:o,viewport:c,last:l,displacedBy:h,index:S})};const Dd=4;var Md=({draggable:n,pageBorderBoxWithDroppableScroll:i,previousImpact:o,destination:s,insideDestination:l,afterCritical:c})=>{if(!s.isCombineEnabled)return null;const d=s.axis,p=an(s.axis,n.displaceBy),h=p.value,g=i[d.start],v=i[d.end],_=Un(n,l).find(S=>{const C=S.descriptor.id,x=S.page.borderBox,A=x[d.size]/Dd,D=re(C,c),B=Ja({displaced:o.displaced,id:C});return D?B?v>x[d.start]+A&&v<x[d.end]-A:g>x[d.start]-h+A&&g<x[d.end]-h-A:B?v>x[d.start]+h+A&&v<x[d.end]+h-A:g>x[d.start]+A&&g<x[d.end]-A});return _?{displacedBy:p,displaced:o.displaced,at:{type:"COMBINE",combine:{draggableId:_.descriptor.id,droppableId:s.descriptor.id}}}:null},Qa=({pageOffset:n,draggable:i,draggables:o,droppables:s,previousImpact:l,viewport:c,afterCritical:d})=>{const p=Xa(i.page.borderBox,n),h=Id({pageBorderBox:p,draggable:i,droppables:s});if(!h)return qu;const g=s[h],v=ke(g.descriptor.id,o),m=kd(g,p);return Md({pageBorderBoxWithDroppableScroll:m,draggable:i,previousImpact:l,destination:g,insideDestination:v,afterCritical:d})||Ad({pageBorderBoxWithDroppableScroll:m,draggable:i,destination:g,insideDestination:v,last:l.displaced,viewport:c,afterCritical:d})},cr=(n,i)=>({...n,[i.descriptor.id]:i});const Od=({previousImpact:n,impact:i,droppables:o})=>{const s=It(n),l=It(i);if(!s||s===l)return o;const c=o[s];if(!c.subject.withPlaceholder)return o;const d=xd(c);return cr(o,d)};var Bd=({draggable:n,draggables:i,droppables:o,previousImpact:s,impact:l})=>{const c=Od({previousImpact:s,impact:l,droppables:o}),d=It(l);if(!d)return c;const p=o[d];if(Ee(n,p)||p.subject.withPlaceholder)return c;const h=$a(p,n,i);return cr(c,h)},Ke=({state:n,clientSelection:i,dimensions:o,viewport:s,impact:l,scrollJumpRequest:c})=>{const d=s||n.viewport,p=o||n.dimensions,h=i||n.current.client.selection,g=Tt(h,n.initial.client.selection),v={offset:g,selection:h,borderBoxCenter:bt(n.initial.client.borderBoxCenter,g)},m={selection:bt(v.selection,d.scroll.current),borderBoxCenter:bt(v.borderBoxCenter,d.scroll.current),offset:bt(v.offset,d.scroll.diff.value)},_={client:v,page:m};if(n.phase==="COLLECTING")return{...n,dimensions:p,viewport:d,current:_};const b=p.draggables[n.critical.draggable.id],S=l||Qa({pageOffset:m.offset,draggable:b,draggables:p.draggables,droppables:p.droppables,previousImpact:n.impact,viewport:d,afterCritical:n.afterCritical}),C=Bd({draggable:b,impact:S,previousImpact:n.impact,draggables:p.draggables,droppables:p.droppables});return{...n,current:_,dimensions:{draggables:p.draggables,droppables:C},impact:S,viewport:d,scrollJumpRequest:c||null,forceShouldAnimate:c?!1:null}};function Rd(n,i){return n.map(o=>i[o])}var ts=({impact:n,viewport:i,draggables:o,destination:s,forceShouldAnimate:l})=>{const c=n.displaced,d=Rd(c.all,o),p=Qe({afterDragging:d,destination:s,displacedBy:n.displacedBy,viewport:i.frame,forceShouldAnimate:l,last:c});return{...n,displaced:p}},es=({impact:n,draggable:i,droppable:o,draggables:s,viewport:l,afterCritical:c})=>{const d=Vn({impact:n,draggable:i,draggables:s,droppable:o,afterCritical:c});return lr({pageBorderBoxCenter:d,draggable:i,viewport:l})},ns=({state:n,dimensions:i,viewport:o})=>{n.movementMode!=="SNAP"&&M();const s=n.impact,l=o||n.viewport,c=i||n.dimensions,{draggables:d,droppables:p}=c,h=d[n.critical.draggable.id],g=It(s);g||M();const v=p[g],m=ts({impact:s,viewport:l,destination:v,draggables:d}),_=es({impact:m,draggable:h,droppable:v,draggables:d,viewport:l,afterCritical:n.afterCritical});return Ke({impact:m,clientSelection:_,state:n,dimensions:c,viewport:l})},Nd=n=>({index:n.index,droppableId:n.droppableId}),is=({draggable:n,home:i,draggables:o,viewport:s})=>{const l=an(i.axis,n.displaceBy),c=ke(i.descriptor.id,o),d=c.indexOf(n);d===-1&&M();const p=c.slice(d+1),h=p.reduce((_,b)=>(_[b.descriptor.id]=!0,_),{}),g={inVirtualList:i.descriptor.mode==="virtual",displacedBy:l,effected:h};return{impact:{displaced:Qe({afterDragging:p,destination:i,displacedBy:l,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:l,at:{type:"REORDER",destination:Nd(n.descriptor)}},afterCritical:g}},zd=(n,i)=>({draggables:n.draggables,droppables:cr(n.droppables,i)}),Fd=({draggable:n,offset:i,initialWindowScroll:o})=>{const s=On(n.client,i),l=Bn(s,o);return{...n,placeholder:{...n.placeholder,client:s},client:s,page:l}},Zd=n=>{const i=n.frame;return i||M(),i},jd=({additions:n,updatedDroppables:i,viewport:o})=>{const s=o.scroll.diff.value;return n.map(l=>{const c=l.descriptor.droppableId,d=i[c],h=Zd(d).scroll.diff.value,g=bt(s,h);return Fd({draggable:l,offset:g,initialWindowScroll:o.scroll.initial})})},Hd=({state:n,published:i})=>{const o=i.modified.map(E=>{const A=n.dimensions.droppables[E.droppableId];return ir(A,E.scroll)}),s={...n.dimensions.droppables,...Fa(o)},l=Za(jd({additions:i.additions,updatedDroppables:s,viewport:n.viewport})),c={...n.dimensions.draggables,...l};i.removals.forEach(E=>{delete c[E]});const d={droppables:s,draggables:c},p=It(n.impact),h=p?d.droppables[p]:null,g=d.draggables[n.critical.draggable.id],v=d.droppables[n.critical.droppable.id],{impact:m,afterCritical:_}=is({draggable:g,home:v,draggables:c,viewport:n.viewport}),b=h&&h.isCombineEnabled?n.impact:m,S=Qa({pageOffset:n.current.page.offset,draggable:d.draggables[n.critical.draggable.id],draggables:d.draggables,droppables:d.droppables,previousImpact:b,viewport:n.viewport,afterCritical:_}),C={...n,phase:"DRAGGING",impact:S,onLiftImpact:m,dimensions:d,afterCritical:_,forceShouldAnimate:!1};return n.phase==="COLLECTING"?C:{...C,phase:"DROP_PENDING",reason:n.reason,isWaiting:!1}};const Vi=n=>n.movementMode==="SNAP",Oi=(n,i,o)=>{const s=zd(n.dimensions,i);return!Vi(n)||o?Ke({state:n,dimensions:s}):ns({state:n,dimensions:s})};function Bi(n){return n.isDragging&&n.movementMode==="SNAP"?{...n,scrollJumpRequest:null}:n}const na={phase:"IDLE",completed:null,shouldFlush:!1};var Gd=(n=na,i)=>{if(i.type==="FLUSH")return{...na,shouldFlush:!0};if(i.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&M();const{critical:o,clientSelection:s,viewport:l,dimensions:c,movementMode:d}=i.payload,p=c.draggables[o.draggable.id],h=c.droppables[o.droppable.id],g={selection:s,borderBoxCenter:p.client.borderBox.center,offset:vt},v={client:g,page:{selection:bt(g.selection,l.scroll.initial),borderBoxCenter:bt(g.selection,l.scroll.initial),offset:bt(g.selection,l.scroll.diff.value)}},m=Gn(c.droppables).every(C=>!C.isFixedOnPage),{impact:_,afterCritical:b}=is({draggable:p,home:h,draggables:c.draggables,viewport:l});return{phase:"DRAGGING",isDragging:!0,critical:o,movementMode:d,dimensions:c,initial:v,current:v,isWindowScrollAllowed:m,impact:_,afterCritical:b,onLiftImpact:_,viewport:l,scrollJumpRequest:null,forceShouldAnimate:null}}if(i.type==="COLLECTION_STARTING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"?n:(n.phase!=="DRAGGING"&&M(),{...n,phase:"COLLECTING"});if(i.type==="PUBLISH_WHILE_DRAGGING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"||M(),Hd({state:n,published:i.payload});if(i.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;fe(n)||M();const{client:o}=i.payload;return ie(o,n.current.client.selection)?n:Ke({state:n,clientSelection:o,impact:Vi(n)?n.impact:null})}if(i.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return Bi(n);fe(n)||M();const{id:o,newScroll:s}=i.payload,l=n.dimensions.droppables[o];if(!l)return n;const c=ir(l,s);return Oi(n,c,!1)}if(i.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;fe(n)||M();const{id:o,isEnabled:s}=i.payload,l=n.dimensions.droppables[o];l||M(),l.isEnabled===s&&M();const c={...l,isEnabled:s};return Oi(n,c,!0)}if(i.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;fe(n)||M();const{id:o,isCombineEnabled:s}=i.payload,l=n.dimensions.droppables[o];l||M(),l.isCombineEnabled===s&&M();const c={...l,isCombineEnabled:s};return Oi(n,c,!0)}if(i.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;fe(n)||M(),n.isWindowScrollAllowed||M();const o=i.payload.newScroll;if(ie(n.viewport.scroll.current,o))return Bi(n);const s=Va(n.viewport,o);return Vi(n)?ns({state:n,viewport:s}):Ke({state:n,viewport:s})}if(i.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!fe(n))return n;const o=i.payload.maxScroll;if(ie(o,n.viewport.scroll.max))return n;const s={...n.viewport,scroll:{...n.viewport.scroll,max:o}};return{...n,viewport:s}}if(i.type==="MOVE_UP"||i.type==="MOVE_DOWN"||i.type==="MOVE_LEFT"||i.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&M();const o=Ld({state:n,type:i.type});return o?Ke({state:n,impact:o.impact,clientSelection:o.clientSelection,scrollJumpRequest:o.scrollJumpRequest}):n}if(i.type==="DROP_PENDING"){const o=i.payload.reason;return n.phase!=="COLLECTING"&&M(),{...n,phase:"DROP_PENDING",isWaiting:!0,reason:o}}if(i.type==="DROP_ANIMATE"){const{completed:o,dropDuration:s,newHomeClientOffset:l}=i.payload;return n.phase==="DRAGGING"||n.phase==="DROP_PENDING"||M(),{phase:"DROP_ANIMATING",completed:o,dropDuration:s,newHomeClientOffset:l,dimensions:n.dimensions}}if(i.type==="DROP_COMPLETE"){const{completed:o}=i.payload;return{phase:"IDLE",completed:o,shouldFlush:!1}}return n};function nt(n,i){return n instanceof Object&&"type"in n&&n.type===i}const Wd=n=>({type:"BEFORE_INITIAL_CAPTURE",payload:n}),Ud=n=>({type:"LIFT",payload:n}),Vd=n=>({type:"INITIAL_PUBLISH",payload:n}),qd=n=>({type:"PUBLISH_WHILE_DRAGGING",payload:n}),Kd=()=>({type:"COLLECTION_STARTING",payload:null}),$d=n=>({type:"UPDATE_DROPPABLE_SCROLL",payload:n}),Yd=n=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:n}),Xd=n=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:n}),rs=n=>({type:"MOVE",payload:n}),Jd=n=>({type:"MOVE_BY_WINDOW_SCROLL",payload:n}),Qd=n=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n}),th=()=>({type:"MOVE_UP",payload:null}),eh=()=>({type:"MOVE_DOWN",payload:null}),nh=()=>({type:"MOVE_RIGHT",payload:null}),ih=()=>({type:"MOVE_LEFT",payload:null}),ur=()=>({type:"FLUSH",payload:null}),rh=n=>({type:"DROP_ANIMATE",payload:n}),dr=n=>({type:"DROP_COMPLETE",payload:n}),os=n=>({type:"DROP",payload:n}),oh=n=>({type:"DROP_PENDING",payload:n}),as=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var ah=n=>({getState:i,dispatch:o})=>s=>l=>{if(!nt(l,"LIFT")){s(l);return}const{id:c,clientSelection:d,movementMode:p}=l.payload,h=i();h.phase==="DROP_ANIMATING"&&o(dr({completed:h.completed})),i().phase!=="IDLE"&&M(),o(ur()),o(Wd({draggableId:c,movementMode:p}));const v={draggableId:c,scrollOptions:{shouldPublishImmediately:p==="SNAP"}},{critical:m,dimensions:_,viewport:b}=n.startPublishing(v);o(Vd({critical:m,dimensions:_,clientSelection:d,movementMode:p,viewport:b}))},sh=n=>()=>i=>o=>{nt(o,"INITIAL_PUBLISH")&&n.dragging(),nt(o,"DROP_ANIMATE")&&n.dropping(o.payload.completed.result.reason),(nt(o,"FLUSH")||nt(o,"DROP_COMPLETE"))&&n.resting(),i(o)};const hr={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},tn={opacity:{drop:0,combining:.7},scale:{drop:.75}},ss={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},he=`${ss.outOfTheWay}s ${hr.outOfTheWay}`,$e={fluid:`opacity ${he}`,snap:`transform ${he}, opacity ${he}`,drop:n=>{const i=`${n}s ${hr.drop}`;return`transform ${i}, opacity ${i}`},outOfTheWay:`transform ${he}`,placeholder:`height ${he}, width ${he}, margin ${he}`},ia=n=>ie(n,vt)?void 0:`translate(${n.x}px, ${n.y}px)`,qi={moveTo:ia,drop:(n,i)=>{const o=ia(n);if(o)return i?`${o} scale(${tn.scale.drop})`:o}},{minDropTime:Ki,maxDropTime:ls}=ss,lh=ls-Ki,ra=1500,ch=.6;var uh=({current:n,destination:i,reason:o})=>{const s=Xe(n,i);if(s<=0)return Ki;if(s>=ra)return ls;const l=s/ra,c=Ki+lh*l,d=o==="CANCEL"?c*ch:c;return Number(d.toFixed(2))},dh=({impact:n,draggable:i,dimensions:o,viewport:s,afterCritical:l})=>{const{draggables:c,droppables:d}=o,p=It(n),h=p?d[p]:null,g=d[i.descriptor.droppableId],v=es({impact:n,draggable:i,draggables:c,afterCritical:l,droppable:h||g,viewport:s});return Tt(v,i.client.borderBox.center)},hh=({draggables:n,reason:i,lastImpact:o,home:s,viewport:l,onLiftImpact:c})=>!o.at||i!=="DROP"?{impact:ts({draggables:n,impact:c,destination:s,viewport:l,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:o.at.type==="REORDER"?{impact:o,didDropInsideDroppable:!0}:{impact:{...o,displaced:Je},didDropInsideDroppable:!0};const fh=({getState:n,dispatch:i})=>o=>s=>{if(!nt(s,"DROP")){o(s);return}const l=n(),c=s.payload.reason;if(l.phase==="COLLECTING"){i(oh({reason:c}));return}if(l.phase==="IDLE")return;l.phase==="DROP_PENDING"&&l.isWaiting&&M(),l.phase==="DRAGGING"||l.phase==="DROP_PENDING"||M();const p=l.critical,h=l.dimensions,g=h.draggables[l.critical.draggable.id],{impact:v,didDropInsideDroppable:m}=hh({reason:c,lastImpact:l.impact,afterCritical:l.afterCritical,onLiftImpact:l.onLiftImpact,home:l.dimensions.droppables[l.critical.droppable.id],viewport:l.viewport,draggables:l.dimensions.draggables}),_=m?rr(v):null,b=m?Wn(v):null,S={index:p.draggable.index,droppableId:p.droppable.id},C={draggableId:g.descriptor.id,type:g.descriptor.type,source:S,reason:c,mode:l.movementMode,destination:_,combine:b},x=dh({impact:v,draggable:g,dimensions:h,viewport:l.viewport,afterCritical:l.afterCritical}),E={critical:l.critical,afterCritical:l.afterCritical,result:C,impact:v};if(!(!ie(l.current.client.offset,x)||!!C.combine)){i(dr({completed:E}));return}const D=uh({current:l.current.client.offset,destination:x,reason:c});i(rh({newHomeClientOffset:x,dropDuration:D,completed:E}))};var cs=()=>({x:window.pageXOffset,y:window.pageYOffset});function ph(n){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:i=>{i.target!==window&&i.target!==window.document||n()}}}function mh({onWindowScroll:n}){function i(){n(cs())}const o=Ye(i),s=ph(o);let l=ne;function c(){return l!==ne}function d(){c()&&M(),l=Rt(window,[s])}function p(){c()||M(),o.cancel(),l(),l=ne}return{start:d,stop:p,isActive:c}}const gh=n=>nt(n,"DROP_COMPLETE")||nt(n,"DROP_ANIMATE")||nt(n,"FLUSH"),_h=n=>{const i=mh({onWindowScroll:o=>{n.dispatch(Jd({newScroll:o}))}});return o=>s=>{!i.isActive()&&nt(s,"INITIAL_PUBLISH")&&i.start(),i.isActive()&&gh(s)&&i.stop(),o(s)}};var vh=n=>{let i=!1,o=!1;const s=setTimeout(()=>{o=!0}),l=c=>{i||o||(i=!0,n(c),clearTimeout(s))};return l.wasCalled=()=>i,l},yh=()=>{const n=[],i=l=>{const c=n.findIndex(p=>p.timerId===l);c===-1&&M();const[d]=n.splice(c,1);d.callback()};return{add:l=>{const c=setTimeout(()=>i(c)),d={timerId:c,callback:l};n.push(d)},flush:()=>{if(!n.length)return;const l=[...n];n.length=0,l.forEach(c=>{clearTimeout(c.timerId),c.callback()})}}};const bh=(n,i)=>n==null&&i==null?!0:n==null||i==null?!1:n.droppableId===i.droppableId&&n.index===i.index,xh=(n,i)=>n==null&&i==null?!0:n==null||i==null?!1:n.draggableId===i.draggableId&&n.droppableId===i.droppableId,wh=(n,i)=>{if(n===i)return!0;const o=n.draggable.id===i.draggable.id&&n.draggable.droppableId===i.draggable.droppableId&&n.draggable.type===i.draggable.type&&n.draggable.index===i.draggable.index,s=n.droppable.id===i.droppable.id&&n.droppable.type===i.droppable.type;return o&&s},Ue=(n,i)=>{i()},In=(n,i)=>({draggableId:n.draggable.id,type:n.droppable.type,source:{droppableId:n.droppable.id,index:n.draggable.index},mode:i});function Ri(n,i,o,s){if(!n){o(s(i));return}const l=vh(o);n(i,{announce:l}),l.wasCalled()||o(s(i))}var Ph=(n,i)=>{const o=yh();let s=null;const l=(m,_)=>{s&&M(),Ue("onBeforeCapture",()=>{const b=n().onBeforeCapture;b&&b({draggableId:m,mode:_})})},c=(m,_)=>{s&&M(),Ue("onBeforeDragStart",()=>{const b=n().onBeforeDragStart;b&&b(In(m,_))})},d=(m,_)=>{s&&M();const b=In(m,_);s={mode:_,lastCritical:m,lastLocation:b.source,lastCombine:null},o.add(()=>{Ue("onDragStart",()=>Ri(n().onDragStart,b,i,Dn.onDragStart))})},p=(m,_)=>{const b=rr(_),S=Wn(_);s||M();const C=!wh(m,s.lastCritical);C&&(s.lastCritical=m);const x=!bh(s.lastLocation,b);x&&(s.lastLocation=b);const E=!xh(s.lastCombine,S);if(E&&(s.lastCombine=S),!C&&!x&&!E)return;const A={...In(m,s.mode),combine:S,destination:b};o.add(()=>{Ue("onDragUpdate",()=>Ri(n().onDragUpdate,A,i,Dn.onDragUpdate))})},h=()=>{s||M(),o.flush()},g=m=>{s||M(),s=null,Ue("onDragEnd",()=>Ri(n().onDragEnd,m,i,Dn.onDragEnd))};return{beforeCapture:l,beforeStart:c,start:d,update:p,flush:h,drop:g,abort:()=>{if(!s)return;const m={...In(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};g(m)}}},Sh=(n,i)=>{const o=Ph(n,i);return s=>l=>c=>{if(nt(c,"BEFORE_INITIAL_CAPTURE")){o.beforeCapture(c.payload.draggableId,c.payload.movementMode);return}if(nt(c,"INITIAL_PUBLISH")){const p=c.payload.critical;o.beforeStart(p,c.payload.movementMode),l(c),o.start(p,c.payload.movementMode);return}if(nt(c,"DROP_COMPLETE")){const p=c.payload.completed.result;o.flush(),l(c),o.drop(p);return}if(l(c),nt(c,"FLUSH")){o.abort();return}const d=s.getState();d.phase==="DRAGGING"&&o.update(d.critical,d.impact)}};const Lh=n=>i=>o=>{if(!nt(o,"DROP_ANIMATION_FINISHED")){i(o);return}const s=n.getState();s.phase!=="DROP_ANIMATING"&&M(),n.dispatch(dr({completed:s.completed}))},Ch=n=>{let i=null,o=null;function s(){o&&(cancelAnimationFrame(o),o=null),i&&(i(),i=null)}return l=>c=>{if((nt(c,"FLUSH")||nt(c,"DROP_COMPLETE")||nt(c,"DROP_ANIMATION_FINISHED"))&&s(),l(c),!nt(c,"DROP_ANIMATE"))return;const d={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){n.getState().phase==="DROP_ANIMATING"&&n.dispatch(as())}};o=requestAnimationFrame(()=>{o=null,i=Rt(window,[d])})}};var Th=n=>()=>i=>o=>{(nt(o,"DROP_COMPLETE")||nt(o,"FLUSH")||nt(o,"DROP_ANIMATE"))&&n.stopPublishing(),i(o)},Ih=n=>{let i=!1;return()=>o=>s=>{if(nt(s,"INITIAL_PUBLISH")){i=!0,n.tryRecordFocus(s.payload.critical.draggable.id),o(s),n.tryRestoreFocusRecorded();return}if(o(s),!!i){if(nt(s,"FLUSH")){i=!1,n.tryRestoreFocusRecorded();return}if(nt(s,"DROP_COMPLETE")){i=!1;const l=s.payload.completed.result;l.combine&&n.tryShiftRecord(l.draggableId,l.combine.draggableId),n.tryRestoreFocusRecorded()}}}};const kh=n=>nt(n,"DROP_COMPLETE")||nt(n,"DROP_ANIMATE")||nt(n,"FLUSH");var Eh=n=>i=>o=>s=>{if(kh(s)){n.stop(),o(s);return}if(nt(s,"INITIAL_PUBLISH")){o(s);const l=i.getState();l.phase!=="DRAGGING"&&M(),n.start(l);return}o(s),n.scroll(i.getState())};const Ah=n=>i=>o=>{if(i(o),!nt(o,"PUBLISH_WHILE_DRAGGING"))return;const s=n.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||n.dispatch(os({reason:s.reason})))},Dh=La;var Mh=({dimensionMarshal:n,focusMarshal:i,styleMarshal:o,getResponders:s,announce:l,autoScroller:c})=>Sa(Gd,Dh(Cc(sh(o),Th(n),ah(n),fh,Lh,Ch,Ah,Eh(c),_h,Ih(i),Sh(s,l))));const Ni=()=>({additions:{},removals:{},modified:{}});function Oh({registry:n,callbacks:i}){let o=Ni(),s=null;const l=()=>{s||(i.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:h,removals:g,modified:v}=o,m=Object.keys(h).map(S=>n.draggable.getById(S).getDimension(vt)).sort((S,C)=>S.descriptor.index-C.descriptor.index),_=Object.keys(v).map(S=>{const x=n.droppable.getById(S).callbacks.getScrollWhileDragging();return{droppableId:S,scroll:x}}),b={additions:m,removals:Object.keys(g),modified:_};o=Ni(),i.publish(b)}))};return{add:h=>{const g=h.descriptor.id;o.additions[g]=h,o.modified[h.descriptor.droppableId]=!0,o.removals[g]&&delete o.removals[g],l()},remove:h=>{const g=h.descriptor;o.removals[g.id]=!0,o.modified[g.droppableId]=!0,o.additions[g.id]&&delete o.additions[g.id],l()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,o=Ni())}}}var us=({scrollHeight:n,scrollWidth:i,height:o,width:s})=>{const l=Tt({x:i,y:n},{x:s,y:o});return{x:Math.max(0,l.x),y:Math.max(0,l.y)}},ds=()=>{const n=document.documentElement;return n||M(),n},hs=()=>{const n=ds();return us({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight})},Bh=()=>{const n=cs(),i=hs(),o=n.y,s=n.x,l=ds(),c=l.clientWidth,d=l.clientHeight,p=s+c,h=o+d;return{frame:jt({top:o,left:s,right:p,bottom:h}),scroll:{initial:n,current:n,max:i,diff:{value:vt,displacement:vt}}}},Rh=({critical:n,scrollOptions:i,registry:o})=>{const s=Bh(),l=s.scroll.current,c=n.droppable,d=o.droppable.getAllByType(c.type).map(v=>v.callbacks.getDimensionAndWatchScroll(l,i)),p=o.draggable.getAllByType(n.draggable.type).map(v=>v.getDimension(l));return{dimensions:{draggables:Za(p),droppables:Fa(d)},critical:n,viewport:s}};function oa(n,i,o){return!(o.descriptor.id===i.id||o.descriptor.type!==i.type||n.droppable.getById(o.descriptor.droppableId).descriptor.mode!=="virtual")}var Nh=(n,i)=>{let o=null;const s=Oh({callbacks:{publish:i.publishWhileDragging,collectionStarting:i.collectionStarting},registry:n}),l=(_,b)=>{n.droppable.exists(_)||M(),o&&i.updateDroppableIsEnabled({id:_,isEnabled:b})},c=(_,b)=>{o&&(n.droppable.exists(_)||M(),i.updateDroppableIsCombineEnabled({id:_,isCombineEnabled:b}))},d=(_,b)=>{o&&(n.droppable.exists(_)||M(),i.updateDroppableScroll({id:_,newScroll:b}))},p=(_,b)=>{o&&n.droppable.getById(_).callbacks.scroll(b)},h=()=>{if(!o)return;s.stop();const _=o.critical.droppable;n.droppable.getAllByType(_.type).forEach(b=>b.callbacks.dragStopped()),o.unsubscribe(),o=null},g=_=>{o||M();const b=o.critical.draggable;_.type==="ADDITION"&&oa(n,b,_.value)&&s.add(_.value),_.type==="REMOVAL"&&oa(n,b,_.value)&&s.remove(_.value)};return{updateDroppableIsEnabled:l,updateDroppableIsCombineEnabled:c,scrollDroppable:p,updateDroppableScroll:d,startPublishing:_=>{o&&M();const b=n.draggable.getById(_.draggableId),S=n.droppable.getById(b.descriptor.droppableId),C={draggable:b.descriptor,droppable:S.descriptor},x=n.subscribe(g);return o={critical:C,unsubscribe:x},Rh({critical:C,registry:n,scrollOptions:_.scrollOptions})},stopPublishing:h}},fs=(n,i)=>n.phase==="IDLE"?!0:n.phase!=="DROP_ANIMATING"||n.completed.result.draggableId===i?!1:n.completed.result.reason==="DROP",zh=n=>{window.scrollBy(n.x,n.y)};const Fh=_t(n=>Gn(n).filter(i=>!(!i.isEnabled||!i.frame))),Zh=(n,i)=>Fh(i).find(s=>(s.frame||M(),Ya(s.frame.pageMarginBox)(n)))||null;var jh=({center:n,destination:i,droppables:o})=>{if(i){const l=o[i];return l.frame?l:null}return Zh(n,o)};const en={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:n=>n**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Hh=(n,i,o=()=>en)=>{const s=o(),l=n[i.size]*s.startFromPercentage,c=n[i.size]*s.maxScrollAtPercentage;return{startScrollingFrom:l,maxScrollValueAt:c}},ps=({startOfRange:n,endOfRange:i,current:o})=>{const s=i-n;return s===0?0:(o-n)/s},fr=1,Gh=(n,i,o=()=>en)=>{const s=o();if(n>i.startScrollingFrom)return 0;if(n<=i.maxScrollValueAt)return s.maxPixelScroll;if(n===i.startScrollingFrom)return fr;const c=1-ps({startOfRange:i.maxScrollValueAt,endOfRange:i.startScrollingFrom,current:n}),d=s.maxPixelScroll*s.ease(c);return Math.ceil(d)},Wh=(n,i,o)=>{const s=o(),l=s.durationDampening.accelerateAt,c=s.durationDampening.stopDampeningAt,d=i,p=c,g=Date.now()-d;if(g>=c)return n;if(g<l)return fr;const v=ps({startOfRange:l,endOfRange:p,current:g}),m=n*s.ease(v);return Math.ceil(m)},aa=({distanceToEdge:n,thresholds:i,dragStartTime:o,shouldUseTimeDampening:s,getAutoScrollerOptions:l})=>{const c=Gh(n,i,l);return c===0?0:s?Math.max(Wh(c,o,l),fr):c},sa=({container:n,distanceToEdges:i,dragStartTime:o,axis:s,shouldUseTimeDampening:l,getAutoScrollerOptions:c})=>{const d=Hh(n,s,c);return i[s.end]<i[s.start]?aa({distanceToEdge:i[s.end],thresholds:d,dragStartTime:o,shouldUseTimeDampening:l,getAutoScrollerOptions:c}):-1*aa({distanceToEdge:i[s.start],thresholds:d,dragStartTime:o,shouldUseTimeDampening:l,getAutoScrollerOptions:c})},Uh=({container:n,subject:i,proposedScroll:o})=>{const s=i.height>n.height,l=i.width>n.width;return!l&&!s?o:l&&s?null:{x:l?0:o.x,y:s?0:o.y}};const Vh=za(n=>n===0?0:n);var ms=({dragStartTime:n,container:i,subject:o,center:s,shouldUseTimeDampening:l,getAutoScrollerOptions:c})=>{const d={top:s.y-i.top,right:i.right-s.x,bottom:i.bottom-s.y,left:s.x-i.left},p=sa({container:i,distanceToEdges:d,dragStartTime:n,axis:or,shouldUseTimeDampening:l,getAutoScrollerOptions:c}),h=sa({container:i,distanceToEdges:d,dragStartTime:n,axis:Ga,shouldUseTimeDampening:l,getAutoScrollerOptions:c}),g=Vh({x:h,y:p});if(ie(g,vt))return null;const v=Uh({container:i,subject:o,proposedScroll:g});return v?ie(v,vt)?null:v:null};const qh=za(n=>n===0?0:n>0?1:-1),pr=(()=>{const n=(i,o)=>i<0?i:i>o?i-o:0;return({current:i,max:o,change:s})=>{const l=bt(i,s),c={x:n(l.x,o.x),y:n(l.y,o.y)};return ie(c,vt)?null:c}})(),gs=({max:n,current:i,change:o})=>{const s={x:Math.max(i.x,n.x),y:Math.max(i.y,n.y)},l=qh(o),c=pr({max:s,current:i,change:l});return!c||l.x!==0&&c.x===0||l.y!==0&&c.y===0},mr=(n,i)=>gs({current:n.scroll.current,max:n.scroll.max,change:i}),Kh=(n,i)=>{if(!mr(n,i))return null;const o=n.scroll.max,s=n.scroll.current;return pr({current:s,max:o,change:i})},gr=(n,i)=>{const o=n.frame;return o?gs({current:o.scroll.current,max:o.scroll.max,change:i}):!1},$h=(n,i)=>{const o=n.frame;return!o||!gr(n,i)?null:pr({current:o.scroll.current,max:o.scroll.max,change:i})};var Yh=({viewport:n,subject:i,center:o,dragStartTime:s,shouldUseTimeDampening:l,getAutoScrollerOptions:c})=>{const d=ms({dragStartTime:s,container:n.frame,subject:i,center:o,shouldUseTimeDampening:l,getAutoScrollerOptions:c});return d&&mr(n,d)?d:null},Xh=({droppable:n,subject:i,center:o,dragStartTime:s,shouldUseTimeDampening:l,getAutoScrollerOptions:c})=>{const d=n.frame;if(!d)return null;const p=ms({dragStartTime:s,container:d.pageMarginBox,subject:i,center:o,shouldUseTimeDampening:l,getAutoScrollerOptions:c});return p&&gr(n,p)?p:null},la=({state:n,dragStartTime:i,shouldUseTimeDampening:o,scrollWindow:s,scrollDroppable:l,getAutoScrollerOptions:c})=>{const d=n.current.page.borderBoxCenter,h=n.dimensions.draggables[n.critical.draggable.id].page.marginBox;if(n.isWindowScrollAllowed){const m=n.viewport,_=Yh({dragStartTime:i,viewport:m,subject:h,center:d,shouldUseTimeDampening:o,getAutoScrollerOptions:c});if(_){s(_);return}}const g=jh({center:d,destination:It(n.impact),droppables:n.dimensions.droppables});if(!g)return;const v=Xh({dragStartTime:i,droppable:g,subject:h,center:d,shouldUseTimeDampening:o,getAutoScrollerOptions:c});v&&l(g.descriptor.id,v)},Jh=({scrollWindow:n,scrollDroppable:i,getAutoScrollerOptions:o=()=>en})=>{const s=Ye(n),l=Ye(i);let c=null;const d=g=>{c||M();const{shouldUseTimeDampening:v,dragStartTime:m}=c;la({state:g,scrollWindow:s,scrollDroppable:l,dragStartTime:m,shouldUseTimeDampening:v,getAutoScrollerOptions:o})};return{start:g=>{c&&M();const v=Date.now();let m=!1;const _=()=>{m=!0};la({state:g,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:_,scrollDroppable:_,getAutoScrollerOptions:o}),c={dragStartTime:v,shouldUseTimeDampening:m},m&&d(g)},stop:()=>{c&&(s.cancel(),l.cancel(),c=null)},scroll:d}},Qh=({move:n,scrollDroppable:i,scrollWindow:o})=>{const s=(p,h)=>{const g=bt(p.current.client.selection,h);n({client:g})},l=(p,h)=>{if(!gr(p,h))return h;const g=$h(p,h);if(!g)return i(p.descriptor.id,h),null;const v=Tt(h,g);return i(p.descriptor.id,v),Tt(h,v)},c=(p,h,g)=>{if(!p||!mr(h,g))return g;const v=Kh(h,g);if(!v)return o(g),null;const m=Tt(g,v);return o(m),Tt(g,m)};return p=>{const h=p.scrollJumpRequest;if(!h)return;const g=It(p.impact);g||M();const v=l(p.dimensions.droppables[g],h);if(!v)return;const m=p.viewport,_=c(p.isWindowScrollAllowed,m,v);_&&s(p,_)}},tf=({scrollDroppable:n,scrollWindow:i,move:o,getAutoScrollerOptions:s})=>{const l=Jh({scrollWindow:i,scrollDroppable:n,getAutoScrollerOptions:s}),c=Qh({move:o,scrollWindow:i,scrollDroppable:n});return{scroll:h=>{if(!(s().disabled||h.phase!=="DRAGGING")){if(h.movementMode==="FLUID"){l.scroll(h);return}h.scrollJumpRequest&&c(h)}},start:l.start,stop:l.stop}};const Ce="data-rfd",Te=(()=>{const n=`${Ce}-drag-handle`;return{base:n,draggableId:`${n}-draggable-id`,contextId:`${n}-context-id`}})(),$i=(()=>{const n=`${Ce}-draggable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),ef=(()=>{const n=`${Ce}-droppable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),ca={contextId:`${Ce}-scroll-container-context-id`},nf=n=>i=>`[${i}="${n}"]`,Ve=(n,i)=>n.map(o=>{const s=o.styles[i];return s?`${o.selector} { ${s} }`:""}).join(" "),rf="pointer-events: none;";var of=n=>{const i=nf(n),o=(()=>{const p=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:i(Te.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:p,dragging:rf,dropAnimating:p}}})(),s=(()=>{const p=`
      transition: ${$e.outOfTheWay};
    `;return{selector:i($i.contextId),styles:{dragging:p,dropAnimating:p,userCancel:p}}})(),l={selector:i(ef.contextId),styles:{always:"overflow-anchor: none;"}},d=[s,o,l,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ve(d,"always"),resting:Ve(d,"resting"),dragging:Ve(d,"dragging"),dropAnimating:Ve(d,"dropAnimating"),userCancel:Ve(d,"userCancel")}};const kt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?I.useLayoutEffect:I.useEffect,zi=()=>{const n=document.querySelector("head");return n||M(),n},ua=n=>{const i=document.createElement("style");return n&&i.setAttribute("nonce",n),i.type="text/css",i};function af(n,i){const o=X(()=>of(n),[n]),s=I.useRef(null),l=I.useRef(null),c=F(_t(m=>{const _=l.current;_||M(),_.textContent=m}),[]),d=F(m=>{const _=s.current;_||M(),_.textContent=m},[]);kt(()=>{!s.current&&!l.current||M();const m=ua(i),_=ua(i);return s.current=m,l.current=_,m.setAttribute(`${Ce}-always`,n),_.setAttribute(`${Ce}-dynamic`,n),zi().appendChild(m),zi().appendChild(_),d(o.always),c(o.resting),()=>{const b=S=>{const C=S.current;C||M(),zi().removeChild(C),S.current=null};b(s),b(l)}},[i,d,c,o.always,o.resting,n]);const p=F(()=>c(o.dragging),[c,o.dragging]),h=F(m=>{if(m==="DROP"){c(o.dropAnimating);return}c(o.userCancel)},[c,o.dropAnimating,o.userCancel]),g=F(()=>{l.current&&c(o.resting)},[c,o.resting]);return X(()=>({dragging:p,dropping:h,resting:g}),[p,h,g])}function _s(n,i){return Array.from(n.querySelectorAll(i))}var vs=n=>n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView:window;function qn(n){return n instanceof vs(n).HTMLElement}function sf(n,i){const o=`[${Te.contextId}="${n}"]`,s=_s(document,o);if(!s.length)return null;const l=s.find(c=>c.getAttribute(Te.draggableId)===i);return!l||!qn(l)?null:l}function lf(n){const i=I.useRef({}),o=I.useRef(null),s=I.useRef(null),l=I.useRef(!1),c=F(function(_,b){const S={id:_,focus:b};return i.current[_]=S,function(){const x=i.current;x[_]!==S&&delete x[_]}},[]),d=F(function(_){const b=sf(n,_);b&&b!==document.activeElement&&b.focus()},[n]),p=F(function(_,b){o.current===_&&(o.current=b)},[]),h=F(function(){s.current||l.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const _=o.current;_&&d(_)}))},[d]),g=F(function(_){o.current=null;const b=document.activeElement;b&&b.getAttribute(Te.draggableId)===_&&(o.current=_)},[]);return kt(()=>(l.current=!0,function(){l.current=!1;const _=s.current;_&&cancelAnimationFrame(_)}),[]),X(()=>({register:c,tryRecordFocus:g,tryRestoreFocusRecorded:h,tryShiftRecord:p}),[c,g,h,p])}function cf(){const n={draggables:{},droppables:{}},i=[];function o(m){return i.push(m),function(){const b=i.indexOf(m);b!==-1&&i.splice(b,1)}}function s(m){i.length&&i.forEach(_=>_(m))}function l(m){return n.draggables[m]||null}function c(m){const _=l(m);return _||M(),_}const d={register:m=>{n.draggables[m.descriptor.id]=m,s({type:"ADDITION",value:m})},update:(m,_)=>{const b=n.draggables[_.descriptor.id];b&&b.uniqueId===m.uniqueId&&(delete n.draggables[_.descriptor.id],n.draggables[m.descriptor.id]=m)},unregister:m=>{const _=m.descriptor.id,b=l(_);b&&m.uniqueId===b.uniqueId&&(delete n.draggables[_],n.droppables[m.descriptor.droppableId]&&s({type:"REMOVAL",value:m}))},getById:c,findById:l,exists:m=>!!l(m),getAllByType:m=>Object.values(n.draggables).filter(_=>_.descriptor.type===m)};function p(m){return n.droppables[m]||null}function h(m){const _=p(m);return _||M(),_}const g={register:m=>{n.droppables[m.descriptor.id]=m},unregister:m=>{const _=p(m.descriptor.id);_&&m.uniqueId===_.uniqueId&&delete n.droppables[m.descriptor.id]},getById:h,findById:p,exists:m=>!!p(m),getAllByType:m=>Object.values(n.droppables).filter(_=>_.descriptor.type===m)};function v(){n.draggables={},n.droppables={},i.length=0}return{draggable:d,droppable:g,subscribe:o,clean:v}}function uf(){const n=X(cf,[]);return I.useEffect(()=>function(){n.clean()},[n]),n}var _r=at.createContext(null),Zn=()=>{const n=document.body;return n||M(),n};const df={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},hf=n=>`rfd-announcement-${n}`;function ff(n){const i=X(()=>hf(n),[n]),o=I.useRef(null);return I.useEffect(function(){const c=document.createElement("div");return o.current=c,c.id=i,c.setAttribute("aria-live","assertive"),c.setAttribute("aria-atomic","true"),Rn(c.style,df),Zn().appendChild(c),function(){setTimeout(function(){const h=Zn();h.contains(c)&&h.removeChild(c),c===o.current&&(o.current=null)})}},[i]),F(l=>{const c=o.current;if(c){c.textContent=l;return}},[])}const pf={separator:"::"};function vr(n,i=pf){const o=at.useId();return X(()=>`${n}${i.separator}${o}`,[i.separator,n,o])}function mf({contextId:n,uniqueId:i}){return`rfd-hidden-text-${n}-${i}`}function gf({contextId:n,text:i}){const o=vr("hidden-text",{separator:"-"}),s=X(()=>mf({contextId:n,uniqueId:o}),[o,n]);return I.useEffect(function(){const c=document.createElement("div");return c.id=s,c.textContent=i,c.style.display="none",Zn().appendChild(c),function(){const p=Zn();p.contains(c)&&p.removeChild(c)}},[s,i]),s}var Kn=at.createContext(null);function ys(n){const i=I.useRef(n);return I.useEffect(()=>{i.current=n}),i}function _f(){let n=null;function i(){return!!n}function o(d){return d===n}function s(d){n&&M();const p={abandon:d};return n=p,p}function l(){n||M(),n=null}function c(){n&&(n.abandon(),l())}return{isClaimed:i,isActive:o,claim:s,release:l,tryAbandon:c}}function nn(n){return n.phase==="IDLE"||n.phase==="DROP_ANIMATING"?!1:n.isDragging}const vf=9,yf=13,yr=27,bs=32,bf=33,xf=34,wf=35,Pf=36,Sf=37,Lf=38,Cf=39,Tf=40,If={[yf]:!0,[vf]:!0};var xs=n=>{If[n.keyCode]&&n.preventDefault()};const $n=(()=>{const n="visibilitychange";return typeof document>"u"?n:[n,`ms${n}`,`webkit${n}`,`moz${n}`,`o${n}`].find(s=>`on${s}`in document)||n})(),ws=0,da=5;function kf(n,i){return Math.abs(i.x-n.x)>=da||Math.abs(i.y-n.y)>=da}const ha={type:"IDLE"};function Ef({cancel:n,completed:i,getPhase:o,setPhase:s}){return[{eventName:"mousemove",fn:l=>{const{button:c,clientX:d,clientY:p}=l;if(c!==ws)return;const h={x:d,y:p},g=o();if(g.type==="DRAGGING"){l.preventDefault(),g.actions.move(h);return}g.type!=="PENDING"&&M();const v=g.point;if(!kf(v,h))return;l.preventDefault();const m=g.actions.fluidLift(h);s({type:"DRAGGING",actions:m})}},{eventName:"mouseup",fn:l=>{const c=o();if(c.type!=="DRAGGING"){n();return}l.preventDefault(),c.actions.drop({shouldBlockNextClick:!0}),i()}},{eventName:"mousedown",fn:l=>{o().type==="DRAGGING"&&l.preventDefault(),n()}},{eventName:"keydown",fn:l=>{if(o().type==="PENDING"){n();return}if(l.keyCode===yr){l.preventDefault(),n();return}xs(l)}},{eventName:"resize",fn:n},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{o().type==="PENDING"&&n()}},{eventName:"webkitmouseforcedown",fn:l=>{const c=o();if(c.type==="IDLE"&&M(),c.actions.shouldRespectForcePress()){n();return}l.preventDefault()}},{eventName:$n,fn:n}]}function Af(n){const i=I.useRef(ha),o=I.useRef(ne),s=X(()=>({eventName:"mousedown",fn:function(m){if(m.defaultPrevented||m.button!==ws||m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)return;const _=n.findClosestDraggableId(m);if(!_)return;const b=n.tryGetLock(_,d,{sourceEvent:m});if(!b)return;m.preventDefault();const S={x:m.clientX,y:m.clientY};o.current(),g(b,S)}}),[n]),l=X(()=>({eventName:"webkitmouseforcewillbegin",fn:v=>{if(v.defaultPrevented)return;const m=n.findClosestDraggableId(v);if(!m)return;const _=n.findOptionsForDraggable(m);_&&(_.shouldRespectForcePress||n.canGetLock(m)&&v.preventDefault())}}),[n]),c=F(function(){const m={passive:!1,capture:!0};o.current=Rt(window,[l,s],m)},[l,s]),d=F(()=>{i.current.type!=="IDLE"&&(i.current=ha,o.current(),c())},[c]),p=F(()=>{const v=i.current;d(),v.type==="DRAGGING"&&v.actions.cancel({shouldBlockNextClick:!0}),v.type==="PENDING"&&v.actions.abort()},[d]),h=F(function(){const m={capture:!0,passive:!1},_=Ef({cancel:p,completed:d,getPhase:()=>i.current,setPhase:b=>{i.current=b}});o.current=Rt(window,_,m)},[p,d]),g=F(function(m,_){i.current.type!=="IDLE"&&M(),i.current={type:"PENDING",point:_,actions:m},h()},[h]);kt(function(){return c(),function(){o.current()}},[c])}function Df(){}const Mf={[xf]:!0,[bf]:!0,[Pf]:!0,[wf]:!0};function Of(n,i){function o(){i(),n.cancel()}function s(){i(),n.drop()}return[{eventName:"keydown",fn:l=>{if(l.keyCode===yr){l.preventDefault(),o();return}if(l.keyCode===bs){l.preventDefault(),s();return}if(l.keyCode===Tf){l.preventDefault(),n.moveDown();return}if(l.keyCode===Lf){l.preventDefault(),n.moveUp();return}if(l.keyCode===Cf){l.preventDefault(),n.moveRight();return}if(l.keyCode===Sf){l.preventDefault(),n.moveLeft();return}if(Mf[l.keyCode]){l.preventDefault();return}xs(l)}},{eventName:"mousedown",fn:o},{eventName:"mouseup",fn:o},{eventName:"click",fn:o},{eventName:"touchstart",fn:o},{eventName:"resize",fn:o},{eventName:"wheel",fn:o,options:{passive:!0}},{eventName:$n,fn:o}]}function Bf(n){const i=I.useRef(Df),o=X(()=>({eventName:"keydown",fn:function(c){if(c.defaultPrevented||c.keyCode!==bs)return;const d=n.findClosestDraggableId(c);if(!d)return;const p=n.tryGetLock(d,v,{sourceEvent:c});if(!p)return;c.preventDefault();let h=!0;const g=p.snapLift();i.current();function v(){h||M(),h=!1,i.current(),s()}i.current=Rt(window,Of(g,v),{capture:!0,passive:!1})}}),[n]),s=F(function(){const c={passive:!1,capture:!0};i.current=Rt(window,[o],c)},[o]);kt(function(){return s(),function(){i.current()}},[s])}const Fi={type:"IDLE"},Rf=120,Nf=.15;function zf({cancel:n,getPhase:i}){return[{eventName:"orientationchange",fn:n},{eventName:"resize",fn:n},{eventName:"contextmenu",fn:o=>{o.preventDefault()}},{eventName:"keydown",fn:o=>{if(i().type!=="DRAGGING"){n();return}o.keyCode===yr&&o.preventDefault(),n()}},{eventName:$n,fn:n}]}function Ff({cancel:n,completed:i,getPhase:o}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const l=o();if(l.type!=="DRAGGING"){n();return}l.hasMoved=!0;const{clientX:c,clientY:d}=s.touches[0],p={x:c,y:d};s.preventDefault(),l.actions.move(p)}},{eventName:"touchend",fn:s=>{const l=o();if(l.type!=="DRAGGING"){n();return}s.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),i()}},{eventName:"touchcancel",fn:s=>{if(o().type!=="DRAGGING"){n();return}s.preventDefault(),n()}},{eventName:"touchforcechange",fn:s=>{const l=o();l.type==="IDLE"&&M();const c=s.touches[0];if(!c||!(c.force>=Nf))return;const p=l.actions.shouldRespectForcePress();if(l.type==="PENDING"){p&&n();return}if(p){if(l.hasMoved){s.preventDefault();return}n();return}s.preventDefault()}},{eventName:$n,fn:n}]}function Zf(n){const i=I.useRef(Fi),o=I.useRef(ne),s=F(function(){return i.current},[]),l=F(function(b){i.current=b},[]),c=X(()=>({eventName:"touchstart",fn:function(b){if(b.defaultPrevented)return;const S=n.findClosestDraggableId(b);if(!S)return;const C=n.tryGetLock(S,p,{sourceEvent:b});if(!C)return;const x=b.touches[0],{clientX:E,clientY:A}=x,D={x:E,y:A};o.current(),m(C,D)}}),[n]),d=F(function(){const b={capture:!0,passive:!1};o.current=Rt(window,[c],b)},[c]),p=F(()=>{const _=i.current;_.type!=="IDLE"&&(_.type==="PENDING"&&clearTimeout(_.longPressTimerId),l(Fi),o.current(),d())},[d,l]),h=F(()=>{const _=i.current;p(),_.type==="DRAGGING"&&_.actions.cancel({shouldBlockNextClick:!0}),_.type==="PENDING"&&_.actions.abort()},[p]),g=F(function(){const b={capture:!0,passive:!1},S={cancel:h,completed:p,getPhase:s},C=Rt(window,Ff(S),b),x=Rt(window,zf(S),b);o.current=function(){C(),x()}},[h,s,p]),v=F(function(){const b=s();b.type!=="PENDING"&&M();const S=b.actions.fluidLift(b.point);l({type:"DRAGGING",actions:S,hasMoved:!1})},[s,l]),m=F(function(b,S){s().type!=="IDLE"&&M();const C=setTimeout(v,Rf);l({type:"PENDING",point:S,actions:b,longPressTimerId:C}),g()},[g,s,l,v]);kt(function(){return d(),function(){o.current();const S=s();S.type==="PENDING"&&(clearTimeout(S.longPressTimerId),l(Fi))}},[s,d,l]),kt(function(){return Rt(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const jf=["input","button","textarea","select","option","optgroup","video","audio"];function Ps(n,i){if(i==null)return!1;if(jf.includes(i.tagName.toLowerCase()))return!0;const s=i.getAttribute("contenteditable");return s==="true"||s===""?!0:i===n?!1:Ps(n,i.parentElement)}function Hf(n,i){const o=i.target;return qn(o)?Ps(n,o):!1}var Gf=n=>jt(n.getBoundingClientRect()).center;function Wf(n){return n instanceof vs(n).Element}const Uf=(()=>{const n="matches";return typeof document>"u"?n:[n,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||n})();function Ss(n,i){return n==null?null:n[Uf](i)?n:Ss(n.parentElement,i)}function Vf(n,i){return n.closest?n.closest(i):Ss(n,i)}function qf(n){return`[${Te.contextId}="${n}"]`}function Kf(n,i){const o=i.target;if(!Wf(o))return null;const s=qf(n),l=Vf(o,s);return!l||!qn(l)?null:l}function $f(n,i){const o=Kf(n,i);return o?o.getAttribute(Te.draggableId):null}function Yf(n,i){const o=`[${$i.contextId}="${n}"]`,l=_s(document,o).find(c=>c.getAttribute($i.id)===i);return!l||!qn(l)?null:l}function Xf(n){n.preventDefault()}function kn({expected:n,phase:i,isLockActive:o,shouldWarn:s}){return!(!o()||n!==i)}function Ls({lockAPI:n,store:i,registry:o,draggableId:s}){if(n.isClaimed())return!1;const l=o.draggable.findById(s);return!(!l||!l.options.isEnabled||!fs(i.getState(),s))}function Jf({lockAPI:n,contextId:i,store:o,registry:s,draggableId:l,forceSensorStop:c,sourceEvent:d}){if(!Ls({lockAPI:n,store:o,registry:s,draggableId:l}))return null;const h=s.draggable.getById(l),g=Yf(i,h.descriptor.id);if(!g||d&&!h.options.canDragInteractiveElements&&Hf(g,d))return null;const v=n.claim(c||ne);let m="PRE_DRAG";function _(){return h.options.shouldRespectForcePress}function b(){return n.isActive(v)}function S(N,z){kn({expected:N,phase:m,isLockActive:b,shouldWarn:!0})&&o.dispatch(z())}const C=S.bind(null,"DRAGGING");function x(N){function z(){n.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(z(),M()),o.dispatch(Ud(N.liftActionArgs)),m="DRAGGING";function J($,ft={shouldBlockNextClick:!1}){if(N.cleanup(),ft.shouldBlockNextClick){const et=Rt(window,[{eventName:"click",fn:Xf,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(et)}z(),o.dispatch(os({reason:$}))}return{isActive:()=>kn({expected:"DRAGGING",phase:m,isLockActive:b,shouldWarn:!1}),shouldRespectForcePress:_,drop:$=>J("DROP",$),cancel:$=>J("CANCEL",$),...N.actions}}function E(N){const z=Ye($=>{C(()=>rs({client:$}))});return{...x({liftActionArgs:{id:l,clientSelection:N,movementMode:"FLUID"},cleanup:()=>z.cancel(),actions:{move:z}}),move:z}}function A(){const N={moveUp:()=>C(th),moveRight:()=>C(nh),moveDown:()=>C(eh),moveLeft:()=>C(ih)};return x({liftActionArgs:{id:l,clientSelection:Gf(g),movementMode:"SNAP"},cleanup:ne,actions:N})}function D(){kn({expected:"PRE_DRAG",phase:m,isLockActive:b,shouldWarn:!0})&&n.release()}return{isActive:()=>kn({expected:"PRE_DRAG",phase:m,isLockActive:b,shouldWarn:!1}),shouldRespectForcePress:_,fluidLift:E,snapLift:A,abort:D}}const Qf=[Af,Bf,Zf];function tp({contextId:n,store:i,registry:o,customSensors:s,enableDefaultSensors:l}){const c=[...l?Qf:[],...s||[]],d=I.useState(()=>_f())[0],p=F(function(x,E){nn(x)&&!nn(E)&&d.tryAbandon()},[d]);kt(function(){let x=i.getState();return i.subscribe(()=>{const A=i.getState();p(x,A),x=A})},[d,i,p]),kt(()=>d.tryAbandon,[d.tryAbandon]);const h=F(C=>Ls({lockAPI:d,registry:o,store:i,draggableId:C}),[d,o,i]),g=F((C,x,E)=>Jf({lockAPI:d,registry:o,contextId:n,store:i,draggableId:C,forceSensorStop:x||null,sourceEvent:E&&E.sourceEvent?E.sourceEvent:null}),[n,d,o,i]),v=F(C=>$f(n,C),[n]),m=F(C=>{const x=o.draggable.findById(C);return x?x.options:null},[o.draggable]),_=F(function(){d.isClaimed()&&(d.tryAbandon(),i.getState().phase!=="IDLE"&&i.dispatch(ur()))},[d,i]),b=F(()=>d.isClaimed(),[d]),S=X(()=>({canGetLock:h,tryGetLock:g,findClosestDraggableId:v,findOptionsForDraggable:m,tryReleaseLock:_,isLockClaimed:b}),[h,g,v,m,_,b]);for(let C=0;C<c.length;C++)c[C](S)}const ep=n=>({onBeforeCapture:i=>{const o=()=>{n.onBeforeCapture&&n.onBeforeCapture(i)};Ji.flushSync(o)},onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragEnd:n.onDragEnd,onDragUpdate:n.onDragUpdate}),np=n=>({...en,...n.autoScrollerOptions,durationDampening:{...en.durationDampening,...n.autoScrollerOptions}});function qe(n){return n.current||M(),n.current}function ip(n){const{contextId:i,setCallbacks:o,sensors:s,nonce:l,dragHandleUsageInstructions:c}=n,d=I.useRef(null),p=ys(n),h=F(()=>ep(p.current),[p]),g=F(()=>np(p.current),[p]),v=ff(i),m=gf({contextId:i,text:c}),_=af(i,l),b=F(et=>{qe(d).dispatch(et)},[]),S=X(()=>Zo({publishWhileDragging:qd,updateDroppableScroll:$d,updateDroppableIsEnabled:Yd,updateDroppableIsCombineEnabled:Xd,collectionStarting:Kd},b),[b]),C=uf(),x=X(()=>Nh(C,S),[C,S]),E=X(()=>tf({scrollWindow:zh,scrollDroppable:x.scrollDroppable,getAutoScrollerOptions:g,...Zo({move:rs},b)}),[x.scrollDroppable,b,g]),A=lf(i),D=X(()=>Mh({announce:v,autoScroller:E,dimensionMarshal:x,focusMarshal:A,getResponders:h,styleMarshal:_}),[v,E,x,A,h,_]);d.current=D;const B=F(()=>{const et=qe(d);et.getState().phase!=="IDLE"&&et.dispatch(ur())},[]),N=F(()=>{const et=qe(d).getState();return et.phase==="DROP_ANIMATING"?!0:et.phase==="IDLE"?!1:et.isDragging},[]),z=X(()=>({isDragging:N,tryAbort:B}),[N,B]);o(z);const J=F(et=>fs(qe(d).getState(),et),[]),$=F(()=>fe(qe(d).getState()),[]),ft=X(()=>({marshal:x,focus:A,contextId:i,canLift:J,isMovementAllowed:$,dragHandleUsageInstructionsId:m,registry:C}),[i,x,m,A,J,$,C]);return tp({contextId:i,store:D,registry:C,customSensors:s||null,enableDefaultSensors:n.enableDefaultSensors!==!1}),I.useEffect(()=>B,[B]),at.createElement(Kn.Provider,{value:ft},at.createElement(Tu,{context:_r,store:D},n.children))}function rp(){return at.useId()}function op(n){const i=rp(),o=n.dragHandleUsageInstructions||Dn.dragHandleUsageInstructions;return at.createElement(Ou,null,s=>at.createElement(ip,{nonce:n.nonce,contextId:i,setCallbacks:s,dragHandleUsageInstructions:o,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd,autoScrollerOptions:n.autoScrollerOptions},n.children))}const fa={dragging:5e3,dropAnimating:4500},ap=(n,i)=>i?$e.drop(i.duration):n?$e.snap:$e.fluid,sp=(n,i)=>{if(n)return i?tn.opacity.drop:tn.opacity.combining},lp=n=>n.forceShouldAnimate!=null?n.forceShouldAnimate:n.mode==="SNAP";function cp(n){const o=n.dimension.client,{offset:s,combineWith:l,dropping:c}=n,d=!!l,p=lp(n),h=!!c,g=h?qi.drop(s,d):qi.moveTo(s);return{position:"fixed",top:o.marginBox.top,left:o.marginBox.left,boxSizing:"border-box",width:o.borderBox.width,height:o.borderBox.height,transition:ap(p,c),transform:g,opacity:sp(d,h),zIndex:h?fa.dropAnimating:fa.dragging,pointerEvents:"none"}}function up(n){return{transform:qi.moveTo(n.offset),transition:n.shouldAnimateDisplacement?void 0:"none"}}function dp(n){return n.type==="DRAGGING"?cp(n):up(n)}function hp(n,i,o=vt){const s=window.getComputedStyle(i),l=i.getBoundingClientRect(),c=Da(l,s),d=Bn(c,o),p={client:c,tagName:i.tagName.toLowerCase(),display:s.display},h={x:c.marginBox.width,y:c.marginBox.height};return{descriptor:n,placeholder:p,displaceBy:h,client:c,page:d}}function fp(n){const i=vr("draggable"),{descriptor:o,registry:s,getDraggableRef:l,canDragInteractiveElements:c,shouldRespectForcePress:d,isEnabled:p}=n,h=X(()=>({canDragInteractiveElements:c,shouldRespectForcePress:d,isEnabled:p}),[c,p,d]),g=F(b=>{const S=l();return S||M(),hp(o,S,b)},[o,l]),v=X(()=>({uniqueId:i,descriptor:o,options:h,getDimension:g}),[o,g,h,i]),m=I.useRef(v),_=I.useRef(!0);kt(()=>(s.draggable.register(m.current),()=>s.draggable.unregister(m.current)),[s.draggable]),kt(()=>{if(_.current){_.current=!1;return}const b=m.current;m.current=v,s.draggable.update(v,b)},[v,s.draggable])}var br=at.createContext(null);function jn(n){const i=I.useContext(n);return i||M(),i}function pp(n){n.preventDefault()}const mp=n=>{const i=I.useRef(null),o=F((z=null)=>{i.current=z},[]),s=F(()=>i.current,[]),{contextId:l,dragHandleUsageInstructionsId:c,registry:d}=jn(Kn),{type:p,droppableId:h}=jn(br),g=X(()=>({id:n.draggableId,index:n.index,type:p,droppableId:h}),[n.draggableId,n.index,p,h]),{children:v,draggableId:m,isEnabled:_,shouldRespectForcePress:b,canDragInteractiveElements:S,isClone:C,mapped:x,dropAnimationFinished:E}=n;if(!C){const z=X(()=>({descriptor:g,registry:d,getDraggableRef:s,canDragInteractiveElements:S,shouldRespectForcePress:b,isEnabled:_}),[g,d,s,S,b,_]);fp(z)}const A=X(()=>_?{tabIndex:0,role:"button","aria-describedby":c,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":l,draggable:!1,onDragStart:pp}:null,[l,c,m,_]),D=F(z=>{x.type==="DRAGGING"&&x.dropping&&z.propertyName==="transform"&&Ji.flushSync(E)},[E,x]),B=X(()=>{const z=dp(x),J=x.type==="DRAGGING"&&x.dropping?D:void 0;return{innerRef:o,draggableProps:{"data-rfd-draggable-context-id":l,"data-rfd-draggable-id":m,style:z,onTransitionEnd:J},dragHandleProps:A}},[l,A,m,x,D,o]),N=X(()=>({draggableId:g.id,type:g.type,source:{index:g.index,droppableId:g.droppableId}}),[g.droppableId,g.id,g.index,g.type]);return at.createElement(at.Fragment,null,v(B,x.snapshot,N))};var Cs=(n,i)=>n===i,Ts=n=>{const{combine:i,destination:o}=n;return o?o.droppableId:i?i.droppableId:null};const gp=n=>n.combine?n.combine.draggableId:null,_p=n=>n.at&&n.at.type==="COMBINE"?n.at.combine.draggableId:null;function vp(){const n=_t((l,c)=>({x:l,y:c})),i=_t((l,c,d=null,p=null,h=null)=>({isDragging:!0,isClone:c,isDropAnimating:!!h,dropAnimation:h,mode:l,draggingOver:d,combineWith:p,combineTargetFor:null})),o=_t((l,c,d,p,h=null,g=null,v=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:h,combineWith:g,mode:c,offset:l,dimension:d,forceShouldAnimate:v,snapshot:i(c,p,h,g,null)}}));return(l,c)=>{if(nn(l)){if(l.critical.draggable.id!==c.draggableId)return null;const d=l.current.client.offset,p=l.dimensions.draggables[c.draggableId],h=It(l.impact),g=_p(l.impact),v=l.forceShouldAnimate;return o(n(d.x,d.y),l.movementMode,p,c.isClone,h,g,v)}if(l.phase==="DROP_ANIMATING"){const d=l.completed;if(d.result.draggableId!==c.draggableId)return null;const p=c.isClone,h=l.dimensions.draggables[c.draggableId],g=d.result,v=g.mode,m=Ts(g),_=gp(g),S={duration:l.dropDuration,curve:hr.drop,moveTo:l.newHomeClientOffset,opacity:_?tn.opacity.drop:null,scale:_?tn.scale.drop:null};return{mapped:{type:"DRAGGING",offset:l.newHomeClientOffset,dimension:h,dropping:S,draggingOver:m,combineWith:_,mode:v,forceShouldAnimate:null,snapshot:i(v,p,m,_,S)}}}return null}}function Is(n=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}const yp={mapped:{type:"SECONDARY",offset:vt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Is(null)}};function bp(){const n=_t((d,p)=>({x:d,y:p})),i=_t(Is),o=_t((d,p=null,h)=>({mapped:{type:"SECONDARY",offset:d,combineTargetFor:p,shouldAnimateDisplacement:h,snapshot:i(p)}})),s=d=>d?o(vt,d,!0):null,l=(d,p,h,g)=>{const v=h.displaced.visible[d],m=!!(g.inVirtualList&&g.effected[d]),_=Wn(h),b=_&&_.draggableId===d?p:null;if(!v){if(!m)return s(b);if(h.displaced.invisible[d])return null;const x=Ie(g.displacedBy.point),E=n(x.x,x.y);return o(E,b,!0)}if(m)return s(b);const S=h.displacedBy.point,C=n(S.x,S.y);return o(C,b,v.shouldAnimate)};return(d,p)=>{if(nn(d))return d.critical.draggable.id===p.draggableId?null:l(p.draggableId,d.critical.draggable.id,d.impact,d.afterCritical);if(d.phase==="DROP_ANIMATING"){const h=d.completed;return h.result.draggableId===p.draggableId?null:l(p.draggableId,h.result.draggableId,h.impact,h.afterCritical)}return null}}const xp=()=>{const n=vp(),i=bp();return(s,l)=>n(s,l)||i(s,l)||yp},wp={dropAnimationFinished:as},Pp=Aa(xp,wp,null,{context:_r,areStatePropsEqual:Cs})(mp);function ks(n){return jn(br).isUsingCloneFor===n.draggableId&&!n.isClone?null:at.createElement(Pp,n)}function Sp(n){const i=typeof n.isDragDisabled=="boolean"?!n.isDragDisabled:!0,o=!!n.disableInteractiveElementBlocking,s=!!n.shouldRespectForcePress;return at.createElement(ks,Rn({},n,{isClone:!1,isEnabled:i,canDragInteractiveElements:o,shouldRespectForcePress:s}))}const Es=n=>i=>n===i,Lp=Es("scroll"),Cp=Es("auto"),pa=(n,i)=>i(n.overflowX)||i(n.overflowY),Tp=n=>{const i=window.getComputedStyle(n),o={overflowX:i.overflowX,overflowY:i.overflowY};return pa(o,Lp)||pa(o,Cp)},Ip=()=>!1,As=n=>n==null?null:n===document.body?Ip()?n:null:n===document.documentElement?null:Tp(n)?n:As(n.parentElement);var Yi=n=>({x:n.scrollLeft,y:n.scrollTop});const Ds=n=>n?window.getComputedStyle(n).position==="fixed"?!0:Ds(n.parentElement):!1;var kp=n=>{const i=As(n),o=Ds(n);return{closestScrollable:i,isFixedOnPage:o}},Ep=({descriptor:n,isEnabled:i,isCombineEnabled:o,isFixedOnPage:s,direction:l,client:c,page:d,closest:p})=>{const h=(()=>{if(!p)return null;const{scrollSize:_,client:b}=p,S=us({scrollHeight:_.scrollHeight,scrollWidth:_.scrollWidth,height:b.paddingBox.height,width:b.paddingBox.width});return{pageMarginBox:p.page.marginBox,frameClient:b,scrollSize:_,shouldClipSubject:p.shouldClipSubject,scroll:{initial:p.scroll,current:p.scroll,max:S,diff:{value:vt,displacement:vt}}}})(),g=l==="vertical"?or:Ga,v=Le({page:d,withPlaceholder:null,axis:g,frame:h});return{descriptor:n,isCombineEnabled:o,isFixedOnPage:s,axis:g,isEnabled:i,client:c,page:d,frame:h,subject:v}};const Ap=(n,i)=>{const o=Ma(n);if(!i||n!==i)return o;const s=o.paddingBox.top-i.scrollTop,l=o.paddingBox.left-i.scrollLeft,c=s+i.scrollHeight,d=l+i.scrollWidth,h=er({top:s,right:d,bottom:c,left:l},o.border);return nr({borderBox:h,margin:o.margin,border:o.border,padding:o.padding})};var Dp=({ref:n,descriptor:i,env:o,windowScroll:s,direction:l,isDropDisabled:c,isCombineEnabled:d,shouldClipSubject:p})=>{const h=o.closestScrollable,g=Ap(n,h),v=Bn(g,s),m=(()=>{if(!h)return null;const b=Ma(h),S={scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth};return{client:b,page:Bn(b,s),scroll:Yi(h),scrollSize:S,shouldClipSubject:p}})();return Ep({descriptor:i,isEnabled:!c,isCombineEnabled:d,isFixedOnPage:o.isFixedOnPage,direction:l,client:g,page:v,closest:m})};const Mp={passive:!1},Op={passive:!0};var ma=n=>n.shouldPublishImmediately?Mp:Op;const En=n=>n&&n.env.closestScrollable||null;function Bp(n){const i=I.useRef(null),o=jn(Kn),s=vr("droppable"),{registry:l,marshal:c}=o,d=ys(n),p=X(()=>({id:n.droppableId,type:n.type,mode:n.mode}),[n.droppableId,n.mode,n.type]),h=I.useRef(p),g=X(()=>_t((B,N)=>{i.current||M();const z={x:B,y:N};c.updateDroppableScroll(p.id,z)}),[p.id,c]),v=F(()=>{const B=i.current;return!B||!B.env.closestScrollable?vt:Yi(B.env.closestScrollable)},[]),m=F(()=>{const B=v();g(B.x,B.y)},[v,g]),_=X(()=>Ye(m),[m]),b=F(()=>{const B=i.current,N=En(B);if(B&&N||M(),B.scrollOptions.shouldPublishImmediately){m();return}_()},[_,m]),S=F((B,N)=>{i.current&&M();const z=d.current,J=z.getDroppableRef();J||M();const $=kp(J),ft={ref:J,descriptor:p,env:$,scrollOptions:N};i.current=ft;const et=Dp({ref:J,descriptor:p,env:$,windowScroll:B,direction:z.direction,isDropDisabled:z.isDropDisabled,isCombineEnabled:z.isCombineEnabled,shouldClipSubject:!z.ignoreContainerClipping}),K=$.closestScrollable;return K&&(K.setAttribute(ca.contextId,o.contextId),K.addEventListener("scroll",b,ma(ft.scrollOptions))),et},[o.contextId,p,b,d]),C=F(()=>{const B=i.current,N=En(B);return B&&N||M(),Yi(N)},[]),x=F(()=>{const B=i.current;B||M();const N=En(B);i.current=null,N&&(_.cancel(),N.removeAttribute(ca.contextId),N.removeEventListener("scroll",b,ma(B.scrollOptions)))},[b,_]),E=F(B=>{const N=i.current;N||M();const z=En(N);z||M(),z.scrollTop+=B.y,z.scrollLeft+=B.x},[]),A=X(()=>({getDimensionAndWatchScroll:S,getScrollWhileDragging:C,dragStopped:x,scroll:E}),[x,S,C,E]),D=X(()=>({uniqueId:s,descriptor:p,callbacks:A}),[A,p,s]);kt(()=>(h.current=D.descriptor,l.droppable.register(D),()=>{i.current&&x(),l.droppable.unregister(D)}),[A,p,x,D,c,l.droppable]),kt(()=>{i.current&&c.updateDroppableIsEnabled(h.current.id,!n.isDropDisabled)},[n.isDropDisabled,c]),kt(()=>{i.current&&c.updateDroppableIsCombineEnabled(h.current.id,n.isCombineEnabled)},[n.isCombineEnabled,c])}function Zi(){}const ga={width:0,height:0,margin:ju},Rp=({isAnimatingOpenOnMount:n,placeholder:i,animate:o})=>n||o==="close"?ga:{height:i.client.borderBox.height,width:i.client.borderBox.width,margin:i.client.margin},Np=({isAnimatingOpenOnMount:n,placeholder:i,animate:o})=>{const s=Rp({isAnimatingOpenOnMount:n,placeholder:i,animate:o});return{display:i.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?$e.placeholder:null}},zp=n=>{const i=I.useRef(null),o=F(()=>{i.current&&(clearTimeout(i.current),i.current=null)},[]),{animate:s,onTransitionEnd:l,onClose:c,contextId:d}=n,[p,h]=I.useState(n.animate==="open");I.useEffect(()=>p?s!=="open"?(o(),h(!1),Zi):i.current?Zi:(i.current=setTimeout(()=>{i.current=null,h(!1)}),o):Zi,[s,p,o]);const g=F(m=>{m.propertyName==="height"&&(l(),s==="close"&&c())},[s,c,l]),v=Np({isAnimatingOpenOnMount:p,animate:n.animate,placeholder:n.placeholder});return at.createElement(n.placeholder.tagName,{style:v,"data-rfd-placeholder-context-id":d,onTransitionEnd:g,ref:n.innerRef})};var Fp=at.memo(zp);class Zp extends at.PureComponent{constructor(...i){super(...i),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)}}const jp=n=>{const i=I.useContext(Kn);i||M();const{contextId:o,isMovementAllowed:s}=i,l=I.useRef(null),c=I.useRef(null),{children:d,droppableId:p,type:h,mode:g,direction:v,ignoreContainerClipping:m,isDropDisabled:_,isCombineEnabled:b,snapshot:S,useClone:C,updateViewportMaxScroll:x,getContainerForClone:E}=n,A=F(()=>l.current,[]),D=F((K=null)=>{l.current=K},[]);F(()=>c.current,[]);const B=F((K=null)=>{c.current=K},[]),N=F(()=>{s()&&x({maxScroll:hs()})},[s,x]);Bp({droppableId:p,type:h,mode:g,direction:v,isDropDisabled:_,isCombineEnabled:b,ignoreContainerClipping:m,getDroppableRef:A});const z=X(()=>at.createElement(Zp,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},({onClose:K,data:rt,animate:zt})=>at.createElement(Fp,{placeholder:rt,onClose:K,innerRef:B,animate:zt,contextId:o,onTransitionEnd:N})),[o,N,n.placeholder,n.shouldAnimatePlaceholder,B]),J=X(()=>({innerRef:D,placeholder:z,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":o}}),[o,p,z,D]),$=C?C.dragging.draggableId:null,ft=X(()=>({droppableId:p,type:h,isUsingCloneFor:$}),[p,$,h]);function et(){if(!C)return null;const{dragging:K,render:rt}=C,zt=at.createElement(ks,{draggableId:K.draggableId,index:K.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Ct,Et)=>rt(Ct,Et,K));return uc.createPortal(zt,E())}return at.createElement(br.Provider,{value:ft},d(J,S),et())};function Hp(){return document.body||M(),document.body}const _a={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Hp},Ms=n=>{let i={...n},o;for(o in _a)n[o]===void 0&&(i={...i,[o]:_a[o]});return i},ji=(n,i)=>n===i.droppable.type,va=(n,i)=>i.draggables[n.draggable.id],Gp=()=>{const n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},i={...n,shouldAnimatePlaceholder:!1},o=_t(c=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}})),s=_t((c,d,p,h,g,v)=>{const m=g.descriptor.id;if(g.descriptor.droppableId===c){const S=v?{render:v,dragging:o(g.descriptor)}:null,C={isDraggingOver:p,draggingOverWith:p?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!1,snapshot:C,useClone:S}}if(!d)return i;if(!h)return n;const b={isDraggingOver:p,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}});return(c,d)=>{const p=Ms(d),h=p.droppableId,g=p.type,v=!p.isDropDisabled,m=p.renderClone;if(nn(c)){const _=c.critical;if(!ji(g,_))return i;const b=va(_,c.dimensions),S=It(c.impact)===h;return s(h,v,S,S,b,m)}if(c.phase==="DROP_ANIMATING"){const _=c.completed;if(!ji(g,_.critical))return i;const b=va(_.critical,c.dimensions);return s(h,v,Ts(_.result)===h,It(_.impact)===h,b,m)}if(c.phase==="IDLE"&&c.completed&&!c.shouldFlush){const _=c.completed;if(!ji(g,_.critical))return i;const b=It(_.impact)===h,S=!!(_.impact.at&&_.impact.at.type==="COMBINE"),C=_.critical.droppable.id===h;return b?S?n:i:C?n:i}return i}},Wp={updateViewportMaxScroll:Qd},Up=Aa(Gp,Wp,(n,i,o)=>({...Ms(o),...n,...i}),{context:_r,areStatePropsEqual:Cs})(jp);function Os(n,i){const o=I.useRef(i);I.useEffect(function(){i!==o.current&&n.attributionControl!=null&&(o.current!=null&&n.attributionControl.removeAttribution(o.current),i!=null&&n.attributionControl.addAttribution(i)),o.current=i},[n,i])}const Vp=1;function qp(n){return Object.freeze({__version:Vp,map:n})}function Bs(n,i){return Object.freeze({...n,...i})}const xr=I.createContext(null);function Yn(){const n=I.use(xr);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function Rs(n){function i(o,s){const{instance:l,context:c}=n(o).current;I.useImperativeHandle(s,()=>l);const{children:d}=o;return d==null?null:at.createElement(xr,{value:c},d)}return I.forwardRef(i)}function Kp(n){function i(o,s){const[l,c]=I.useState(!1),{instance:d}=n(o,c).current;I.useImperativeHandle(s,()=>d),I.useEffect(function(){l&&d.update()},[d,l,o.children]);const p=d._contentNode;return p?Ji.createPortal(o.children,p):null}return I.forwardRef(i)}function $p(n){function i(o,s){const{instance:l}=n(o).current;return I.useImperativeHandle(s,()=>l),null}return I.forwardRef(i)}function wr(n,i){const o=I.useRef(void 0);I.useEffect(function(){return i!=null&&n.instance.on(i),o.current=i,function(){o.current!=null&&n.instance.off(o.current),o.current=null}},[n,i])}function Xn(n,i){const o=n.pane??i.pane;return o?{...n,pane:o}:n}function Yp(n,i){return function(s,l){const c=Yn(),d=n(Xn(s,c),c);return Os(c.map,s.attribution),wr(d.current,s.eventHandlers),i(d.current,c,s,l),d}}var Xi={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(n,i){(function(o,s){s(i)})(hc,function(o){var s="1.9.4";function l(t){var e,r,a,u;for(r=1,a=arguments.length;r<a;r++){u=arguments[r];for(e in u)t[e]=u[e]}return t}var c=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function d(t,e){var r=Array.prototype.slice;if(t.bind)return t.bind.apply(t,r.call(arguments,1));var a=r.call(arguments,2);return function(){return t.apply(e,a.length?a.concat(r.call(arguments)):arguments)}}var p=0;function h(t){return"_leaflet_id"in t||(t._leaflet_id=++p),t._leaflet_id}function g(t,e,r){var a,u,f,y;return y=function(){a=!1,u&&(f.apply(r,u),u=!1)},f=function(){a?u=arguments:(t.apply(r,arguments),setTimeout(y,e),a=!0)},f}function v(t,e,r){var a=e[1],u=e[0],f=a-u;return t===a&&r?t:((t-u)%f+f)%f+u}function m(){return!1}function _(t,e){if(e===!1)return t;var r=Math.pow(10,e===void 0?6:e);return Math.round(t*r)/r}function b(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function S(t){return b(t).split(/\s+/)}function C(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?c(t.options):{});for(var r in e)t.options[r]=e[r];return t.options}function x(t,e,r){var a=[];for(var u in t)a.push(encodeURIComponent(r?u.toUpperCase():u)+"="+encodeURIComponent(t[u]));return(!e||e.indexOf("?")===-1?"?":"&")+a.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function A(t,e){return t.replace(E,function(r,a){var u=e[a];if(u===void 0)throw new Error("No value provided for variable "+r);return typeof u=="function"&&(u=u(e)),u})}var D=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function B(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function z(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var J=0;function $(t){var e=+new Date,r=Math.max(0,16-(e-J));return J=e+r,window.setTimeout(t,r)}var ft=window.requestAnimationFrame||z("RequestAnimationFrame")||$,et=window.cancelAnimationFrame||z("CancelAnimationFrame")||z("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function K(t,e,r){if(r&&ft===$)t.call(e);else return ft.call(window,d(t,e))}function rt(t){t&&et.call(window,t)}var zt={__proto__:null,extend:l,create:c,bind:d,get lastId(){return p},stamp:h,throttle:g,wrapNum:v,falseFn:m,formatNum:_,trim:b,splitWords:S,setOptions:C,getParamString:x,template:A,isArray:D,indexOf:B,emptyImageUrl:N,requestFn:ft,cancelFn:et,requestAnimFrame:K,cancelAnimFrame:rt};function Ct(){}Ct.extend=function(t){var e=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,a=c(r);a.constructor=e,e.prototype=a;for(var u in this)Object.prototype.hasOwnProperty.call(this,u)&&u!=="prototype"&&u!=="__super__"&&(e[u]=this[u]);return t.statics&&l(e,t.statics),t.includes&&(Et(t.includes),l.apply(null,[a].concat(t.includes))),l(a,t),delete a.statics,delete a.includes,a.options&&(a.options=r.options?c(r.options):{},l(a.options,t.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var f=0,y=a._initHooks.length;f<y;f++)a._initHooks[f].call(this)}},e},Ct.include=function(t){var e=this.prototype.options;return l(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},Ct.mergeOptions=function(t){return l(this.prototype.options,t),this},Ct.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),r=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function Et(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=D(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var xt={on:function(t,e,r){if(typeof t=="object")for(var a in t)this._on(a,t[a],e);else{t=S(t);for(var u=0,f=t.length;u<f;u++)this._on(t[u],e,r)}return this},off:function(t,e,r){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var a in t)this._off(a,t[a],e);else{t=S(t);for(var u=arguments.length===1,f=0,y=t.length;f<y;f++)u?this._off(t[f]):this._off(t[f],e,r)}return this},_on:function(t,e,r,a){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,r)===!1){r===this&&(r=void 0);var u={fn:e,ctx:r};a&&(u.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(u)}},_off:function(t,e,r){var a,u,f;if(this._events&&(a=this._events[t],!!a)){if(arguments.length===1){if(this._firingCount)for(u=0,f=a.length;u<f;u++)a[u].fn=m;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var y=this._listens(t,e,r);if(y!==!1){var w=a[y];this._firingCount&&(w.fn=m,this._events[t]=a=a.slice()),a.splice(y,1)}}},fire:function(t,e,r){if(!this.listens(t,r))return this;var a=l({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var u=this._events[t];if(u){this._firingCount=this._firingCount+1||1;for(var f=0,y=u.length;f<y;f++){var w=u[f],P=w.fn;w.once&&this.off(t,P,w.ctx),P.call(w.ctx||this,a)}this._firingCount--}}return r&&this._propagateEvent(a),this},listens:function(t,e,r,a){typeof t!="string"&&console.warn('"string" type argument expected');var u=e;typeof e!="function"&&(a=!!e,u=void 0,r=void 0);var f=this._events&&this._events[t];if(f&&f.length&&this._listens(t,u,r)!==!1)return!0;if(a){for(var y in this._eventParents)if(this._eventParents[y].listens(t,e,r,a))return!0}return!1},_listens:function(t,e,r){if(!this._events)return!1;var a=this._events[t]||[];if(!e)return!!a.length;r===this&&(r=void 0);for(var u=0,f=a.length;u<f;u++)if(a[u].fn===e&&a[u].ctx===r)return u;return!1},once:function(t,e,r){if(typeof t=="object")for(var a in t)this._on(a,t[a],e,!0);else{t=S(t);for(var u=0,f=t.length;u<f;u++)this._on(t[u],e,r,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[h(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[h(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,l({layer:t.target,propagatedFrom:t.target},t),!0)}};xt.addEventListener=xt.on,xt.removeEventListener=xt.clearAllEventListeners=xt.off,xt.addOneTimeEventListener=xt.once,xt.fireEvent=xt.fire,xt.hasEventListeners=xt.listens;var qt=Ct.extend(xt);function H(t,e,r){this.x=r?Math.round(t):t,this.y=r?Math.round(e):e}var Ae=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(t){return this.clone()._add(G(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(G(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new H(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new H(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ae(this.x),this.y=Ae(this.y),this},distanceTo:function(t){t=G(t);var e=t.x-this.x,r=t.y-this.y;return Math.sqrt(e*e+r*r)},equals:function(t){return t=G(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=G(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function G(t,e,r){return t instanceof H?t:D(t)?new H(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new H(t.x,t.y):new H(t,e,r)}function it(t,e){if(t)for(var r=e?[t,e]:t,a=0,u=r.length;a<u;a++)this.extend(r[a])}it.prototype={extend:function(t){var e,r;if(!t)return this;if(t instanceof H||typeof t[0]=="number"||"x"in t)e=r=G(t);else if(t=pt(t),e=t.min,r=t.max,!e||!r)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=r.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this},getCenter:function(t){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,r;return typeof t[0]=="number"||t instanceof H?t=G(t):t=pt(t),t instanceof it?(e=t.min,r=t.max):e=r=t,e.x>=this.min.x&&r.x<=this.max.x&&e.y>=this.min.y&&r.y<=this.max.y},intersects:function(t){t=pt(t);var e=this.min,r=this.max,a=t.min,u=t.max,f=u.x>=e.x&&a.x<=r.x,y=u.y>=e.y&&a.y<=r.y;return f&&y},overlaps:function(t){t=pt(t);var e=this.min,r=this.max,a=t.min,u=t.max,f=u.x>e.x&&a.x<r.x,y=u.y>e.y&&a.y<r.y;return f&&y},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,r=this.max,a=Math.abs(e.x-r.x)*t,u=Math.abs(e.y-r.y)*t;return pt(G(e.x-a,e.y-u),G(r.x+a,r.y+u))},equals:function(t){return t?(t=pt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function pt(t,e){return!t||t instanceof it?t:new it(t,e)}function ut(t,e){if(t)for(var r=e?[t,e]:t,a=0,u=r.length;a<u;a++)this.extend(r[a])}ut.prototype={extend:function(t){var e=this._southWest,r=this._northEast,a,u;if(t instanceof Q)a=t,u=t;else if(t instanceof ut){if(a=t._southWest,u=t._northEast,!a||!u)return this}else return t?this.extend(V(t)||st(t)):this;return!e&&!r?(this._southWest=new Q(a.lat,a.lng),this._northEast=new Q(u.lat,u.lng)):(e.lat=Math.min(a.lat,e.lat),e.lng=Math.min(a.lng,e.lng),r.lat=Math.max(u.lat,r.lat),r.lng=Math.max(u.lng,r.lng)),this},pad:function(t){var e=this._southWest,r=this._northEast,a=Math.abs(e.lat-r.lat)*t,u=Math.abs(e.lng-r.lng)*t;return new ut(new Q(e.lat-a,e.lng-u),new Q(r.lat+a,r.lng+u))},getCenter:function(){return new Q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Q(this.getNorth(),this.getWest())},getSouthEast:function(){return new Q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Q||"lat"in t?t=V(t):t=st(t);var e=this._southWest,r=this._northEast,a,u;return t instanceof ut?(a=t.getSouthWest(),u=t.getNorthEast()):a=u=t,a.lat>=e.lat&&u.lat<=r.lat&&a.lng>=e.lng&&u.lng<=r.lng},intersects:function(t){t=st(t);var e=this._southWest,r=this._northEast,a=t.getSouthWest(),u=t.getNorthEast(),f=u.lat>=e.lat&&a.lat<=r.lat,y=u.lng>=e.lng&&a.lng<=r.lng;return f&&y},overlaps:function(t){t=st(t);var e=this._southWest,r=this._northEast,a=t.getSouthWest(),u=t.getNorthEast(),f=u.lat>e.lat&&a.lat<r.lat,y=u.lng>e.lng&&a.lng<r.lng;return f&&y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=st(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function st(t,e){return t instanceof ut?t:new ut(t,e)}function Q(t,e,r){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,r!==void 0&&(this.alt=+r)}Q.prototype={equals:function(t,e){if(!t)return!1;t=V(t);var r=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return r<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+_(this.lat,t)+", "+_(this.lng,t)+")"},distanceTo:function(t){return Ht.distance(this,V(t))},wrap:function(){return Ht.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,r=e/Math.cos(Math.PI/180*this.lat);return st([this.lat-e,this.lng-r],[this.lat+e,this.lng+r])},clone:function(){return new Q(this.lat,this.lng,this.alt)}};function V(t,e,r){return t instanceof Q?t:D(t)&&typeof t[0]!="object"?t.length===3?new Q(t[0],t[1],t[2]):t.length===2?new Q(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Q(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new Q(t,e,r)}var At={latLngToPoint:function(t,e){var r=this.projection.project(t),a=this.scale(e);return this.transformation._transform(r,a)},pointToLatLng:function(t,e){var r=this.scale(e),a=this.transformation.untransform(t,r);return this.projection.unproject(a)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,r=this.scale(t),a=this.transformation.transform(e.min,r),u=this.transformation.transform(e.max,r);return new it(a,u)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?v(t.lng,this.wrapLng,!0):t.lng,r=this.wrapLat?v(t.lat,this.wrapLat,!0):t.lat,a=t.alt;return new Q(r,e,a)},wrapLatLngBounds:function(t){var e=t.getCenter(),r=this.wrapLatLng(e),a=e.lat-r.lat,u=e.lng-r.lng;if(a===0&&u===0)return t;var f=t.getSouthWest(),y=t.getNorthEast(),w=new Q(f.lat-a,f.lng-u),P=new Q(y.lat-a,y.lng-u);return new ut(w,P)}},Ht=l({},At,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var r=Math.PI/180,a=t.lat*r,u=e.lat*r,f=Math.sin((e.lat-t.lat)*r/2),y=Math.sin((e.lng-t.lng)*r/2),w=f*f+Math.cos(a)*Math.cos(u)*y*y,P=2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w));return this.R*P}}),oe=6378137,ae={R:oe,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,r=this.MAX_LATITUDE,a=Math.max(Math.min(r,t.lat),-r),u=Math.sin(a*e);return new H(this.R*t.lng*e,this.R*Math.log((1+u)/(1-u))/2)},unproject:function(t){var e=180/Math.PI;return new Q((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=oe*Math.PI;return new it([-t,-t],[t,t])}()};function ln(t,e,r,a){if(D(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=r,this._d=a}ln.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new H((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function mt(t,e,r,a){return new ln(t,e,r,a)}var Kt=l({},Ht,{code:"EPSG:3857",projection:ae,transformation:function(){var t=.5/(Math.PI*ae.R);return mt(t,.5,-t,.5)}()}),Zs=l({},Kt,{code:"EPSG:900913"});function Sr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Lr(t,e){var r="",a,u,f,y,w,P;for(a=0,f=t.length;a<f;a++){for(w=t[a],u=0,y=w.length;u<y;u++)P=w[u],r+=(u?"L":"M")+P.x+" "+P.y;r+=e?Z.svg?"z":"x":""}return r||"M0 0"}var Qn=document.documentElement.style,cn="ActiveXObject"in window,js=cn&&!document.addEventListener,Cr="msLaunchUri"in navigator&&!("documentMode"in document),ti=Gt("webkit"),Tr=Gt("android"),Ir=Gt("android 2")||Gt("android 3"),Hs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Gs=Tr&&Gt("Google")&&Hs<537&&!("AudioNode"in window),ei=!!window.opera,kr=!Cr&&Gt("chrome"),Er=Gt("gecko")&&!ti&&!ei&&!cn,Ws=!kr&&Gt("safari"),Ar=Gt("phantom"),Dr="OTransition"in Qn,Us=navigator.platform.indexOf("Win")===0,Mr=cn&&"transition"in Qn,ni="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ir,Or="MozPerspective"in Qn,Vs=!window.L_DISABLE_3D&&(Mr||ni||Or)&&!Dr&&!Ar,De=typeof orientation<"u"||Gt("mobile"),qs=De&&ti,Ks=De&&ni,Br=!window.PointerEvent&&window.MSPointerEvent,Rr=!!(window.PointerEvent||Br),Nr="ontouchstart"in window||!!window.TouchEvent,$s=!window.L_NO_TOUCH&&(Nr||Rr),Ys=De&&ei,Xs=De&&Er,Js=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Qs=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",m,e),window.removeEventListener("testPassiveEventSupport",m,e)}catch{}return t}(),tl=function(){return!!document.createElement("canvas").getContext}(),ii=!!(document.createElementNS&&Sr("svg").createSVGRect),el=!!ii&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),nl=!ii&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}}(),il=navigator.platform.indexOf("Mac")===0,rl=navigator.platform.indexOf("Linux")===0;function Gt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Z={ie:cn,ielt9:js,edge:Cr,webkit:ti,android:Tr,android23:Ir,androidStock:Gs,opera:ei,chrome:kr,gecko:Er,safari:Ws,phantom:Ar,opera12:Dr,win:Us,ie3d:Mr,webkit3d:ni,gecko3d:Or,any3d:Vs,mobile:De,mobileWebkit:qs,mobileWebkit3d:Ks,msPointer:Br,pointer:Rr,touch:$s,touchNative:Nr,mobileOpera:Ys,mobileGecko:Xs,retina:Js,passiveEvents:Qs,canvas:tl,svg:ii,vml:nl,inlineSvg:el,mac:il,linux:rl},zr=Z.msPointer?"MSPointerDown":"pointerdown",Fr=Z.msPointer?"MSPointerMove":"pointermove",Zr=Z.msPointer?"MSPointerUp":"pointerup",jr=Z.msPointer?"MSPointerCancel":"pointercancel",ri={touchstart:zr,touchmove:Fr,touchend:Zr,touchcancel:jr},Hr={touchstart:ul,touchmove:un,touchend:un,touchcancel:un},ge={},Gr=!1;function ol(t,e,r){return e==="touchstart"&&cl(),Hr[e]?(r=Hr[e].bind(this,r),t.addEventListener(ri[e],r,!1),r):(console.warn("wrong event specified:",e),m)}function al(t,e,r){if(!ri[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(ri[e],r,!1)}function sl(t){ge[t.pointerId]=t}function ll(t){ge[t.pointerId]&&(ge[t.pointerId]=t)}function Wr(t){delete ge[t.pointerId]}function cl(){Gr||(document.addEventListener(zr,sl,!0),document.addEventListener(Fr,ll,!0),document.addEventListener(Zr,Wr,!0),document.addEventListener(jr,Wr,!0),Gr=!0)}function un(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var r in ge)e.touches.push(ge[r]);e.changedTouches=[e],t(e)}}function ul(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&yt(e),un(t,e)}function dl(t){var e={},r,a;for(a in t)r=t[a],e[a]=r&&r.bind?r.bind(t):r;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var hl=200;function fl(t,e){t.addEventListener("dblclick",e);var r=0,a;function u(f){if(f.detail!==1){a=f.detail;return}if(!(f.pointerType==="mouse"||f.sourceCapabilities&&!f.sourceCapabilities.firesTouchEvents)){var y=$r(f);if(!(y.some(function(P){return P instanceof HTMLLabelElement&&P.attributes.for})&&!y.some(function(P){return P instanceof HTMLInputElement||P instanceof HTMLSelectElement}))){var w=Date.now();w-r<=hl?(a++,a===2&&e(dl(f))):a=1,r=w}}}return t.addEventListener("click",u),{dblclick:e,simDblclick:u}}function pl(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var oi=fn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Me=fn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ur=Me==="webkitTransition"||Me==="OTransition"?Me+"End":"transitionend";function Vr(t){return typeof t=="string"?document.getElementById(t):t}function Oe(t,e){var r=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!r||r==="auto")&&document.defaultView){var a=document.defaultView.getComputedStyle(t,null);r=a?a[e]:null}return r==="auto"?null:r}function tt(t,e,r){var a=document.createElement(t);return a.className=e||"",r&&r.appendChild(a),a}function lt(t){var e=t.parentNode;e&&e.removeChild(t)}function dn(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function _e(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ve(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ai(t,e){if(t.classList!==void 0)return t.classList.contains(e);var r=hn(t);return r.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(r)}function U(t,e){if(t.classList!==void 0)for(var r=S(e),a=0,u=r.length;a<u;a++)t.classList.add(r[a]);else if(!ai(t,e)){var f=hn(t);si(t,(f?f+" ":"")+e)}}function ct(t,e){t.classList!==void 0?t.classList.remove(e):si(t,b((" "+hn(t)+" ").replace(" "+e+" "," ")))}function si(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function hn(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Dt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&ml(t,e)}function ml(t,e){var r=!1,a="DXImageTransform.Microsoft.Alpha";try{r=t.filters.item(a)}catch{if(e===1)return}e=Math.round(e*100),r?(r.Enabled=e!==100,r.Opacity=e):t.style.filter+=" progid:"+a+"(opacity="+e+")"}function fn(t){for(var e=document.documentElement.style,r=0;r<t.length;r++)if(t[r]in e)return t[r];return!1}function se(t,e,r){var a=e||new H(0,0);t.style[oi]=(Z.ie3d?"translate("+a.x+"px,"+a.y+"px)":"translate3d("+a.x+"px,"+a.y+"px,0)")+(r?" scale("+r+")":"")}function dt(t,e){t._leaflet_pos=e,Z.any3d?se(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function le(t){return t._leaflet_pos||new H(0,0)}var Be,Re,li;if("onselectstart"in document)Be=function(){W(window,"selectstart",yt)},Re=function(){ot(window,"selectstart",yt)};else{var Ne=fn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Be=function(){if(Ne){var t=document.documentElement.style;li=t[Ne],t[Ne]="none"}},Re=function(){Ne&&(document.documentElement.style[Ne]=li,li=void 0)}}function ci(){W(window,"dragstart",yt)}function ui(){ot(window,"dragstart",yt)}var pn,di;function hi(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(mn(),pn=t,di=t.style.outlineStyle,t.style.outlineStyle="none",W(window,"keydown",mn))}function mn(){pn&&(pn.style.outlineStyle=di,pn=void 0,di=void 0,ot(window,"keydown",mn))}function qr(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function fi(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var gl={__proto__:null,TRANSFORM:oi,TRANSITION:Me,TRANSITION_END:Ur,get:Vr,getStyle:Oe,create:tt,remove:lt,empty:dn,toFront:_e,toBack:ve,hasClass:ai,addClass:U,removeClass:ct,setClass:si,getClass:hn,setOpacity:Dt,testProp:fn,setTransform:se,setPosition:dt,getPosition:le,get disableTextSelection(){return Be},get enableTextSelection(){return Re},disableImageDrag:ci,enableImageDrag:ui,preventOutline:hi,restoreOutline:mn,getSizedParentNode:qr,getScale:fi};function W(t,e,r,a){if(e&&typeof e=="object")for(var u in e)mi(t,u,e[u],r);else{e=S(e);for(var f=0,y=e.length;f<y;f++)mi(t,e[f],r,a)}return this}var Wt="_leaflet_events";function ot(t,e,r,a){if(arguments.length===1)Kr(t),delete t[Wt];else if(e&&typeof e=="object")for(var u in e)gi(t,u,e[u],r);else if(e=S(e),arguments.length===2)Kr(t,function(w){return B(e,w)!==-1});else for(var f=0,y=e.length;f<y;f++)gi(t,e[f],r,a);return this}function Kr(t,e){for(var r in t[Wt]){var a=r.split(/\d/)[0];(!e||e(a))&&gi(t,a,null,null,r)}}var pi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function mi(t,e,r,a){var u=e+h(r)+(a?"_"+h(a):"");if(t[Wt]&&t[Wt][u])return this;var f=function(w){return r.call(a||t,w||window.event)},y=f;!Z.touchNative&&Z.pointer&&e.indexOf("touch")===0?f=ol(t,e,f):Z.touch&&e==="dblclick"?f=fl(t,f):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(pi[e]||e,f,Z.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(f=function(w){w=w||window.event,vi(t,w)&&y(w)},t.addEventListener(pi[e],f,!1)):t.addEventListener(e,y,!1):t.attachEvent("on"+e,f),t[Wt]=t[Wt]||{},t[Wt][u]=f}function gi(t,e,r,a,u){u=u||e+h(r)+(a?"_"+h(a):"");var f=t[Wt]&&t[Wt][u];if(!f)return this;!Z.touchNative&&Z.pointer&&e.indexOf("touch")===0?al(t,e,f):Z.touch&&e==="dblclick"?pl(t,f):"removeEventListener"in t?t.removeEventListener(pi[e]||e,f,!1):t.detachEvent("on"+e,f),t[Wt][u]=null}function ce(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function _i(t){return mi(t,"wheel",ce),this}function ze(t){return W(t,"mousedown touchstart dblclick contextmenu",ce),t._leaflet_disable_click=!0,this}function yt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function ue(t){return yt(t),ce(t),this}function $r(t){if(t.composedPath)return t.composedPath();for(var e=[],r=t.target;r;)e.push(r),r=r.parentNode;return e}function Yr(t,e){if(!e)return new H(t.clientX,t.clientY);var r=fi(e),a=r.boundingClientRect;return new H((t.clientX-a.left)/r.x-e.clientLeft,(t.clientY-a.top)/r.y-e.clientTop)}var _l=Z.linux&&Z.chrome?window.devicePixelRatio:Z.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xr(t){return Z.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/_l:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function vi(t,e){var r=e.relatedTarget;if(!r)return!0;try{for(;r&&r!==t;)r=r.parentNode}catch{return!1}return r!==t}var vl={__proto__:null,on:W,off:ot,stopPropagation:ce,disableScrollPropagation:_i,disableClickPropagation:ze,preventDefault:yt,stop:ue,getPropagationPath:$r,getMousePosition:Yr,getWheelDelta:Xr,isExternalTarget:vi,addListener:W,removeListener:ot},Jr=qt.extend({run:function(t,e,r,a){this.stop(),this._el=t,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(a||.5,.2),this._startPos=le(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,r=this._duration*1e3;e<r?this._runFrame(this._easeOut(e/r),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var r=this._startPos.add(this._offset.multiplyBy(t));e&&r._round(),dt(this._el,r),this.fire("step")},_complete:function(){rt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Y=qt.extend({options:{crs:Kt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=C(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(V(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Me&&Z.any3d&&!Z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),W(this._proxy,Ur,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,r){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(V(t),e,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=l({animate:r.animate},r.zoom),r.pan=l({animate:r.animate,duration:r.duration},r.pan));var a=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,r.zoom):this._tryAnimatedPan(t,r.pan);if(a)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,r.pan&&r.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,r){var a=this.getZoomScale(e),u=this.getSize().divideBy(2),f=t instanceof H?t:this.latLngToContainerPoint(t),y=f.subtract(u).multiplyBy(1-1/a),w=this.containerPointToLatLng(u.add(y));return this.setView(w,e,{zoom:r})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():st(t);var r=G(e.paddingTopLeft||e.padding||[0,0]),a=G(e.paddingBottomRight||e.padding||[0,0]),u=this.getBoundsZoom(t,!1,r.add(a));if(u=typeof e.maxZoom=="number"?Math.min(e.maxZoom,u):u,u===1/0)return{center:t.getCenter(),zoom:u};var f=a.subtract(r).divideBy(2),y=this.project(t.getSouthWest(),u),w=this.project(t.getNorthEast(),u),P=this.unproject(y.add(w).divideBy(2).add(f),u);return{center:P,zoom:u}},fitBounds:function(t,e){if(t=st(t),!t.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(t,e);return this.setView(r.center,r.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=G(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Jr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){U(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,r,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,r){if(r=r||{},r.animate===!1||!Z.any3d)return this.setView(t,e,r);this._stop();var a=this.project(this.getCenter()),u=this.project(t),f=this.getSize(),y=this._zoom;t=V(t),e=e===void 0?y:e;var w=Math.max(f.x,f.y),P=w*this.getZoomScale(y,e),k=u.distanceTo(a)||1,R=1.42,j=R*R;function q(ht){var Tn=ht?-1:1,ac=ht?P:w,sc=P*P-w*w+Tn*j*j*k*k,lc=2*ac*j*k,ki=sc/lc,Mo=Math.sqrt(ki*ki+1)-ki,cc=Mo<1e-9?-18:Math.log(Mo);return cc}function wt(ht){return(Math.exp(ht)-Math.exp(-ht))/2}function gt(ht){return(Math.exp(ht)+Math.exp(-ht))/2}function Ot(ht){return wt(ht)/gt(ht)}var Lt=q(0);function Se(ht){return w*(gt(Lt)/gt(Lt+R*ht))}function nc(ht){return w*(gt(Lt)*Ot(Lt+R*ht)-wt(Lt))/j}function ic(ht){return 1-Math.pow(1-ht,1.5)}var rc=Date.now(),Ao=(q(1)-Lt)/R,oc=r.duration?1e3*r.duration:1e3*Ao*.8;function Do(){var ht=(Date.now()-rc)/oc,Tn=ic(ht)*Ao;ht<=1?(this._flyToFrame=K(Do,this),this._move(this.unproject(a.add(u.subtract(a).multiplyBy(nc(Tn)/k)),y),this.getScaleZoom(w/Se(Tn),y),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),Do.call(this),this},flyToBounds:function(t,e){var r=this._getBoundsCenterZoom(t,e);return this.flyTo(r.center,r.zoom,e)},setMaxBounds:function(t){return t=st(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var r=this.getCenter(),a=this._limitCenter(r,this._zoom,st(t));return r.equals(a)||this.panTo(a,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var r=G(e.paddingTopLeft||e.padding||[0,0]),a=G(e.paddingBottomRight||e.padding||[0,0]),u=this.project(this.getCenter()),f=this.project(t),y=this.getPixelBounds(),w=pt([y.min.add(r),y.max.subtract(a)]),P=w.getSize();if(!w.contains(f)){this._enforcingBounds=!0;var k=f.subtract(w.getCenter()),R=w.extend(f).getSize().subtract(P);u.x+=k.x<0?-R.x:R.x,u.y+=k.y<0?-R.y:R.y,this.panTo(this.unproject(u),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=l({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),a=e.divideBy(2).round(),u=r.divideBy(2).round(),f=a.subtract(u);return!f.x&&!f.y?this:(t.animate&&t.pan?this.panBy(f):(t.pan&&this._rawPanBy(f),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=l({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=d(this._handleGeolocationResponse,this),r=d(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,r,t):navigator.geolocation.getCurrentPosition(e,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,r=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,r=t.coords.longitude,a=new Q(e,r),u=a.toBounds(t.coords.accuracy*2),f=this._locateOptions;if(f.setView){var y=this.getBoundsZoom(u);this.setView(a,f.maxZoom?Math.min(y,f.maxZoom):y)}var w={latlng:a,bounds:u,timestamp:t.timestamp};for(var P in t.coords)typeof t.coords[P]=="number"&&(w[P]=t.coords[P]);this.fire("locationfound",w)}},addHandler:function(t,e){if(!e)return this;var r=this[t]=new e(this);return this._handlers.push(r),this.options[t]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(rt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)lt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var r="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),a=tt("div",r,e||this._mapPane);return t&&(this._panes[t]=a),a},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),r=this.unproject(t.getTopRight());return new ut(e,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,r){t=st(t),r=G(r||[0,0]);var a=this.getZoom()||0,u=this.getMinZoom(),f=this.getMaxZoom(),y=t.getNorthWest(),w=t.getSouthEast(),P=this.getSize().subtract(r),k=pt(this.project(w,a),this.project(y,a)).getSize(),R=Z.any3d?this.options.zoomSnap:1,j=P.x/k.x,q=P.y/k.y,wt=e?Math.max(j,q):Math.min(j,q);return a=this.getScaleZoom(wt,a),R&&(a=Math.round(a/(R/100))*(R/100),a=e?Math.ceil(a/R)*R:Math.floor(a/R)*R),Math.max(u,Math.min(f,a))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var r=this._getTopLeftPoint(t,e);return new it(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var r=this.options.crs;return e=e===void 0?this._zoom:e,r.scale(t)/r.scale(e)},getScaleZoom:function(t,e){var r=this.options.crs;e=e===void 0?this._zoom:e;var a=r.zoom(t*r.scale(e));return isNaN(a)?1/0:a},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(V(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(G(t),e)},layerPointToLatLng:function(t){var e=G(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(V(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(V(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(st(t))},distance:function(t,e){return this.options.crs.distance(V(t),V(e))},containerPointToLayerPoint:function(t){return G(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return G(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(G(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(V(t)))},mouseEventToContainerPoint:function(t){return Yr(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=Vr(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");W(e,"scroll",this._onScroll,this),this._containerId=h(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Z.any3d,U(t,"leaflet-container"+(Z.touch?" leaflet-touch":"")+(Z.retina?" leaflet-retina":"")+(Z.ielt9?" leaflet-oldie":"")+(Z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=Oe(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&e!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),dt(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(U(t.markerPane,"leaflet-zoom-hide"),U(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,r){dt(this._mapPane,new H(0,0));var a=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var u=this._zoom!==e;this._moveStart(u,r)._move(t,e)._moveEnd(u),this.fire("viewreset"),a&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,r,a){e===void 0&&(e=this._zoom);var u=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),a?r&&r.pinch&&this.fire("zoom",r):((u||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return rt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){dt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[h(this._container)]=this;var e=t?ot:W;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Z.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){rt(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var r=[],a,u=e==="mouseout"||e==="mouseover",f=t.target||t.srcElement,y=!1;f;){if(a=this._targets[h(f)],a&&(e==="click"||e==="preclick")&&this._draggableMoved(a)){y=!0;break}if(a&&a.listens(e,!0)&&(u&&!vi(f,t)||(r.push(a),u))||f===this._container)break;f=f.parentNode}return!r.length&&!y&&!u&&this.listens(e,!0)&&(r=[this]),r},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var r=t.type;r==="mousedown"&&hi(e),this._fireDOMEvent(t,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,r){if(t.type==="click"){var a=l({},t);a.type="preclick",this._fireDOMEvent(a,a.type,r)}var u=this._findEventTargets(t,e);if(r){for(var f=[],y=0;y<r.length;y++)r[y].listens(e,!0)&&f.push(r[y]);u=f.concat(u)}if(u.length){e==="contextmenu"&&yt(t);var w=u[0],P={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var k=w.getLatLng&&(!w._radius||w._radius<=10);P.containerPoint=k?this.latLngToContainerPoint(w.getLatLng()):this.mouseEventToContainerPoint(t),P.layerPoint=this.containerPointToLayerPoint(P.containerPoint),P.latlng=k?w.getLatLng():this.layerPointToLatLng(P.layerPoint)}for(y=0;y<u.length;y++)if(u[y].fire(e,P,!0),P.originalEvent._stopped||u[y].options.bubblingMouseEvents===!1&&B(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return le(this._mapPane)||new H(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var r=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var r=this.getSize()._divideBy(2);return this.project(t,e)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,r){var a=this._getNewPixelOrigin(r,e);return this.project(t,e)._subtract(a)},_latLngBoundsToNewLayerBounds:function(t,e,r){var a=this._getNewPixelOrigin(r,e);return pt([this.project(t.getSouthWest(),e)._subtract(a),this.project(t.getNorthWest(),e)._subtract(a),this.project(t.getSouthEast(),e)._subtract(a),this.project(t.getNorthEast(),e)._subtract(a)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,r){if(!r)return t;var a=this.project(t,e),u=this.getSize().divideBy(2),f=new it(a.subtract(u),a.add(u)),y=this._getBoundsOffset(f,r,e);return Math.abs(y.x)<=1&&Math.abs(y.y)<=1?t:this.unproject(a.add(y),e)},_limitOffset:function(t,e){if(!e)return t;var r=this.getPixelBounds(),a=new it(r.min.add(t),r.max.add(t));return t.add(this._getBoundsOffset(a,e))},_getBoundsOffset:function(t,e,r){var a=pt(this.project(e.getNorthEast(),r),this.project(e.getSouthWest(),r)),u=a.min.subtract(t.min),f=a.max.subtract(t.max),y=this._rebound(u.x,-f.x),w=this._rebound(u.y,-f.y);return new H(y,w)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),r=this.getMaxZoom(),a=Z.any3d?this.options.zoomSnap:1;return a&&(t=Math.round(t/a)*a),Math.max(e,Math.min(r,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ct(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var r=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,e),!0)},_createAnimProxy:function(){var t=this._proxy=tt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var r=oi,a=this._proxy.style[r];se(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),a===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();se(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var a=this.getZoomScale(e),u=this._getCenterOffset(t)._divideBy(1-1/a);return r.animate!==!0&&!this.getSize().contains(u)?!1:(K(function(){this._moveStart(!0,r.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,r,a){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,U(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:a}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ct(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function yl(t,e){return new Y(t,e)}var Ft=Ct.extend({options:{position:"topright"},initialize:function(t){C(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),r=this.getPosition(),a=t._controlCorners[r];return U(e,"leaflet-control"),r.indexOf("bottom")!==-1?a.insertBefore(e,a.firstChild):a.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Fe=function(t){return new Ft(t)};Y.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",r=this._controlContainer=tt("div",e+"control-container",this._container);function a(u,f){var y=e+u+" "+e+f;t[u+f]=tt("div",y,r)}a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)lt(this._controlCorners[t]);lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Qr=Ft.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,r,a){return r<a?-1:a<r?1:0}},initialize:function(t,e,r){C(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var a in t)this._addLayer(t[a],a);for(a in e)this._addLayer(e[a],a,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ft.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(h(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){U(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(U(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ct(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ct(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=tt("div",t),r=this.options.collapsed;e.setAttribute("aria-haspopup",!0),ze(e),_i(e);var a=this._section=tt("section",t+"-list");r&&(this._map.on("click",this.collapse,this),W(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var u=this._layersLink=tt("a",t+"-toggle",e);u.href="#",u.title="Layers",u.setAttribute("role","button"),W(u,{keydown:function(f){f.keyCode===13&&this._expandSafely()},click:function(f){yt(f),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=tt("div",t+"-base",a),this._separator=tt("div",t+"-separator",a),this._overlaysList=tt("div",t+"-overlays",a),e.appendChild(a)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&h(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,r){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:r}),this.options.sortLayers&&this._layers.sort(d(function(a,u){return this.options.sortFunction(a.layer,u.layer,a.name,u.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;dn(this._baseLayersList),dn(this._overlaysList),this._layerControlInputs=[];var t,e,r,a,u=0;for(r=0;r<this._layers.length;r++)a=this._layers[r],this._addItem(a),e=e||a.overlay,t=t||!a.overlay,u+=a.overlay?0:1;return this.options.hideSingleBase&&(t=t&&u>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(h(t.target)),r=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;r&&this._map.fire(r,e)},_createRadioElement:function(t,e){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",a=document.createElement("div");return a.innerHTML=r,a.firstChild},_addItem:function(t){var e=document.createElement("label"),r=this._map.hasLayer(t.layer),a;t.overlay?(a=document.createElement("input"),a.type="checkbox",a.className="leaflet-control-layers-selector",a.defaultChecked=r):a=this._createRadioElement("leaflet-base-layers_"+h(this),r),this._layerControlInputs.push(a),a.layerId=h(t.layer),W(a,"click",this._onInputClick,this);var u=document.createElement("span");u.innerHTML=" "+t.name;var f=document.createElement("span");e.appendChild(f),f.appendChild(a),f.appendChild(u);var y=t.overlay?this._overlaysList:this._baseLayersList;return y.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,e,r,a=[],u=[];this._handlingClick=!0;for(var f=t.length-1;f>=0;f--)e=t[f],r=this._getLayer(e.layerId).layer,e.checked?a.push(r):e.checked||u.push(r);for(f=0;f<u.length;f++)this._map.hasLayer(u[f])&&this._map.removeLayer(u[f]);for(f=0;f<a.length;f++)this._map.hasLayer(a[f])||this._map.addLayer(a[f]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,r,a=this._map.getZoom(),u=t.length-1;u>=0;u--)e=t[u],r=this._getLayer(e.layerId).layer,e.disabled=r.options.minZoom!==void 0&&a<r.options.minZoom||r.options.maxZoom!==void 0&&a>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,W(t,"click",yt),this.expand();var e=this;setTimeout(function(){ot(t,"click",yt),e._preventClick=!1})}}),bl=function(t,e,r){return new Qr(t,e,r)},yi=Ft.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",r=tt("div",e+" leaflet-bar"),a=this.options;return this._zoomInButton=this._createButton(a.zoomInText,a.zoomInTitle,e+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(a.zoomOutText,a.zoomOutTitle,e+"-out",r,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,r,a,u){var f=tt("a",r,a);return f.innerHTML=t,f.href="#",f.title=e,f.setAttribute("role","button"),f.setAttribute("aria-label",e),ze(f),W(f,"click",ue),W(f,"click",u,this),W(f,"click",this._refocusOnMap,this),f},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ct(this._zoomInButton,e),ct(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(U(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(U(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});Y.mergeOptions({zoomControl:!0}),Y.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new yi,this.addControl(this.zoomControl))});var xl=function(t){return new yi(t)},to=Ft.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",r=tt("div",e),a=this.options;return this._addScales(a,e+"-line",r),t.on(a.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),r},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,r){t.metric&&(this._mScale=tt("div",e,r)),t.imperial&&(this._iScale=tt("div",e,r))},_update:function(){var t=this._map,e=t.getSize().y/2,r=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(r)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),r=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,r,e/t)},_updateImperial:function(t){var e=t*3.2808399,r,a,u;e>5280?(r=e/5280,a=this._getRoundNum(r),this._updateScale(this._iScale,a+" mi",a/r)):(u=this._getRoundNum(e),this._updateScale(this._iScale,u+" ft",u/e))},_updateScale:function(t,e,r){t.style.width=Math.round(this.options.maxWidth*r)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),r=t/e;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,e*r}}),wl=function(t){return new to(t)},Pl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',bi=Ft.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Z.inlineSvg?Pl+" ":"")+"Leaflet</a>"},initialize:function(t){C(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=tt("div","leaflet-control-attribution"),ze(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var r=[];this.options.prefix&&r.push(this.options.prefix),t.length&&r.push(t.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});Y.mergeOptions({attributionControl:!0}),Y.addInitHook(function(){this.options.attributionControl&&new bi().addTo(this)});var Sl=function(t){return new bi(t)};Ft.Layers=Qr,Ft.Zoom=yi,Ft.Scale=to,Ft.Attribution=bi,Fe.layers=bl,Fe.zoom=xl,Fe.scale=wl,Fe.attribution=Sl;var Ut=Ct.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ut.addTo=function(t,e){return t.addHandler(e,this),this};var Ll={Events:xt},eo=Z.touch?"touchstart mousedown":"mousedown",Qt=qt.extend({options:{clickTolerance:3},initialize:function(t,e,r,a){C(this,a),this._element=t,this._dragStartTarget=e||t,this._preventOutline=r},enable:function(){this._enabled||(W(this._dragStartTarget,eo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qt._dragging===this&&this.finishDrag(!0),ot(this._dragStartTarget,eo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ai(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Qt._dragging===this&&this.finishDrag();return}if(!(Qt._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Qt._dragging=this,this._preventOutline&&hi(this._element),ci(),Be(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,r=qr(this._element);this._startPoint=new H(e.clientX,e.clientY),this._startPos=le(this._element),this._parentScale=fi(r);var a=t.type==="mousedown";W(document,a?"mousemove":"touchmove",this._onMove,this),W(document,a?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,r=new H(e.clientX,e.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,yt(t),this._moved||(this.fire("dragstart"),this._moved=!0,U(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),U(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),dt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){ct(document.body,"leaflet-dragging"),this._lastTarget&&(ct(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ot(document,"mousemove touchmove",this._onMove,this),ot(document,"mouseup touchend touchcancel",this._onUp,this),ui(),Re();var e=this._moved&&this._moving;this._moving=!1,Qt._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function no(t,e,r){var a,u=[1,4,2,8],f,y,w,P,k,R,j,q;for(f=0,R=t.length;f<R;f++)t[f]._code=de(t[f],e);for(w=0;w<4;w++){for(j=u[w],a=[],f=0,R=t.length,y=R-1;f<R;y=f++)P=t[f],k=t[y],P._code&j?k._code&j||(q=gn(k,P,j,e,r),q._code=de(q,e),a.push(q)):(k._code&j&&(q=gn(k,P,j,e,r),q._code=de(q,e),a.push(q)),a.push(P));t=a}return t}function io(t,e){var r,a,u,f,y,w,P,k,R;if(!t||t.length===0)throw new Error("latlngs not passed");Mt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var j=V([0,0]),q=st(t),wt=q.getNorthWest().distanceTo(q.getSouthWest())*q.getNorthEast().distanceTo(q.getNorthWest());wt<1700&&(j=xi(t));var gt=t.length,Ot=[];for(r=0;r<gt;r++){var Lt=V(t[r]);Ot.push(e.project(V([Lt.lat-j.lat,Lt.lng-j.lng])))}for(w=P=k=0,r=0,a=gt-1;r<gt;a=r++)u=Ot[r],f=Ot[a],y=u.y*f.x-f.y*u.x,P+=(u.x+f.x)*y,k+=(u.y+f.y)*y,w+=y*3;w===0?R=Ot[0]:R=[P/w,k/w];var Se=e.unproject(G(R));return V([Se.lat+j.lat,Se.lng+j.lng])}function xi(t){for(var e=0,r=0,a=0,u=0;u<t.length;u++){var f=V(t[u]);e+=f.lat,r+=f.lng,a++}return V([e/a,r/a])}var Cl={__proto__:null,clipPolygon:no,polygonCenter:io,centroid:xi};function ro(t,e){if(!e||!t.length)return t.slice();var r=e*e;return t=kl(t,r),t=Il(t,r),t}function oo(t,e,r){return Math.sqrt(Ze(t,e,r,!0))}function Tl(t,e,r){return Ze(t,e,r)}function Il(t,e){var r=t.length,a=typeof Uint8Array<"u"?Uint8Array:Array,u=new a(r);u[0]=u[r-1]=1,wi(t,u,e,0,r-1);var f,y=[];for(f=0;f<r;f++)u[f]&&y.push(t[f]);return y}function wi(t,e,r,a,u){var f=0,y,w,P;for(w=a+1;w<=u-1;w++)P=Ze(t[w],t[a],t[u],!0),P>f&&(y=w,f=P);f>r&&(e[y]=1,wi(t,e,r,a,y),wi(t,e,r,y,u))}function kl(t,e){for(var r=[t[0]],a=1,u=0,f=t.length;a<f;a++)El(t[a],t[u])>e&&(r.push(t[a]),u=a);return u<f-1&&r.push(t[f-1]),r}var ao;function so(t,e,r,a,u){var f=a?ao:de(t,r),y=de(e,r),w,P,k;for(ao=y;;){if(!(f|y))return[t,e];if(f&y)return!1;w=f||y,P=gn(t,e,w,r,u),k=de(P,r),w===f?(t=P,f=k):(e=P,y=k)}}function gn(t,e,r,a,u){var f=e.x-t.x,y=e.y-t.y,w=a.min,P=a.max,k,R;return r&8?(k=t.x+f*(P.y-t.y)/y,R=P.y):r&4?(k=t.x+f*(w.y-t.y)/y,R=w.y):r&2?(k=P.x,R=t.y+y*(P.x-t.x)/f):r&1&&(k=w.x,R=t.y+y*(w.x-t.x)/f),new H(k,R,u)}function de(t,e){var r=0;return t.x<e.min.x?r|=1:t.x>e.max.x&&(r|=2),t.y<e.min.y?r|=4:t.y>e.max.y&&(r|=8),r}function El(t,e){var r=e.x-t.x,a=e.y-t.y;return r*r+a*a}function Ze(t,e,r,a){var u=e.x,f=e.y,y=r.x-u,w=r.y-f,P=y*y+w*w,k;return P>0&&(k=((t.x-u)*y+(t.y-f)*w)/P,k>1?(u=r.x,f=r.y):k>0&&(u+=y*k,f+=w*k)),y=t.x-u,w=t.y-f,a?y*y+w*w:new H(u,f)}function Mt(t){return!D(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function lo(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Mt(t)}function co(t,e){var r,a,u,f,y,w,P,k;if(!t||t.length===0)throw new Error("latlngs not passed");Mt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var R=V([0,0]),j=st(t),q=j.getNorthWest().distanceTo(j.getSouthWest())*j.getNorthEast().distanceTo(j.getNorthWest());q<1700&&(R=xi(t));var wt=t.length,gt=[];for(r=0;r<wt;r++){var Ot=V(t[r]);gt.push(e.project(V([Ot.lat-R.lat,Ot.lng-R.lng])))}for(r=0,a=0;r<wt-1;r++)a+=gt[r].distanceTo(gt[r+1])/2;if(a===0)k=gt[0];else for(r=0,f=0;r<wt-1;r++)if(y=gt[r],w=gt[r+1],u=y.distanceTo(w),f+=u,f>a){P=(f-a)/u,k=[w.x-P*(w.x-y.x),w.y-P*(w.y-y.y)];break}var Lt=e.unproject(G(k));return V([Lt.lat+R.lat,Lt.lng+R.lng])}var Al={__proto__:null,simplify:ro,pointToSegmentDistance:oo,closestPointOnSegment:Tl,clipSegment:so,_getEdgeIntersection:gn,_getBitCode:de,_sqClosestPointOnSegment:Ze,isFlat:Mt,_flat:lo,polylineCenter:co},Pi={project:function(t){return new H(t.lng,t.lat)},unproject:function(t){return new Q(t.y,t.x)},bounds:new it([-180,-90],[180,90])},Si={R:6378137,R_MINOR:6356752314245179e-9,bounds:new it([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,r=this.R,a=t.lat*e,u=this.R_MINOR/r,f=Math.sqrt(1-u*u),y=f*Math.sin(a),w=Math.tan(Math.PI/4-a/2)/Math.pow((1-y)/(1+y),f/2);return a=-r*Math.log(Math.max(w,1e-10)),new H(t.lng*e*r,a)},unproject:function(t){for(var e=180/Math.PI,r=this.R,a=this.R_MINOR/r,u=Math.sqrt(1-a*a),f=Math.exp(-t.y/r),y=Math.PI/2-2*Math.atan(f),w=0,P=.1,k;w<15&&Math.abs(P)>1e-7;w++)k=u*Math.sin(y),k=Math.pow((1-k)/(1+k),u/2),P=Math.PI/2-2*Math.atan(f*k)-y,y+=P;return new Q(y*e,t.x*e/r)}},Dl={__proto__:null,LonLat:Pi,Mercator:Si,SphericalMercator:ae},Ml=l({},Ht,{code:"EPSG:3395",projection:Si,transformation:function(){var t=.5/(Math.PI*Si.R);return mt(t,.5,-t,.5)}()}),uo=l({},Ht,{code:"EPSG:4326",projection:Pi,transformation:mt(1/180,1,-1/180,.5)}),Ol=l({},At,{projection:Pi,transformation:mt(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var r=e.lng-t.lng,a=e.lat-t.lat;return Math.sqrt(r*r+a*a)},infinite:!0});At.Earth=Ht,At.EPSG3395=Ml,At.EPSG3857=Kt,At.EPSG900913=Zs,At.EPSG4326=uo,At.Simple=Ol;var Zt=qt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[h(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[h(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var r=this.getEvents();e.on(r,this),this.once("remove",function(){e.off(r,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});Y.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=h(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=h(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return h(t)in this._layers},eachLayer:function(t,e){for(var r in this._layers)t.call(e,this._layers[r]);return this},_addLayers:function(t){t=t?D(t)?t:[t]:[];for(var e=0,r=t.length;e<r;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[h(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=h(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,r=this._getZoomSpan();for(var a in this._zoomBoundLayers){var u=this._zoomBoundLayers[a].options;t=u.minZoom===void 0?t:Math.min(t,u.minZoom),e=u.maxZoom===void 0?e:Math.max(e,u.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ye=Zt.extend({initialize:function(t,e){C(this,e),this._layers={};var r,a;if(t)for(r=0,a=t.length;r<a;r++)this.addLayer(t[r])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),r,a;for(r in this._layers)a=this._layers[r],a[t]&&a[t].apply(a,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var r in this._layers)t.call(e,this._layers[r]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return h(t)}}),Bl=function(t,e){return new ye(t,e)},$t=ye.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ye.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ye.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new ut;for(var e in this._layers){var r=this._layers[e];t.extend(r.getBounds?r.getBounds():r.getLatLng())}return t}}),Rl=function(t,e){return new $t(t,e)},be=Ct.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){C(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var r=this._getIconUrl(t);if(!r){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var a=this._createImg(r,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(a,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),a},_setIconStyles:function(t,e){var r=this.options,a=r[e+"Size"];typeof a=="number"&&(a=[a,a]);var u=G(a),f=G(e==="shadow"&&r.shadowAnchor||r.iconAnchor||u&&u.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(r.className||""),f&&(t.style.marginLeft=-f.x+"px",t.style.marginTop=-f.y+"px"),u&&(t.style.width=u.x+"px",t.style.height=u.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return Z.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Nl(t){return new be(t)}var je=be.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof je.imagePath!="string"&&(je.imagePath=this._detectIconPath()),(this.options.imagePath||je.imagePath)+be.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(r,a,u){var f=a.exec(r);return f&&f[u]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=tt("div","leaflet-default-icon-path",document.body),e=Oe(t,"background-image")||Oe(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),ho=Ut.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Qt(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),U(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ct(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,r=e._map,a=this._marker.options.autoPanSpeed,u=this._marker.options.autoPanPadding,f=le(e._icon),y=r.getPixelBounds(),w=r.getPixelOrigin(),P=pt(y.min._subtract(w).add(u),y.max._subtract(w).subtract(u));if(!P.contains(f)){var k=G((Math.max(P.max.x,f.x)-P.max.x)/(y.max.x-P.max.x)-(Math.min(P.min.x,f.x)-P.min.x)/(y.min.x-P.min.x),(Math.max(P.max.y,f.y)-P.max.y)/(y.max.y-P.max.y)-(Math.min(P.min.y,f.y)-P.min.y)/(y.min.y-P.min.y)).multiplyBy(a);r.panBy(k,{animate:!1}),this._draggable._newPos._add(k),this._draggable._startPos._add(k),dt(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=K(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(rt(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,r=e._shadow,a=le(e._icon),u=e._map.layerPointToLatLng(a);r&&dt(r,a),e._latlng=u,t.latlng=u,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){rt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),_n=Zt.extend({options:{icon:new je,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){C(this,e),this._latlng=V(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=V(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=t.icon.createIcon(this._icon),a=!1;r!==this._icon&&(this._icon&&this._removeIcon(),a=!0,t.title&&(r.title=t.title),r.tagName==="IMG"&&(r.alt=t.alt||"")),U(r,e),t.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&W(r,"focus",this._panOnFocus,this);var u=t.icon.createShadow(this._shadow),f=!1;u!==this._shadow&&(this._removeShadow(),f=!0),u&&(U(u,e),u.alt=""),this._shadow=u,t.opacity<1&&this._updateOpacity(),a&&this.getPane().appendChild(this._icon),this._initInteraction(),u&&f&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(this._icon,"focus",this._panOnFocus,this),lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&lt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&dt(this._icon,t),this._shadow&&dt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(U(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ho)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ho(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Dt(this._icon,t),this._shadow&&Dt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,r=e.iconSize?G(e.iconSize):G(0,0),a=e.iconAnchor?G(e.iconAnchor):G(0,0);t.panInside(this._latlng,{paddingTopLeft:a,paddingBottomRight:r.subtract(a)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function zl(t,e){return new _n(t,e)}var te=Zt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return C(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),vn=te.extend({options:{fill:!0,radius:10},initialize:function(t,e){C(this,e),this._latlng=V(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=V(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return te.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,r=this._clickTolerance(),a=[t+r,e+r];this._pxBounds=new it(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Fl(t,e){return new vn(t,e)}var Li=vn.extend({initialize:function(t,e,r){if(typeof e=="number"&&(e=l({},r,{radius:e})),C(this,e),this._latlng=V(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new ut(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:te.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,r=this._map,a=r.options.crs;if(a.distance===Ht.distance){var u=Math.PI/180,f=this._mRadius/Ht.R/u,y=r.project([e+f,t]),w=r.project([e-f,t]),P=y.add(w).divideBy(2),k=r.unproject(P).lat,R=Math.acos((Math.cos(f*u)-Math.sin(e*u)*Math.sin(k*u))/(Math.cos(e*u)*Math.cos(k*u)))/u;(isNaN(R)||R===0)&&(R=f/Math.cos(Math.PI/180*e)),this._point=P.subtract(r.getPixelOrigin()),this._radius=isNaN(R)?0:P.x-r.project([k,t-R]).x,this._radiusY=P.y-y.y}else{var j=a.unproject(a.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(j).x}this._updateBounds()}});function Zl(t,e,r){return new Li(t,e,r)}var Yt=te.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){C(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,r=null,a=Ze,u,f,y=0,w=this._parts.length;y<w;y++)for(var P=this._parts[y],k=1,R=P.length;k<R;k++){u=P[k-1],f=P[k];var j=a(t,u,f,!0);j<e&&(e=j,r=a(t,u,f))}return r&&(r.distance=Math.sqrt(e)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return co(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=V(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new ut,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Mt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],r=Mt(t),a=0,u=t.length;a<u;a++)r?(e[a]=V(t[a]),this._bounds.extend(e[a])):e[a]=this._convertLatLngs(t[a]);return e},_project:function(){var t=new it;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new H(t,t);this._rawPxBounds&&(this._pxBounds=new it([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,r){var a=t[0]instanceof Q,u=t.length,f,y;if(a){for(y=[],f=0;f<u;f++)y[f]=this._map.latLngToLayerPoint(t[f]),r.extend(y[f]);e.push(y)}else for(f=0;f<u;f++)this._projectLatlngs(t[f],e,r)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,r,a,u,f,y,w,P;for(r=0,u=0,f=this._rings.length;r<f;r++)for(P=this._rings[r],a=0,y=P.length;a<y-1;a++)w=so(P[a],P[a+1],t,a,!0),w&&(e[u]=e[u]||[],e[u].push(w[0]),(w[1]!==P[a+1]||a===y-2)&&(e[u].push(w[1]),u++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,r=0,a=t.length;r<a;r++)t[r]=ro(t[r],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var r,a,u,f,y,w,P=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,f=this._parts.length;r<f;r++)for(w=this._parts[r],a=0,y=w.length,u=y-1;a<y;u=a++)if(!(!e&&a===0)&&oo(t,w[u],w[a])<=P)return!0;return!1}});function jl(t,e){return new Yt(t,e)}Yt._flat=lo;var xe=Yt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return io(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=Yt.prototype._convertLatLngs.call(this,t),r=e.length;return r>=2&&e[0]instanceof Q&&e[0].equals(e[r-1])&&e.pop(),e},_setLatLngs:function(t){Yt.prototype._setLatLngs.call(this,t),Mt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Mt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,r=new H(e,e);if(t=new it(t.min.subtract(r),t.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var a=0,u=this._rings.length,f;a<u;a++)f=no(this._rings[a],t,!0),f.length&&this._parts.push(f)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,r,a,u,f,y,w,P,k;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(f=0,P=this._parts.length;f<P;f++)for(r=this._parts[f],y=0,k=r.length,w=k-1;y<k;w=y++)a=r[y],u=r[w],a.y>t.y!=u.y>t.y&&t.x<(u.x-a.x)*(t.y-a.y)/(u.y-a.y)+a.x&&(e=!e);return e||Yt.prototype._containsPoint.call(this,t,!0)}});function Hl(t,e){return new xe(t,e)}var Xt=$t.extend({initialize:function(t,e){C(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=D(t)?t:t.features,r,a,u;if(e){for(r=0,a=e.length;r<a;r++)u=e[r],(u.geometries||u.geometry||u.features||u.coordinates)&&this.addData(u);return this}var f=this.options;if(f.filter&&!f.filter(t))return this;var y=yn(t,f);return y?(y.feature=wn(t),y.defaultOptions=y.options,this.resetStyle(y),f.onEachFeature&&f.onEachFeature(t,y),this.addLayer(y)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=l({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function yn(t,e){var r=t.type==="Feature"?t.geometry:t,a=r?r.coordinates:null,u=[],f=e&&e.pointToLayer,y=e&&e.coordsToLatLng||Ci,w,P,k,R;if(!a&&!r)return null;switch(r.type){case"Point":return w=y(a),fo(f,t,w,e);case"MultiPoint":for(k=0,R=a.length;k<R;k++)w=y(a[k]),u.push(fo(f,t,w,e));return new $t(u);case"LineString":case"MultiLineString":return P=bn(a,r.type==="LineString"?0:1,y),new Yt(P,e);case"Polygon":case"MultiPolygon":return P=bn(a,r.type==="Polygon"?1:2,y),new xe(P,e);case"GeometryCollection":for(k=0,R=r.geometries.length;k<R;k++){var j=yn({geometry:r.geometries[k],type:"Feature",properties:t.properties},e);j&&u.push(j)}return new $t(u);case"FeatureCollection":for(k=0,R=r.features.length;k<R;k++){var q=yn(r.features[k],e);q&&u.push(q)}return new $t(u);default:throw new Error("Invalid GeoJSON object.")}}function fo(t,e,r,a){return t?t(e,r):new _n(r,a&&a.markersInheritOptions&&a)}function Ci(t){return new Q(t[1],t[0],t[2])}function bn(t,e,r){for(var a=[],u=0,f=t.length,y;u<f;u++)y=e?bn(t[u],e-1,r):(r||Ci)(t[u]),a.push(y);return a}function Ti(t,e){return t=V(t),t.alt!==void 0?[_(t.lng,e),_(t.lat,e),_(t.alt,e)]:[_(t.lng,e),_(t.lat,e)]}function xn(t,e,r,a){for(var u=[],f=0,y=t.length;f<y;f++)u.push(e?xn(t[f],Mt(t[f])?0:e-1,r,a):Ti(t[f],a));return!e&&r&&u.length>0&&u.push(u[0].slice()),u}function we(t,e){return t.feature?l({},t.feature,{geometry:e}):wn(e)}function wn(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Ii={toGeoJSON:function(t){return we(this,{type:"Point",coordinates:Ti(this.getLatLng(),t)})}};_n.include(Ii),Li.include(Ii),vn.include(Ii),Yt.include({toGeoJSON:function(t){var e=!Mt(this._latlngs),r=xn(this._latlngs,e?1:0,!1,t);return we(this,{type:(e?"Multi":"")+"LineString",coordinates:r})}}),xe.include({toGeoJSON:function(t){var e=!Mt(this._latlngs),r=e&&!Mt(this._latlngs[0]),a=xn(this._latlngs,r?2:e?1:0,!0,t);return e||(a=[a]),we(this,{type:(r?"Multi":"")+"Polygon",coordinates:a})}}),ye.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(r){e.push(r.toGeoJSON(t).geometry.coordinates)}),we(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var r=e==="GeometryCollection",a=[];return this.eachLayer(function(u){if(u.toGeoJSON){var f=u.toGeoJSON(t);if(r)a.push(f.geometry);else{var y=wn(f);y.type==="FeatureCollection"?a.push.apply(a,y.features):a.push(y)}}}),r?we(this,{geometries:a,type:"GeometryCollection"}):{type:"FeatureCollection",features:a}}});function po(t,e){return new Xt(t,e)}var Gl=po,Pn=Zt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,r){this._url=t,this._bounds=st(e),C(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(U(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&_e(this._image),this},bringToBack:function(){return this._map&&ve(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=st(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:tt("img");if(U(e,"leaflet-image-layer"),this._zoomAnimated&&U(e,"leaflet-zoom-animated"),this.options.className&&U(e,this.options.className),e.onselectstart=m,e.onmousemove=m,e.onload=d(this.fire,this,"load"),e.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;se(this._image,r,e)},_reset:function(){var t=this._image,e=new it(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=e.getSize();dt(t,e.min),t.style.width=r.x+"px",t.style.height=r.y+"px"},_updateOpacity:function(){Dt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Wl=function(t,e,r){return new Pn(t,e,r)},mo=Pn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:tt("video");if(U(e,"leaflet-image-layer"),this._zoomAnimated&&U(e,"leaflet-zoom-animated"),this.options.className&&U(e,this.options.className),e.onselectstart=m,e.onmousemove=m,e.onloadeddata=d(this.fire,this,"load"),t){for(var r=e.getElementsByTagName("source"),a=[],u=0;u<r.length;u++)a.push(r[u].src);this._url=r.length>0?a:[e.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var f=0;f<this._url.length;f++){var y=tt("source");y.src=this._url[f],e.appendChild(y)}}});function Ul(t,e,r){return new mo(t,e,r)}var go=Pn.extend({_initImage:function(){var t=this._image=this._url;U(t,"leaflet-image-layer"),this._zoomAnimated&&U(t,"leaflet-zoom-animated"),this.options.className&&U(t,this.options.className),t.onselectstart=m,t.onmousemove=m}});function Vl(t,e,r){return new go(t,e,r)}var Vt=Zt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof Q||D(t))?(this._latlng=V(t),C(this,e)):(C(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Dt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Dt(this._container,1),this.bringToFront(),this.options.interactive&&(U(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Dt(this._container,0),this._removeTimeout=setTimeout(d(lt,void 0,this._container),200)):lt(this._container),this.options.interactive&&(ct(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=V(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&_e(this._container),this},bringToBack:function(){return this._map&&ve(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof $t){e=null;var r=this._source._layers;for(var a in r)if(r[a]._map){e=r[a];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=G(this.options.offset),r=this._getAnchor();this._zoomAnimated?dt(this._container,t.add(r)):e=e.add(t).add(r);var a=this._containerBottom=-e.y,u=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=a+"px",this._container.style.left=u+"px"}},_getAnchor:function(){return[0,0]}});Y.include({_initOverlay:function(t,e,r,a){var u=e;return u instanceof t||(u=new t(a).setContent(e)),r&&u.setLatLng(r),u}}),Zt.include({_initOverlay:function(t,e,r,a){var u=r;return u instanceof t?(C(u,a),u._source=this):(u=e&&!a?e:new t(a,this),u.setContent(r)),u}});var Sn=Vt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Vt.prototype.openOn.call(this,t)},onAdd:function(t){Vt.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof te||this._source.on("preclick",ce))},onRemove:function(t){Vt.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof te||this._source.off("preclick",ce))},getEvents:function(){var t=Vt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=tt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=tt("div",t+"-content-wrapper",e);if(this._contentNode=tt("div",t+"-content",r),ze(e),_i(this._contentNode),W(e,"contextmenu",ce),this._tipContainer=tt("div",t+"-tip-container",e),this._tip=tt("div",t+"-tip",this._tipContainer),this.options.closeButton){var a=this._closeButton=tt("a",t+"-close-button",e);a.setAttribute("role","button"),a.setAttribute("aria-label","Close popup"),a.href="#close",a.innerHTML='<span aria-hidden="true">&#215;</span>',W(a,"click",function(u){yt(u),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var r=t.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),e.width=r+1+"px",e.whiteSpace="",e.height="";var a=t.offsetHeight,u=this.options.maxHeight,f="leaflet-popup-scrolled";u&&a>u?(e.height=u+"px",U(t,f)):ct(t,f),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),r=this._getAnchor();dt(this._container,e.add(r))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt(Oe(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+e,a=this._containerWidth,u=new H(this._containerLeft,-r-this._containerBottom);u._add(le(this._container));var f=t.layerPointToContainerPoint(u),y=G(this.options.autoPanPadding),w=G(this.options.autoPanPaddingTopLeft||y),P=G(this.options.autoPanPaddingBottomRight||y),k=t.getSize(),R=0,j=0;f.x+a+P.x>k.x&&(R=f.x+a-k.x+P.x),f.x-R-w.x<0&&(R=f.x-w.x),f.y+r+P.y>k.y&&(j=f.y+r-k.y+P.y),f.y-j-w.y<0&&(j=f.y-w.y),(R||j)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([R,j]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ql=function(t,e){return new Sn(t,e)};Y.mergeOptions({closePopupOnClick:!0}),Y.include({openPopup:function(t,e,r){return this._initOverlay(Sn,t,e,r).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Zt.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Sn,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof $t||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){ue(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof te)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Ln=Vt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Vt.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Vt.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Vt.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=tt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,r,a=this._map,u=this._container,f=a.latLngToContainerPoint(a.getCenter()),y=a.layerPointToContainerPoint(t),w=this.options.direction,P=u.offsetWidth,k=u.offsetHeight,R=G(this.options.offset),j=this._getAnchor();w==="top"?(e=P/2,r=k):w==="bottom"?(e=P/2,r=0):w==="center"?(e=P/2,r=k/2):w==="right"?(e=0,r=k/2):w==="left"?(e=P,r=k/2):y.x<f.x?(w="right",e=0,r=k/2):(w="left",e=P+(R.x+j.x)*2,r=k/2),t=t.subtract(G(e,r,!0)).add(R).add(j),ct(u,"leaflet-tooltip-right"),ct(u,"leaflet-tooltip-left"),ct(u,"leaflet-tooltip-top"),ct(u,"leaflet-tooltip-bottom"),U(u,"leaflet-tooltip-"+w),dt(u,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Dt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Kl=function(t,e){return new Ln(t,e)};Y.include({openTooltip:function(t,e,r){return this._initOverlay(Ln,t,e,r).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Zt.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ln,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[e](r),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof $t||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&(W(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),W(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e=t.latlng,r,a;this._tooltip.options.sticky&&t.originalEvent&&(r=this._map.mouseEventToContainerPoint(t.originalEvent),a=this._map.containerPointToLayerPoint(r),e=this._map.layerPointToLatLng(a)),this._tooltip.setLatLng(e)}});var _o=be.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),r=this.options;if(r.html instanceof Element?(dn(e),e.appendChild(r.html)):e.innerHTML=r.html!==!1?r.html:"",r.bgPos){var a=G(r.bgPos);e.style.backgroundPosition=-a.x+"px "+-a.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function $l(t){return new _o(t)}be.Default=je;var He=Zt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){C(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),lt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(_e(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ve(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof H?t:new H(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,r=-t(-1/0,1/0),a=0,u=e.length,f;a<u;a++)f=e[a].style.zIndex,e[a]!==this._container&&f&&(r=t(r,+f));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Z.ielt9){Dt(this._container,this.options.opacity);var t=+new Date,e=!1,r=!1;for(var a in this._tiles){var u=this._tiles[a];if(!(!u.current||!u.loaded)){var f=Math.min(1,(t-u.loaded)/200);Dt(u.el,f),f<1?e=!0:(u.active?r=!0:this._onOpaqueTile(u),u.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),e&&(rt(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=tt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===t?(this._levels[r].el.style.zIndex=e-Math.abs(t-r),this._onUpdateLevel(r)):(lt(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var a=this._levels[t],u=this._map;return a||(a=this._levels[t]={},a.el=tt("div","leaflet-tile-container leaflet-zoom-animated",this._container),a.el.style.zIndex=e,a.origin=u.project(u.unproject(u.getPixelOrigin()),t).round(),a.zoom=t,this._setZoomTransform(a,u.getCenter(),u.getZoom()),m(a.el.offsetWidth),this._onCreateLevel(a)),this._level=a,a}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var t,e,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var a=e.coords;this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)lt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,r,a){var u=Math.floor(t/2),f=Math.floor(e/2),y=r-1,w=new H(+u,+f);w.z=+y;var P=this._tileCoordsToKey(w),k=this._tiles[P];return k&&k.active?(k.retain=!0,!0):(k&&k.loaded&&(k.retain=!0),y>a?this._retainParent(u,f,y,a):!1)},_retainChildren:function(t,e,r,a){for(var u=2*t;u<2*t+2;u++)for(var f=2*e;f<2*e+2;f++){var y=new H(u,f);y.z=r+1;var w=this._tileCoordsToKey(y),P=this._tiles[w];if(P&&P.active){P.retain=!0;continue}else P&&P.loaded&&(P.retain=!0);r+1<a&&this._retainChildren(u,f,r+1,a)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,r,a){var u=Math.round(e);this.options.maxZoom!==void 0&&u>this.options.maxZoom||this.options.minZoom!==void 0&&u<this.options.minZoom?u=void 0:u=this._clampZoom(u);var f=this.options.updateWhenZooming&&u!==this._tileZoom;(!a||f)&&(this._tileZoom=u,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),u!==void 0&&this._update(t),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var r in this._levels)this._setZoomTransform(this._levels[r],t,e)},_setZoomTransform:function(t,e,r){var a=this._map.getZoomScale(r,t.zoom),u=t.origin.multiplyBy(a).subtract(this._map._getNewPixelOrigin(e,r)).round();Z.any3d?se(t.el,u,a):dt(t.el,u)},_resetGrid:function(){var t=this._map,e=t.options.crs,r=this._tileSize=this.getTileSize(),a=this._tileZoom,u=this._map.getPixelWorldBounds(this._tileZoom);u&&(this._globalTileRange=this._pxBoundsToTileRange(u)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],a).x/r.x),Math.ceil(t.project([0,e.wrapLng[1]],a).x/r.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],a).y/r.x),Math.ceil(t.project([e.wrapLat[1],0],a).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,r=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),a=e.getZoomScale(r,this._tileZoom),u=e.project(t,this._tileZoom).floor(),f=e.getSize().divideBy(a*2);return new it(u.subtract(f),u.add(f))},_update:function(t){var e=this._map;if(e){var r=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var a=this._getTiledPixelBounds(t),u=this._pxBoundsToTileRange(a),f=u.getCenter(),y=[],w=this.options.keepBuffer,P=new it(u.getBottomLeft().subtract([w,-w]),u.getTopRight().add([w,-w]));if(!(isFinite(u.min.x)&&isFinite(u.min.y)&&isFinite(u.max.x)&&isFinite(u.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var k in this._tiles){var R=this._tiles[k].coords;(R.z!==this._tileZoom||!P.contains(new H(R.x,R.y)))&&(this._tiles[k].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(t,r);return}for(var j=u.min.y;j<=u.max.y;j++)for(var q=u.min.x;q<=u.max.x;q++){var wt=new H(q,j);if(wt.z=this._tileZoom,!!this._isValidTile(wt)){var gt=this._tiles[this._tileCoordsToKey(wt)];gt?gt.current=!0:y.push(wt)}}if(y.sort(function(Lt,Se){return Lt.distanceTo(f)-Se.distanceTo(f)}),y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ot=document.createDocumentFragment();for(q=0;q<y.length;q++)this._addTile(y[q],Ot);this._level.el.appendChild(Ot)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var r=this._globalTileRange;if(!e.wrapLng&&(t.x<r.min.x||t.x>r.max.x)||!e.wrapLat&&(t.y<r.min.y||t.y>r.max.y))return!1}if(!this.options.bounds)return!0;var a=this._tileCoordsToBounds(t);return st(this.options.bounds).overlaps(a)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,r=this.getTileSize(),a=t.scaleBy(r),u=a.add(r),f=e.unproject(a,t.z),y=e.unproject(u,t.z);return[f,y]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),r=new ut(e[0],e[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),r=new H(+e[0],+e[1]);return r.z=+e[2],r},_removeTile:function(t){var e=this._tiles[t];e&&(lt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){U(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=m,t.onmousemove=m,Z.ielt9&&this.options.opacity<1&&Dt(t,this.options.opacity)},_addTile:function(t,e){var r=this._getTilePos(t),a=this._tileCoordsToKey(t),u=this.createTile(this._wrapCoords(t),d(this._tileReady,this,t));this._initTile(u),this.createTile.length<2&&K(d(this._tileReady,this,t,null,u)),dt(u,r),this._tiles[a]={el:u,coords:t,current:!0},e.appendChild(u),this.fire("tileloadstart",{tile:u,coords:t})},_tileReady:function(t,e,r){e&&this.fire("tileerror",{error:e,tile:r,coords:t});var a=this._tileCoordsToKey(t);r=this._tiles[a],r&&(r.loaded=+new Date,this._map._fadeAnimated?(Dt(r.el,0),rt(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),e||(U(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Z.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new H(this._wrapX?v(t.x,this._wrapX):t.x,this._wrapY?v(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new it(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Yl(t){return new He(t)}var Pe=He.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=C(this,e),e.detectRetina&&Z.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var r=document.createElement("img");return W(r,"load",d(this._tileOnLoad,this,e,r)),W(r,"error",d(this._tileOnError,this,e,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(t),r},getTileUrl:function(t){var e={r:Z.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=r),e["-y"]=r}return A(this._url,l(e,this.options))},_tileOnLoad:function(t,e){Z.ielt9?setTimeout(d(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,r){var a=this.options.errorTileUrl;a&&e.getAttribute("src")!==a&&(e.src=a),t(r,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,r=this.options.zoomReverse,a=this.options.zoomOffset;return r&&(t=e-t),t+a},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=m,e.onerror=m,!e.complete)){e.src=N;var r=this._tiles[t].coords;lt(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:r})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",N),He.prototype._removeTile.call(this,t)},_tileReady:function(t,e,r){if(!(!this._map||r&&r.getAttribute("src")===N))return He.prototype._tileReady.call(this,t,e,r)}});function vo(t,e){return new Pe(t,e)}var yo=Pe.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var r=l({},this.defaultWmsParams);for(var a in e)a in this.options||(r[a]=e[a]);e=C(this,e);var u=e.detectRetina&&Z.retina?2:1,f=this.getTileSize();r.width=f.x*u,r.height=f.y*u,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Pe.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),r=this._crs,a=pt(r.project(e[0]),r.project(e[1])),u=a.min,f=a.max,y=(this._wmsVersion>=1.3&&this._crs===uo?[u.y,u.x,f.y,f.x]:[u.x,u.y,f.x,f.y]).join(","),w=Pe.prototype.getTileUrl.call(this,t);return w+x(this.wmsParams,w,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+y},setParams:function(t,e){return l(this.wmsParams,t),e||this.redraw(),this}});function Xl(t,e){return new yo(t,e)}Pe.WMS=yo,vo.wms=Xl;var Jt=Zt.extend({options:{padding:.1},initialize:function(t){C(this,t),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),U(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var r=this._map.getZoomScale(e,this._zoom),a=this._map.getSize().multiplyBy(.5+this.options.padding),u=this._map.project(this._center,e),f=a.multiplyBy(-r).add(u).subtract(this._map._getNewPixelOrigin(t,e));Z.any3d?se(this._container,f,r):dt(this._container,f)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),r=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new it(r,r.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),bo=Jt.extend({options:{tolerance:0},getEvents:function(){var t=Jt.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Jt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");W(t,"mousemove",this._onMouseMove,this),W(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),W(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){rt(this._redrawRequest),delete this._ctx,lt(this._container),ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Jt.prototype._update.call(this);var t=this._bounds,e=this._container,r=t.getSize(),a=Z.retina?2:1;dt(e,t.min),e.width=a*r.x,e.height=a*r.y,e.style.width=r.x+"px",e.style.height=r.y+"px",Z.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Jt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[h(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,r=e.next,a=e.prev;r?r.prev=a:this._drawLast=a,a?a.next=r:this._drawFirst=r,delete t._order,delete this._layers[h(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),r=[],a,u;for(u=0;u<e.length;u++){if(a=Number(e[u]),isNaN(a))return;r.push(a)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new it,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var r=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var a=this._drawFirst;a;a=a.next)t=a.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var r,a,u,f,y=t._parts,w=y.length,P=this._ctx;if(w){for(P.beginPath(),r=0;r<w;r++){for(a=0,u=y[r].length;a<u;a++)f=y[r][a],P[a?"lineTo":"moveTo"](f.x,f.y);e&&P.closePath()}this._fillStroke(P,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,r=this._ctx,a=Math.max(Math.round(t._radius),1),u=(Math.max(Math.round(t._radiusY),1)||a)/a;u!==1&&(r.save(),r.scale(1,u)),r.beginPath(),r.arc(e.x,e.y/u,a,0,Math.PI*2,!1),u!==1&&r.restore(),this._fillStroke(r,t)}},_fillStroke:function(t,e){var r=e.options;r.fill&&(t.globalAlpha=r.fillOpacity,t.fillStyle=r.fillColor||r.color,t.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=r.opacity,t.lineWidth=r.weight,t.strokeStyle=r.color,t.lineCap=r.lineCap,t.lineJoin=r.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),r,a,u=this._drawFirst;u;u=u.next)r=u.layer,r.options.interactive&&r._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(r))&&(a=r);this._fireEvent(a?[a]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ct(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var r,a,u=this._drawFirst;u;u=u.next)r=u.layer,r.options.interactive&&r._containsPoint(e)&&(a=r);a!==this._hoveredLayer&&(this._handleMouseOut(t),a&&(U(this._container,"leaflet-interactive"),this._fireEvent([a],t,"mouseover"),this._hoveredLayer=a)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,r){this._map._fireDOMEvent(e,r||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var r=e.next,a=e.prev;if(r)r.prev=a;else return;a?a.next=r:r&&(this._drawFirst=r),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var r=e.next,a=e.prev;if(a)a.next=r;else return;r?r.prev=a:a&&(this._drawLast=a),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function xo(t){return Z.canvas?new bo(t):null}var Ge=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Jl={_initContainer:function(){this._container=tt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Jt.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Ge("shape");U(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Ge("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[h(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;lt(e),t.removeInteractiveTarget(e),delete this._layers[h(t)]},_updateStyle:function(t){var e=t._stroke,r=t._fill,a=t.options,u=t._container;u.stroked=!!a.stroke,u.filled=!!a.fill,a.stroke?(e||(e=t._stroke=Ge("stroke")),u.appendChild(e),e.weight=a.weight+"px",e.color=a.color,e.opacity=a.opacity,a.dashArray?e.dashStyle=D(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=a.lineCap.replace("butt","flat"),e.joinstyle=a.lineJoin):e&&(u.removeChild(e),t._stroke=null),a.fill?(r||(r=t._fill=Ge("fill")),u.appendChild(r),r.color=a.fillColor||a.color,r.opacity=a.fillOpacity):r&&(u.removeChild(r),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),r=Math.round(t._radius),a=Math.round(t._radiusY||r);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+r+","+a+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){_e(t._container)},_bringToBack:function(t){ve(t._container)}},Cn=Z.vml?Ge:Sr,We=Jt.extend({_initContainer:function(){this._container=Cn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Cn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){lt(this._container),ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Jt.prototype._update.call(this);var t=this._bounds,e=t.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,r.setAttribute("width",e.x),r.setAttribute("height",e.y)),dt(r,t.min),r.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Cn("path");t.options.className&&U(e,t.options.className),t.options.interactive&&U(e,"leaflet-interactive"),this._updateStyle(t),this._layers[h(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){lt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[h(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,r=t.options;e&&(r.stroke?(e.setAttribute("stroke",r.color),e.setAttribute("stroke-opacity",r.opacity),e.setAttribute("stroke-width",r.weight),e.setAttribute("stroke-linecap",r.lineCap),e.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?e.setAttribute("stroke-dasharray",r.dashArray):e.removeAttribute("stroke-dasharray"),r.dashOffset?e.setAttribute("stroke-dashoffset",r.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),r.fill?(e.setAttribute("fill",r.fillColor||r.color),e.setAttribute("fill-opacity",r.fillOpacity),e.setAttribute("fill-rule",r.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Lr(t._parts,e))},_updateCircle:function(t){var e=t._point,r=Math.max(Math.round(t._radius),1),a=Math.max(Math.round(t._radiusY),1)||r,u="a"+r+","+a+" 0 1,0 ",f=t._empty()?"M0 0":"M"+(e.x-r)+","+e.y+u+r*2+",0 "+u+-r*2+",0 ";this._setPath(t,f)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){_e(t._path)},_bringToBack:function(t){ve(t._path)}});Z.vml&&We.include(Jl);function wo(t){return Z.svg||Z.vml?new We(t):null}Y.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&xo(t)||wo(t)}});var Po=xe.extend({initialize:function(t,e){xe.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=st(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Ql(t,e){return new Po(t,e)}We.create=Cn,We.pointsToPath=Lr,Xt.geometryToLayer=yn,Xt.coordsToLatLng=Ci,Xt.coordsToLatLngs=bn,Xt.latLngToCoords=Ti,Xt.latLngsToCoords=xn,Xt.getFeature=we,Xt.asFeature=wn,Y.mergeOptions({boxZoom:!0});var So=Ut.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){W(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Be(),ci(),this._startPoint=this._map.mouseEventToContainerPoint(t),W(document,{contextmenu:ue,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=tt("div","leaflet-zoom-box",this._container),U(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new it(this._point,this._startPoint),r=e.getSize();dt(this._box,e.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(lt(this._box),ct(this._container,"leaflet-crosshair")),Re(),ui(),ot(document,{contextmenu:ue,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var e=new ut(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Y.addInitHook("addHandler","boxZoom",So),Y.mergeOptions({doubleClickZoom:!0});var Lo=Ut.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,r=e.getZoom(),a=e.options.zoomDelta,u=t.originalEvent.shiftKey?r-a:r+a;e.options.doubleClickZoom==="center"?e.setZoom(u):e.setZoomAround(t.containerPoint,u)}});Y.addInitHook("addHandler","doubleClickZoom",Lo),Y.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Co=Ut.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Qt(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}U(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ct(this._map._container,"leaflet-grab"),ct(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=st(this._map.options.maxBounds);this._offsetLimit=pt(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),r=this._initialWorldOffset,a=this._draggable._newPos.x,u=(a-e+r)%t+e-r,f=(a+e+r)%t-e-r,y=Math.abs(u+r)<Math.abs(f+r)?u:f;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=y},_onDragEnd:function(t){var e=this._map,r=e.options,a=!r.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),a)e.fire("moveend");else{this._prunePositions(+new Date);var u=this._lastPos.subtract(this._positions[0]),f=(this._lastTime-this._times[0])/1e3,y=r.easeLinearity,w=u.multiplyBy(y/f),P=w.distanceTo([0,0]),k=Math.min(r.inertiaMaxSpeed,P),R=w.multiplyBy(k/P),j=k/(r.inertiaDeceleration*y),q=R.multiplyBy(-j/2).round();!q.x&&!q.y?e.fire("moveend"):(q=e._limitOffset(q,e.options.maxBounds),K(function(){e.panBy(q,{duration:j,easeLinearity:y,noMoveStart:!0,animate:!0})}))}}});Y.addInitHook("addHandler","dragging",Co),Y.mergeOptions({keyboard:!0,keyboardPanDelta:80});var To=Ut.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),W(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,r=t.scrollTop||e.scrollTop,a=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(a,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},r=this.keyCodes,a,u;for(a=0,u=r.left.length;a<u;a++)e[r.left[a]]=[-1*t,0];for(a=0,u=r.right.length;a<u;a++)e[r.right[a]]=[t,0];for(a=0,u=r.down.length;a<u;a++)e[r.down[a]]=[0,t];for(a=0,u=r.up.length;a<u;a++)e[r.up[a]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},r=this.keyCodes,a,u;for(a=0,u=r.zoomIn.length;a<u;a++)e[r.zoomIn[a]]=t;for(a=0,u=r.zoomOut.length;a<u;a++)e[r.zoomOut[a]]=-t},_addHooks:function(){W(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,r=this._map,a;if(e in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(a=this._panKeys[e],t.shiftKey&&(a=G(a).multiplyBy(3)),r.options.maxBounds&&(a=r._limitOffset(G(a),r.options.maxBounds)),r.options.worldCopyJump){var u=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(a)));r.panTo(u)}else r.panBy(a)}else if(e in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;ue(t)}}});Y.addInitHook("addHandler","keyboard",To),Y.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Io=Ut.extend({addHooks:function(){W(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Xr(t),r=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var a=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),a),ue(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),r=this._map.options.zoomSnap||0;t._stop();var a=this._delta/(this._map.options.wheelPxPerZoomLevel*4),u=4*Math.log(2/(1+Math.exp(-Math.abs(a))))/Math.LN2,f=r?Math.ceil(u/r)*r:u,y=t._limitZoom(e+(this._delta>0?f:-f))-e;this._delta=0,this._startTime=null,y&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+y):t.setZoomAround(this._lastMousePos,e+y))}});Y.addInitHook("addHandler","scrollWheelZoom",Io);var tc=600;Y.mergeOptions({tapHold:Z.touchNative&&Z.safari&&Z.mobile,tapTolerance:15});var ko=Ut.extend({addHooks:function(){W(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new H(e.clientX,e.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(W(document,"touchend",yt),W(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),tc),W(document,"touchend touchcancel contextmenu",this._cancel,this),W(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){ot(document,"touchend",yt),ot(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new H(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var r=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});r._simulated=!0,e.target.dispatchEvent(r)}});Y.addInitHook("addHandler","tapHold",ko),Y.mergeOptions({touchZoom:Z.touch,bounceAtZoomLimits:!0});var Eo=Ut.extend({addHooks:function(){U(this._map._container,"leaflet-touch-zoom"),W(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ct(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var r=e.mouseEventToContainerPoint(t.touches[0]),a=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(r.add(a)._divideBy(2))),this._startDist=r.distanceTo(a),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),W(document,"touchmove",this._onTouchMove,this),W(document,"touchend touchcancel",this._onTouchEnd,this),yt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,r=e.mouseEventToContainerPoint(t.touches[0]),a=e.mouseEventToContainerPoint(t.touches[1]),u=r.distanceTo(a)/this._startDist;if(this._zoom=e.getScaleZoom(u,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&u<1||this._zoom>e.getMaxZoom()&&u>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,u===1)return}else{var f=r._add(a)._divideBy(2)._subtract(this._centerPoint);if(u===1&&f.x===0&&f.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(f),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),rt(this._animRequest);var y=d(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K(y,this,!0),yt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,rt(this._animRequest),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Y.addInitHook("addHandler","touchZoom",Eo),Y.BoxZoom=So,Y.DoubleClickZoom=Lo,Y.Drag=Co,Y.Keyboard=To,Y.ScrollWheelZoom=Io,Y.TapHold=ko,Y.TouchZoom=Eo,o.Bounds=it,o.Browser=Z,o.CRS=At,o.Canvas=bo,o.Circle=Li,o.CircleMarker=vn,o.Class=Ct,o.Control=Ft,o.DivIcon=_o,o.DivOverlay=Vt,o.DomEvent=vl,o.DomUtil=gl,o.Draggable=Qt,o.Evented=qt,o.FeatureGroup=$t,o.GeoJSON=Xt,o.GridLayer=He,o.Handler=Ut,o.Icon=be,o.ImageOverlay=Pn,o.LatLng=Q,o.LatLngBounds=ut,o.Layer=Zt,o.LayerGroup=ye,o.LineUtil=Al,o.Map=Y,o.Marker=_n,o.Mixin=Ll,o.Path=te,o.Point=H,o.PolyUtil=Cl,o.Polygon=xe,o.Polyline=Yt,o.Popup=Sn,o.PosAnimation=Jr,o.Projection=Dl,o.Rectangle=Po,o.Renderer=Jt,o.SVG=We,o.SVGOverlay=go,o.TileLayer=Pe,o.Tooltip=Ln,o.Transformation=ln,o.Util=zt,o.VideoOverlay=mo,o.bind=d,o.bounds=pt,o.canvas=xo,o.circle=Zl,o.circleMarker=Fl,o.control=Fe,o.divIcon=$l,o.extend=l,o.featureGroup=Rl,o.geoJSON=po,o.geoJson=Gl,o.gridLayer=Yl,o.icon=Nl,o.imageOverlay=Wl,o.latLng=V,o.latLngBounds=st,o.layerGroup=Bl,o.map=yl,o.marker=zl,o.point=G,o.polygon=Hl,o.polyline=jl,o.popup=ql,o.rectangle=Ql,o.setOptions=C,o.stamp=h,o.svg=wo,o.svgOverlay=Vl,o.tileLayer=vo,o.tooltip=Kl,o.transformation=mt,o.version=s,o.videoOverlay=Ul;var ec=window.L;o.noConflict=function(){return window.L=ec,this},window.L=o})})(Xi,Xi.exports);var me=Xi.exports;const Pr=dc(me);function sn(n,i,o){return Object.freeze({instance:n,context:i,container:o})}function Jn(n,i){return i==null?function(s,l){const c=I.useRef(void 0);return c.current||(c.current=n(s,l)),c}:function(s,l){const c=I.useRef(void 0);c.current||(c.current=n(s,l));const d=I.useRef(s),{instance:p}=c.current;return I.useEffect(function(){d.current!==s&&(i(p,s,d.current),d.current=s)},[p,s,i]),c}}function Ns(n,i){I.useEffect(function(){return(i.layerContainer??i.map).addLayer(n.instance),function(){var c;(c=i.layerContainer)==null||c.removeLayer(n.instance),i.map.removeLayer(n.instance)}},[i,n])}function zs(n){return function(o){const s=Yn(),l=n(Xn(o,s),s);return Os(s.map,o.attribution),wr(l.current,o.eventHandlers),Ns(l.current,s),l}}function Xp(n,i){const o=I.useRef(void 0);I.useEffect(function(){if(i.pathOptions!==o.current){const l=i.pathOptions??{};n.instance.setStyle(l),o.current=l}},[n,i])}function Jp(n){return function(o){const s=Yn(),l=n(Xn(o,s),s);return wr(l.current,o.eventHandlers),Ns(l.current,s),Xp(l.current,o),l}}function Qp(n,i){const o=Jn(n,i),s=zs(o);return Rs(s)}function Fs(n,i){const o=Jn(n),s=Yp(o,i);return Kp(s)}function tm(n,i){const o=Jn(n,i),s=Jp(o);return Rs(s)}function em(n,i){const o=Jn(n,i),s=zs(o);return $p(s)}function nm(n,i,o){const{opacity:s,zIndex:l}=i;s!=null&&s!==o.opacity&&n.setOpacity(s),l!=null&&l!==o.zIndex&&n.setZIndex(l)}function im(){return Yn().map}function rm({bounds:n,boundsOptions:i,center:o,children:s,className:l,id:c,placeholder:d,style:p,whenReady:h,zoom:g,...v},m){const[_]=I.useState({className:l,id:c,style:p}),[b,S]=I.useState(null),C=I.useRef(void 0);I.useImperativeHandle(m,()=>(b==null?void 0:b.map)??null,[b]);const x=I.useCallback(A=>{if(A!==null&&!C.current){const D=new me.Map(A,v);C.current=D,o!=null&&g!=null?D.setView(o,g):n!=null&&D.fitBounds(n,i),h!=null&&D.whenReady(h),S(qp(D))}},[]);I.useEffect(()=>()=>{b==null||b.map.remove()},[b]);const E=b?at.createElement(xr,{value:b},s):d??null;return at.createElement("div",{..._,ref:x},E)}const om=I.forwardRef(rm),ya=Qp(function({position:i,...o},s){const l=new me.Marker(i,o);return sn(l,Bs(s,{overlayContainer:l}))},function(i,o,s){o.position!==s.position&&i.setLatLng(o.position),o.icon!=null&&o.icon!==s.icon&&i.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==s.zIndexOffset&&i.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==s.opacity&&i.setOpacity(o.opacity),i.dragging!=null&&o.draggable!==s.draggable&&(o.draggable===!0?i.dragging.enable():i.dragging.disable())}),am=tm(function({positions:i,...o},s){const l=new me.Polyline(i,o);return sn(l,Bs(s,{overlayContainer:l}))},function(i,o,s){o.positions!==s.positions&&i.setLatLngs(o.positions)}),ba=Fs(function(i,o){const s=new me.Popup(i,o.overlayContainer);return sn(s,o)},function(i,o,{position:s},l){I.useEffect(function(){const{instance:d}=i;function p(g){g.popup===d&&(d.update(),l(!0))}function h(g){g.popup===d&&l(!1)}return o.map.on({popupopen:p,popupclose:h}),o.overlayContainer==null?(s!=null&&d.setLatLng(s),d.openOn(o.map)):o.overlayContainer.bindPopup(d),function(){var v;o.map.off({popupopen:p,popupclose:h}),(v=o.overlayContainer)==null||v.unbindPopup(),o.map.removeLayer(d)}},[i,o,l,s])}),sm=em(function({url:i,...o},s){const l=new me.TileLayer(i,Xn(o,s));return sn(l,s)},function(i,o,s){nm(i,o,s);const{url:l}=o;l!=null&&l!==s.url&&i.setUrl(l)}),Hi=Fs(function(i,o){const s=new me.Tooltip(i,o.overlayContainer);return sn(s,o)},function(i,o,{position:s},l){I.useEffect(function(){const d=o.overlayContainer;if(d==null)return;const{instance:p}=i,h=v=>{v.tooltip===p&&(s!=null&&p.setLatLng(s),p.update(),l(!0))},g=v=>{v.tooltip===p&&l(!1)};return d.on({tooltipopen:h,tooltipclose:g}),d.bindTooltip(p),function(){d.off({tooltipopen:h,tooltipclose:g}),d._map!=null&&d.unbindTooltip()}},[i,o,l,s])}),xa={dayTrips:[{id:"nandi-hills",name:"Nandi Hills",lat:13.3702,lng:77.6835,description:"Famous for sunrise, temples, and cool climate.",image:"/images/destinations/nandi-hills_main_main.svg",attractions:[{name:"Nandi Hills sunrise view point",description:"Best spot for sunrise.",tips:"Start Early: Essential for sunrise and beating crowds",breakfastPoint:"Dosa Spot",addressLink:"Dosa Spot- Nandi Hills",image:"/images/destinations/nandi-hills_main_main.svg"},{name:"Nandhi Betta sunset View point",description:"Beautiful sunset views.",tips:"6:00AM TO 6:00PM",breakfastPoint:"Sky Hills Resturant",addressLink:"Sky Hills Restaurant",image:"/images/destinations/nandi-hills_nandhi-betta-sunset-view-point_attraction.svg",gallery:["/images/destinations/nandi-hills_nandhi-betta-sunset-view-point_gallery_1.jpg"]},{name:"Tipu Sultan's Summer Palace",description:"Historical palace.",tips:"8:30AM TO 5:30PM",breakfastPoint:"Nandi Upachar Devanahali",addressLink:"Nandi Upachar Devanahalli",image:"/images/destinations/nandi-hills_tipu-sultan-s-summer-palace_attraction.jpg",gallery:["/images/destinations/nandi-hills_tipu-sultan-s-summer-palace_attraction.jpg","/images/destinations/nandi-hills_tipu-sultan-s-summer-palace_gallery_2.jpg","/images/destinations/nandi-hills_tipu-sultan-s-summer-palace_gallery_3.jpg"]},{name:"Bhoga Nandeeshwara Temple",description:"Ancient temple.",tips:"Any time",breakfastPoint:"Mystrey Roster Caf",addressLink:"Mystery Roster Cafe",image:"/images/destinations/nandi-hills_bhoga-nandeeshwara-temple_attraction.jpg",gallery:["/images/destinations/nandi-hills_bhoga-nandeeshwara-temple_attraction.jpg","/images/destinations/nandi-hills_bhoga-nandeeshwara-temple_gallery_2.jpeg","/images/destinations/nandi-hills_bhoga-nandeeshwara-temple_gallery_3.webp","/images/destinations/nandi-hills_bhoga-nandeeshwara-temple_gallery_4.JPG"]},{name:"Muddenahalli Museum",description:"Birthplace of Sir M. Visvesvaraya.",tips:"Any time",breakfastPoint:"Silver Oak caf",addressLink:"Silver Oak Cafe",image:"/images/destinations/nandi-hills_muddenahalli-museum_attraction.jpg",gallery:["/images/destinations/nandi-hills_muddenahalli-museum_attraction.jpg"]},{name:"Skandagiri (Kalavara Durga)",description:"Nearby hill fortress.",tips:"5:30am to 9/10AM",breakfastPoint:"Nandi Saviruchi",addressLink:"Nandi Saviruchi",image:"/images/destinations/nandi-hills_skandagiri-kalavara-durga_attraction.jpeg",gallery:["/images/destinations/nandi-hills_skandagiri-kalavara-durga_attraction.jpeg","/images/destinations/nandi-hills_skandagiri-kalavara-durga_gallery_2","/images/destinations/nandi-hills_skandagiri-kalavara-durga_gallery_2.jpg","/images/destinations/nandi-hills_skandagiri-kalavara-durga_gallery_3.jpg","/images/destinations/nandi-hills_skandagiri-kalavara-durga_gallery_4.jpg"]}],resorts:["Clarks Exotica Convention, Resort & Spa","Signature Club Resort"],gallery:["/images/destinations/nandi-hills_gallery_1.jpg","/images/destinations/nandi-hills_gallery_2.avif","/images/destinations/nandi-hills_gallery_3.jpg","/images/destinations/nandi-hills_gallery_4.jpg"]},{id:"ramanagara",name:"Ramanagara",lat:12.715,lng:77.2813,description:"Sholay hills, trekking, rocky terrain.",image:"/images/destinations/ramanagara_main_main.svg",attractions:[{name:"Sholay hills",description:"Famous for the movie Sholay.",tips:"9:00AM TO 5:00PM",breakfastPoint:"Kamat Lokaruchi Veg Restaurant- Ramanagara",addressLink:"Kamat Lokaruchi Veg Restaurant- Ramanagara",image:"/images/destinations/ramanagara_sholay-hills_attraction.jpg",gallery:["/images/destinations/ramanagara_sholay-hills_attraction.jpg"]},{name:"Ramadevarabetta Vulture Sanctuary",description:"Vulture sanctuary.",tips:"9:00AM TO 5:00PM",breakfastPoint:"Vaividhya Family Restaurant",addressLink:"Vaividhya Family Restaurant",image:"/images/destinations/ramanagara_ramadevarabetta-vulture-sanctuary_attraction.jpg",gallery:["/images/destinations/ramanagara_ramadevarabetta-vulture-sanctuary_attraction.jpg","/images/destinations/ramanagara_ramadevarabetta-vulture-sanctuary_gallery_2.jpg","/images/destinations/ramanagara_ramadevarabetta-vulture-sanctuary_gallery_3.jpg"]},{name:"Janapada Loka",description:"Folk museum.",tips:"9:30AM TO 5:30PM",breakfastPoint:"Taj Biryani Paradise",addressLink:"Taj Biryani Paradise",image:"/images/destinations/ramanagara_janapada-loka_attraction.avif",gallery:["/images/destinations/ramanagara_janapada-loka_attraction.avif","/images/destinations/ramanagara_janapada-loka_gallery_2.webp","/images/destinations/ramanagara_janapada-loka_gallery_3.jpg"]},{name:"Sri Aprameya Swamy Temple",description:"Ambegal Krishna temple.",tips:"8:00AM TO 1:00PM & 4:00PM TO 8:00PM",breakfastPoint:"Nammoora Aahara Vaibhava Veg Restaurant",addressLink:"Nammoora Aahara Vaibhava Veg Restaurant",image:"/images/destinations/ramanagara_sri-aprameya-swamy-temple_attraction.jpg",gallery:["/images/destinations/ramanagara_sri-aprameya-swamy-temple_attraction.jpg"]},{name:"SRS Hills",description:"Rock climbing and trekking.",tips:"8:00AM TO 1:00PM & 4:00PM TO 8:00PM",breakfastPoint:"Hot Coffee's",addressLink:"Hot coffee's",image:"/images/destinations/ramanagara_main_main.svg"},{name:"Savanadurga Trek",description:"Monolith hill trek.",tips:"6:00AM TO 6:00PM",breakfastPoint:"Savera Paradise",addressLink:"Savera Paradise",image:"/images/destinations/ramanagara_savanadurga-trek_attraction.jpg",gallery:["/images/destinations/ramanagara_savanadurga-trek_attraction.jpg","/images/destinations/ramanagara_savanadurga-trek_gallery_2.jpg","/images/destinations/ramanagara_savanadurga-trek_gallery_3.jpg"]},{name:"Timmappana Betta",description:"Scenic hill.",tips:"6:00AM TO 6:00PM",breakfastPoint:"Mayur Veg",addressLink:"Mayur Veg",image:"/images/destinations/ramanagara_timmappana-betta_attraction.jpg",gallery:["/images/destinations/ramanagara_timmappana-betta_attraction.jpg"]},{name:"Sri Kengal Anjaneya Swamy Temple",description:"Hanuman temple.",tips:"7:00AM TO 2:00PM & 4:00PM TO 8:00PM",breakfastPoint:"Hotel Shri Janardhana",addressLink:"Hotel Shri Janardhana",image:"/images/destinations/ramanagara_sri-kengal-anjaneya-swamy-temple_attraction.jpg",gallery:["/images/destinations/ramanagara_sri-kengal-anjaneya-swamy-temple_attraction.jpg","/images/destinations/ramanagara_sri-kengal-anjaneya-swamy-temple_gallery_2.webp","/images/destinations/ramanagara_sri-kengal-anjaneya-swamy-temple_gallery_3.webp"]},{name:"Bidarakatte Trek",description:"Trekking spot.",tips:"9:00AM TO 5:00PM",breakfastPoint:"Bidadi: Famous for its delicious Thatte Idlis.",addressLink:"Bidadi: Famous for its delicious Thatte Idli",image:"/images/destinations/ramanagara_bidarakatte-trek_attraction.jpg",gallery:["/images/destinations/ramanagara_bidarakatte-trek_attraction.jpg","/images/destinations/ramanagara_bidarakatte-trek_gallery_2.jpg"]},{name:"Savandurga Hill",description:"Major monolith hill.",tips:"5:00AM TO 6:00PM",breakfastPoint:"--",addressLink:null,image:"/images/destinations/ramanagara_savandurga-hill_attraction.jpg",gallery:["/images/destinations/ramanagara_savandurga-hill_attraction.jpg","/images/destinations/ramanagara_savandurga-hill_attraction_275.jpg","/images/destinations/ramanagara_savandurga-hill_gallery_3.jpg"]},{name:"Kanva Reservoir",description:"Artificial lake.",tips:"5:00AM TO 7:00PM",breakfastPoint:"--",addressLink:null,image:"/images/destinations/ramanagara_kanva-reservoir_attraction.jpg",gallery:["/images/destinations/ramanagara_kanva-reservoir_attraction.jpg","/images/destinations/ramanagara_kanva-reservoir_gallery_2.jpg","/images/destinations/ramanagara_kanva-reservoir_gallery_4.jpg"]},{name:"Shilhaandara Resort",description:"Rock-cut resort.",tips:"Any time",breakfastPoint:"--",addressLink:null,image:"/images/destinations/ramanagara_shilhaandara-resort_attraction.jpg",gallery:["/images/destinations/ramanagara_shilhaandara-resort_gallery_2.avif","/images/destinations/ramanagara_shilhaandara-resort_gallery_3.jpg","/images/destinations/ramanagara_shilhaandara-resort_attraction.jpg"]}],resorts:["Shilhaandara Resort"]},{id:"savandurga",name:"Savandurga Hills",lat:12.9196,lng:77.2928,description:"Asia's largest monolith hill, great for trekking.",image:"/images/destinations/ramanagara_bidarakatte-trek_attraction.svg",attractions:[{name:"Monolith Hill",description:"Great for trekking.",tips:"Any time",breakfastPoint:"--",addressLink:null,image:"/images/destinations/ramanagara_savanadurga-trek_attraction.svg"}],resorts:["Savandurga Valley Resort"]},{id:"skandagiri",name:"Skandagiri",lat:13.4185,lng:77.6839,description:"Popular for sunrise/night treks.",image:"/images/destinations/nandi-hills_nandhi-betta-sunset-view-point_attraction.svg",attractions:[{name:"Sunrise Trek",description:"Spectacular view of clouds.",tips:"3:00AM TO 5:30AM",breakfastPoint:"--",addressLink:null,image:"/images/destinations/nandi-hills_skandagiri-kalavara-durga_attraction.svg",gallery:["/images/destinations/skandagiri_sunrise-trek_gallery_32.jpg"]}],resorts:["Mount Palazzo"]},{id:"anthargange",name:"Anthargange",lat:13.1438,lng:78.2006,description:"Cave exploration and trekking near Kolar.",image:"/images/destinations/anthargange_main_main.jpg",attractions:[{name:"Caves and Trekking",description:"Volcanic rock formations.",tips:"6:00AM TO 5:30PM",breakfastPoint:"--",addressLink:null,image:"/images/destinations/anthargange_caves-and-trekking_attraction.svg"}],resorts:["Silvanest Resort"],gallery:["/images/destinations/anthargange_main_main.jpg"]},{id:"bannerghatta",name:"Bannerghatta National Park",lat:12.8009,lng:77.5777,description:"Biological park, zoo, and safari.",image:"/images/destinations/bannerghatta_main_main.jpg",attractions:[{name:"Bannerghatta hills",description:"Scenic hills.",tips:null,breakfastPoint:"----",addressLink:null,image:"/images/destinations/bannerghatta_bannerghatta-hills_attraction.avif",gallery:["/images/destinations/bannerghatta_bannerghatta-hills_attraction.avif","/images/destinations/bannerghatta_bannerghatta-hills_gallery_2.jpg","/images/destinations/bannerghatta_bannerghatta-hills_gallery_3.jpg"]},{name:"Butterfly Park",description:"Colorful butterfly conservatory.",tips:"9:30 TO 5:00PM",breakfastPoint:"--",addressLink:null,image:"/images/destinations/bannerghatta_butterfly-park_attraction.jpg",gallery:["/images/destinations/bannerghatta_butterfly-park_attraction.jpg","/images/destinations/bannerghatta_butterfly-park_gallery_2.jpg","/images/destinations/bannerghatta_butterfly-park_gallery_3.jpg"]},{name:"Bannerghatta National Park",description:"Zoo and biological park.",tips:"9:30AM TO 5:00PM",breakfastPoint:"Brahmins' Coffee Bar",addressLink:"Brahmins' Coffee Bar",image:"/images/destinations/bannerghatta-national-park_bannerghatta-hills_attraction.svg"},{name:"Mini Forest",description:"Forest area managed by forest department.",tips:"9:30AM TO 5:00PM",breakfastPoint:"--",addressLink:null,image:"/images/destinations/bannerghatta_mini-forest_attraction.jpg",gallery:["/images/destinations/bannerghatta_mini-forest_attraction.jpg","/images/destinations/bannerghatta_mini-forest_gallery_2.jpg"]},{name:"Snow City Bengaluru",description:"Indoor snow theme park.",tips:"10:00AM 8:00PM",breakfastPoint:"--",addressLink:null,image:"/images/destinations/bannerghatta_snow-city-bengaluru_attraction.avif",gallery:["/images/destinations/bannerghatta_snow-city-bengaluru_attraction.avif","/images/destinations/bannerghatta_snow-city-bengaluru_gallery_2.webp"]},{name:"Begur Fort",description:"Ancient fort.",tips:"6:00AM TO 6:00PM",breakfastPoint:"Mavalli Tiffin",addressLink:"Mavalli Tiffin Room",image:"/images/destinations/bannerghatta-national-park_begur-fort_attraction.svg"},{name:"Bannerghatta Safari",description:"Lion and Tiger safari.",tips:"10:00AM 4:30PM",breakfastPoint:"--",addressLink:null,image:"/images/destinations/bannerghatta_bannerghatta-safari_attraction",gallery:["/images/destinations/bannerghatta_bannerghatta-safari_attraction","/images/destinations/bannerghatta_bannerghatta-safari_gallery_2.jpg","/images/destinations/bannerghatta_bannerghatta-safari_gallery_3.webp","/images/destinations/bannerghatta_bannerghatta-safari_gallery_4"]},{name:"Gulakamale Lake",description:"Serene lake.",tips:"5:00AM TO 7:00PM",breakfastPoint:"Central Tiffin Room (CTR)",addressLink:"Central Tiffin Room",image:"/images/destinations/bannerghatta-national-park_main_main.svg",gallery:["/images/destinations/bannerghatta_gulakamale-lake_gallery_2","/images/destinations/bannerghatta_gulakamale-lake_gallery_3"]},{name:"Visvesvaraya Museum",description:"Industrial & Technological Museum.",tips:"9:30AM TO 6:30PM",breakfastPoint:"--",addressLink:null,image:"/images/destinations/bannerghatta_visvesvaraya-museum_attraction.jpg",gallery:["/images/destinations/bannerghatta_visvesvaraya-museum_attraction.jpg","/images/destinations/bannerghatta_visvesvaraya-museum_gallery_2.jpg","/images/destinations/bannerghatta_visvesvaraya-museum_gallery_3.jpg"]},{name:"Turahalli Tree Park",description:"Urban forest.",tips:"6:00AM TO 6:00PM",breakfastPoint:"--",addressLink:null,image:"/images/destinations/bannerghatta-national-park_turahalli-tree-park_attraction.svg"},{name:"Boating point",description:"Recreational boating.",tips:"9:30AM TO 5:00PM",breakfastPoint:"--",addressLink:null,image:"/images/destinations/ramanagara_kanva-reservoir_attraction.svg"},{name:"Jaguars falls",description:"Waterfall nearby.",tips:"9:00AM TO 5:00PM",breakfastPoint:"--",addressLink:null,image:"/images/destinations/bannerghatta-national-park_gulakamale-lake_attraction.svg"}],resorts:["Bannerghatta Nature Camp (Jungle Lodges & Resorts)"],gallery:["/images/destinations/bannerghatta_main_main.jpg","/images/destinations/bannerghatta_gallery_2.jpg","/images/destinations/bannerghatta_gallery_3.jpg","/images/destinations/bannerghatta_gallery_4.jpg","/images/destinations/bannerghatta_gallery_5.jpg"]},{id:"big-banyan-tree",name:"Big Banyan Tree (Dodda Alada Mara)",lat:12.9094,lng:77.3956,description:"Ancient, huge banyan tree covering 3 acres.",image:"/images/destinations/big-banyan-tree-dodda-alada-mara_main_main.svg",attractions:[{name:"Big Banyan Tree",description:"400-year-old banyan tree.",tips:"7:00AM TO 6:00PM",breakfastPoint:"--",addressLink:null,image:"/images/destinations/big-banyan-tree-dodda-alada-mara_big-banyan-tree_attraction.svg"}],resorts:[]},{id:"kanakpura",name:"Kanakpura",lat:12.5461,lng:77.421,description:"Adventure camps, nature, and the Banantimari Forest area.",image:"/images/destinations/kanakpura_main_main.jpg",attractions:[{name:"Nature & Adventure",description:"Banantimari Forest area.",tips:"9:00AM TO 7:00PM",breakfastPoint:"--",addressLink:null,image:"/images/destinations/kanakpura_main_main.jpg"}],resorts:[]},{id:"muthyalamaduvu",name:"Muthyalamaduvu (Pearl Valley)",lat:12.6881,lng:77.6644,description:"Picnic spot with a waterfall, often called Pearl Valley.",image:"/images/destinations/muthyalamaduvu-pearl-valley_main_main.jpg",attractions:[{name:"Waterfall Picnic Spot",description:"Serene waterfall.",tips:"6:00AM TO 6:00PM",breakfastPoint:"--",addressLink:null,image:"/images/destinations/muthyalamaduvu-pearl-valley_waterfall-picnic-spot_attraction.svg"}],resorts:[]},{id:"thottikallu-falls",name:"Thottikallu Falls",lat:12.806,lng:77.538,description:"Serene waterfall, also known as Swarnamukhi Falls.",image:"/images/destinations/thottikallu-falls_main_main.svg",attractions:[{name:"Swarnamukhi Falls",description:"Seasonal waterfall.",tips:"7:00AM TO 6:00PM",breakfastPoint:"--",addressLink:null,image:"/images/destinations/thottikallu-falls_swarnamukhi-falls_attraction.svg"}],resorts:[]},{id:"shivanasamudra",name:"Shivanasamudra Waterfalls",lat:12.2936,lng:77.1706,description:"A spectacular segmented waterfall on the river Kaveri.",image:"/images/destinations/shivanasamudra-waterfalls_main_main.svg",attractions:[{name:"Gaganachukki and Bharachukki Falls",description:"The two sections of the falls.",image:"/images/destinations/shivanasamudra-waterfalls_gaganachukki-and-bharachukki-falls_attraction.svg"},{name:"Talakadu",description:"A historical site with buried temples.",image:"/images/destinations/shivanasamudra-waterfalls_talakadu_attraction.svg"},{name:"Somanathapura",description:"Home to the Chennakesava Temple.",image:"/images/destinations/shivanasamudra-waterfalls_somanathapura_attraction.svg"}],resorts:["Hotel Mayura Gaganachukki"]},{id:"hogenakkal",name:"Hogenakkal Falls",lat:12.1182,lng:77.777,description:'Often referred to as the "Niagara of India", known for its medicinal baths and coracle rides.',image:"/images/destinations/hogenakkal_main_main.jpg",attractions:[{name:"Melagiri Hills",description:"Scenic hills nearby.",image:"/images/destinations/hogenakkal_melagiri-hills_attraction",gallery:["/images/destinations/hogenakkal_melagiri-hills_attraction","/images/destinations/hogenakkal_melagiri-hills_gallery_2.jpg"]},{name:"Pennagaram village",description:"Local village experience.",image:"/images/destinations/hogenakkal_pennagaram-village_attraction.jpg",gallery:["/images/destinations/hogenakkal_pennagaram-village_attraction.jpg","/images/destinations/hogenakkal_pennagaram-village_gallery_2.jpg","/images/destinations/hogenakkal_pennagaram-village_gallery_3.avif"]}],resorts:["Hotel Tamilnadu"],gallery:["/images/destinations/hogenakkal_main_main.jpg","/images/destinations/hogenakkal_gallery_2.jpg","/images/destinations/hogenakkal_gallery_3","/images/destinations/hogenakkal_gallery_4.jpg"]}],weekendGetaways:[{id:"mysore",name:"Mysore",lat:12.2958,lng:76.6394,description:"The City of Palaces, known for its heritage structures and yoga centers.",image:"/images/destinations/mysore_main_main.svg",attractions:[{name:"Mysore Palace",description:"The historical royal residence.",image:"/images/destinations/mysore_mysore-palace_attraction.svg"},{name:"Brindavan Gardens",description:"Famous for its musical fountain.",image:"/images/destinations/mysore_brindavan-gardens_attraction.svg"},{name:"Chamundi Hills",description:"With the Chamundeshwari Temple.",image:"/images/destinations/mysore_chamundi-hills_attraction.svg"},{name:"Srirangapatna",description:"The historic capital of Tipu Sultan.",image:"/images/destinations/mysore_srirangapatna_attraction.svg"},{name:"Ranganathittu Bird Sanctuary",description:"Bird watching haven.",image:"/images/destinations/mysore_ranganathittu-bird-sanctuary_attraction.svg"}],resorts:["Radisson Blu Plaza Hotel Mysore","Grand Mercure Mysore","Royal Orchid Metropole Mysore"]},{id:"coorg",name:"Coorg (Kodagu)",lat:12.3375,lng:75.8069,description:"Known as the Scotland of India, famous for its coffee plantations and misty hills.",image:"/images/destinations/coorg-kodagu_main_main.svg",attractions:[{name:"Abbey Falls",description:"A scenic waterfall.",image:"/images/destinations/coorg-kodagu_abbey-falls_attraction.svg"},{name:"Raja's Seat",description:"A garden with a view of the sunset.",image:"/images/destinations/coorg-kodagu_raja-s-seat_attraction.svg"},{name:"Dubare Elephant Camp",description:"For elephant interactions.",image:"/images/destinations/coorg-kodagu_dubare-elephant-camp_attraction.svg"},{name:"Talakaveri",description:"The source of the river Kaveri.",image:"/images/destinations/coorg-kodagu_talakaveri_attraction.svg"},{name:"Namdroling Monastery",description:"Golden Temple.",image:"/images/destinations/coorg-kodagu_namdroling-monastery_attraction.svg"}],resorts:["The Tamara Coorg","Evolve Back, Coorg","Taj Madikeri Resort & Spa, Coorg"]},{id:"chikmagalur",name:"Chikmagalur",lat:13.3153,lng:75.7754,description:"A coffee land with serene environment and lush green hills.",image:"/images/destinations/chikmagalur_main_main.svg",attractions:[{name:"Mullayanagiri",description:"The highest peak in Karnataka.",image:"/images/destinations/chikmagalur_mullayanagiri_attraction.svg"},{name:"Baba Budangiri",description:"A mountain in the Dattagiri Hill Range.",image:"/images/destinations/chikmagalur_baba-budangiri_attraction.svg"},{name:"Hebbe Falls",description:"A waterfall within a coffee estate.",image:"/images/destinations/chikmagalur_hebbe-falls_attraction.svg"},{name:"Kudremukh National Park",description:"Biodiversity hotspot.",image:"/images/destinations/chikmagalur_kudremukh-national-park_attraction.svg"},{name:"Kemmangundi",description:"A hill station with ornamental gardens.",image:"/images/destinations/chikmagalur_kemmangundi_attraction.svg"}],resorts:["The Serai Chikmagalur","Trivik Hotels & Resorts, Chikmagalur","Java Rain Resorts"]},{id:"ooty",name:"Ooty",lat:11.4102,lng:76.695,description:"Queen of Hill Stations, known for its tea gardens and colonial charm.",image:"/images/destinations/ooty_main_main.jpg",attractions:[{name:"Ooty Botanical Gardens",description:"Exotic plants and flowers.",image:"/images/destinations/ooty_ooty-botanical-gardens_attraction.svg"},{name:"Ooty Lake",description:"Boating and scenic views.",image:"/images/destinations/ooty_ooty-lake_attraction.svg"},{name:"Doddabetta Peak",description:"The highest point in the Nilgiris.",image:"/images/destinations/ooty_doddabetta-peak_attraction.svg"},{name:"Coonoor",description:"A nearby hill station with Sim's Park.",image:"/images/destinations/ooty_coonoor_attraction.svg"},{name:"Nilgiri Mountain Railway",description:"Toy train ride.",image:"/images/destinations/ooty_nilgiri-mountain-railway_attraction.svg"}],resorts:["Sterling Ooty Fern Hill","Savoy - IHCL SeleQtions","Gem Park Ooty"]},{id:"wayanad",name:"Wayanad",lat:11.6854,lng:76.132,description:"A rural district in Kerala known for its spice plantations and wildlife.",image:"/images/destinations/wayanad_main_main.svg",attractions:[{name:"Edakkal Caves",description:"With ancient petroglyphs.",image:"/images/destinations/wayanad_edakkal-caves_attraction.svg"},{name:"Soochipara Falls",description:"A three-tiered waterfall.",image:"/images/destinations/wayanad_soochipara-falls_attraction.svg"},{name:"Banasura Sagar Dam",description:"The largest earthen dam in India.",image:"/images/destinations/wayanad_banasura-sagar-dam_attraction.svg"},{name:"Chembra Peak",description:"Trekking destination.",image:"/images/destinations/wayanad_chembra-peak_attraction.svg"},{name:"Pookode Lake",description:"Freshwater lake.",image:"/images/destinations/wayanad_pookode-lake_attraction.svg"}],resorts:["Vythiri Village Resort","The Windflower Resort & Spa, Vythiri","Arayal Resorts"]},{id:"bheemeshwari",name:"Bheemeshwari",lat:12.305,lng:77.275,description:"A nature lovers paradise, ideal for fishing and trekking.",image:"/images/destinations/kanakpura_nature-adventure_attraction.jpg",attractions:[{name:"Cauvery Fishing Camp",description:"Angling destination.",image:"/images/destinations/bheemeshwari_cauvery-fishing-camp_attraction.svg"},{name:"Galibore Fishing Camp",description:"Nature camp.",image:"/images/destinations/bheemeshwari_cauvery-fishing-camp_attraction.svg"},{name:"Doddamakali Nature Camp",description:"Adventure camp.",image:"/images/destinations/bheemeshwari_cauvery-fishing-camp_attraction.svg"}],resorts:["Bheemeshwari Nature & Adventure Camp (Jungle Lodges & Resorts)"]},{id:"kabini",name:"Kabini",lat:11.9333,lng:76.35,description:"Famous for its wildlife sanctuary and luxury jungle lodges.",image:"/images/destinations/kabini_main_main.svg",attractions:[{name:"Nagarhole National Park",description:"Tiger and elephant sightings.",image:"/images/destinations/kabini_nagarhole-national-park_attraction.svg"},{name:"Kabini River",description:"Boat safaris.",image:"/images/destinations/kabini_kabini-river_attraction.svg"},{name:"Iruppu Falls",description:"Freshwater falls.",image:"/images/destinations/kabini_iruppu-falls_attraction.svg"}],resorts:["Evolve Back, Kabini","The Serai Kabini","Kabini River Lodge (Jungle Lodges & Resorts)"]},{id:"sakleshpur",name:"Sakleshpur",lat:12.9716,lng:75.7876,description:"A hill station in the Western Ghats known for its slopes covered in coffee, tea and spice plantations.",image:"/images/destinations/sakleshpur_main_main.svg",attractions:[{name:"Manjarabad Fort",description:"A star-shaped fort.",image:"/images/destinations/sakleshpur_manjarabad-fort_attraction.svg"},{name:"Bisle Ghat Viewpoint",description:"Panoramic views.",image:"/images/destinations/sakleshpur_bisle-ghat-viewpoint_attraction.svg"},{name:"Sakaleswara Temple",description:"Ancient Shiva temple.",image:"/images/destinations/sakleshpur_sakaleswara-temple_attraction.svg"}],resorts:["Eka Resort","The Hills Resort"]},{id:"hampi",name:"Hampi",lat:15.335,lng:76.46,description:"A UNESCO World Heritage Site featuring the ruins of the Vijayanagara Empire.",image:"/images/destinations/hampi_main_main.jpg",attractions:[{name:"Virupaksha Temple",description:"Active Hindu temple.",image:"/images/destinations/hampi_virupaksha-temple_attraction.svg"},{name:"Vijaya Vittala Temple",description:"With the stone chariot.",image:"/images/destinations/hampi_vijaya-vittala-temple_attraction.svg"},{name:"Matanga Hill",description:"Best sunset view.",image:"/images/destinations/hampi_matanga-hill_attraction.svg"},{name:"Hemakuta Hill Temple Complex",description:"Cluster of temples.",image:"/images/destinations/hampi_hemakuta-hill-temple-complex_attraction.svg"},{name:"Anegundi village",description:"Historic village.",image:"/images/destinations/hampi_anegundi-village_attraction.svg"}],resorts:["Evolve Back, Hampi","Hyatt Place Hampi"]}]},lm=(n,i,o,s)=>{const c=An(o-n),d=An(s-i),p=Math.sin(c/2)*Math.sin(c/2)+Math.cos(An(n))*Math.cos(An(o))*Math.sin(d/2)*Math.sin(d/2);return 6371*(2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p)))},An=n=>n*(Math.PI/180),wa=(n,i={lat:12.9716,lng:77.5946})=>{let o=0,s=i;n.forEach(g=>{const v=lm(s.lat,s.lng,g.lat,g.lng);o+=v,s={lat:g.lat,lng:g.lng}});const c=o/50,d=n.length*2,p=c+d,h=[];return o>250&&h.push(`Total distance (${o.toFixed(0)}km) exceeds 250km limit.`),p>12&&h.push(`Total time (${p.toFixed(1)}h) exceeds 12 hours.`),{isValid:h.length===0,totalDistance:o.toFixed(1),totalTime:p.toFixed(1),warnings:h}},cm="_plannerContainer_1166h_1",um="_sidebar_1166h_11",dm="_sidebarHeader_1166h_21",hm="_tabs_1166h_33",fm="_tab_1166h_33",pm="_activeTab_1166h_54",mm="_placesList_1166h_60",gm="_placeCard_1166h_69",_m="_placeImage_1166h_80",vm="_placeContent_1166h_89",ym="_placeDesc_1166h_101",bm="_addBtn_1166h_112",xm="_itineraryHint_1166h_135",wm="_itineraryPanel_1166h_150",Pm="_itineraryHeader_1166h_159",Sm="_requestBtn_1166h_173",Lm="_customMarker_1166h_185",Cm="_markerImage_1166h_200",Tm="_markerLabel_1166h_207",Im="_customTooltip_1166h_223",km="_tooltipTitle_1166h_232",Em="_tooltipDesc_1166h_239",Am="_tooltipAttractions_1166h_249",Dm="_datePickerSection_1166h_256",Mm="_dateInputGroup_1166h_264",Om="_dateInput_1166h_264",Bm="_dayHeader_1166h_286",Rm="_dayStats_1166h_293",Nm="_warningBox_1166h_300",zm="_warningItem_1166h_308",Fm="_invalidDay_1166h_321",Zm="_daysContainer_1166h_326",jm="_dayColumn_1166h_335",Hm="_dayTitle_1166h_339",Gm="_dayList_1166h_348",Wm="_draggingOver_1166h_357",Um="_emptyDay_1166h_362",Vm="_itineraryItem_1166h_369",qm="_dragging_1166h_357",Km="_dragHandle_1166h_391",$m="_itemContent_1166h_396",Ym="_deleteBtn_1166h_405",Xm="_mapPanel_1166h_419",Jm="_popup_1166h_424",Qm="_modalOverlay_1166h_445",tg="_modal_1166h_445",eg="_closeBtn_1166h_471",ng="_modalHeader_1166h_487",ig="_modalBody_1166h_514",rg="_modalSection_1166h_524",og="_modalAddBtn_1166h_542",ag="_attractionsList_1166h_571",sg="_attractionItem_1166h_577",lg="_attractionImage_1166h_584",cg="_attractionDesc_1166h_602",ug="_attractionMeta_1166h_608",dg="_metaWithIcon_1166h_616",hg="_addressLink_1166h_626",fg="_gallerySection_1166h_632",pg="_galleryList_1166h_636",mg="_galleryItem_1166h_653",gg="_galleryItemActive_1166h_669",O={plannerContainer:cm,sidebar:um,sidebarHeader:dm,tabs:hm,tab:fm,activeTab:pm,placesList:mm,placeCard:gm,placeImage:_m,placeContent:vm,placeDesc:ym,addBtn:bm,itineraryHint:xm,itineraryPanel:wm,itineraryHeader:Pm,requestBtn:Sm,customMarker:Lm,markerImage:Cm,markerLabel:Tm,customTooltip:Im,tooltipTitle:km,tooltipDesc:Em,tooltipAttractions:Am,datePickerSection:Dm,dateInputGroup:Mm,dateInput:Om,dayHeader:Bm,dayStats:Rm,warningBox:Nm,warningItem:zm,invalidDay:Fm,daysContainer:Zm,dayColumn:jm,dayTitle:Hm,dayList:Gm,draggingOver:Wm,emptyDay:Um,itineraryItem:Vm,dragging:qm,dragHandle:Km,itemContent:$m,deleteBtn:Ym,mapPanel:Xm,popup:Jm,modalOverlay:Qm,modal:tg,closeBtn:eg,modalHeader:ng,modalBody:ig,modalSection:rg,modalAddBtn:og,attractionsList:ag,attractionItem:sg,attractionImage:lg,attractionDesc:cg,attractionMeta:ug,metaWithIcon:dg,addressLink:hg,gallerySection:fg,galleryList:pg,galleryItem:mg,galleryItemActive:gg},_g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",vg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let yg=Pr.icon({iconUrl:_g,shadowUrl:vg,iconSize:[25,41],iconAnchor:[12,41]});Pr.Marker.prototype.options.icon=yg;const bg=({center:n})=>{const i=im();return I.useEffect(()=>{n&&i.flyTo(n,10)},[n,i]),null},ee=n=>{if(!n)return"";if(n.startsWith("http"))return n;const i="/trusted--partner-concierge/",o=n.startsWith("/")?n.slice(1):n;return`${i}${o}`},Pa=(n,i)=>Pr.divIcon({className:O.customMarkerContainer,html:`<div class="${O.customMarker}" style="width: 40px; height: 40px;">
             <img src="${ee(n)}" class="${O.markerImage}" alt="marker" />
             <div class="${O.markerLabel}">${i}</div>
           </div>`,iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20]}),xg=n=>{const i=["#2563eb","#16a34a","#db2777","#9333ea","#ea580c"];return i[n%i.length]},wg=({place:n,onClose:i,onAdd:o})=>{const[s,l]=I.useState(n.image);return I.useEffect(()=>{l(n.image)},[n]),n?T.jsx("div",{className:O.modalOverlay,onClick:i,children:T.jsxs("div",{className:O.modal,onClick:c=>c.stopPropagation(),children:[T.jsx("button",{className:O.closeBtn,onClick:i,children:T.jsx(fc,{size:24})}),T.jsx("div",{className:O.modalHeader,style:{backgroundImage:`url(${ee(s)})`},children:T.jsx("h2",{children:n.name})}),T.jsxs("div",{className:O.modalBody,children:[T.jsx("p",{children:n.description}),n.gallery&&n.gallery.length>0&&T.jsxs("div",{className:O.gallerySection,children:[T.jsx("h3",{children:"Gallery"}),T.jsx("div",{className:O.galleryList,children:n.gallery.map((c,d)=>T.jsx("div",{className:`${O.galleryItem} ${ee(c)===ee(s)?O.galleryItemActive:""}`,style:{backgroundImage:`url(${ee(c)})`},onClick:()=>l(c)},d))})]}),T.jsxs("div",{className:O.modalSection,children:[T.jsx("h3",{children:"Attractions & Details"}),T.jsx("div",{className:O.attractionsList,children:n.attractions.map((c,d)=>T.jsxs("div",{className:O.attractionItem,children:[c.image&&T.jsx("div",{className:O.attractionImage,style:{backgroundImage:`url("${ee(c.image)}")`}}),T.jsx("h4",{children:c.name}),c.description&&T.jsx("p",{className:O.attractionDesc,children:c.description}),T.jsxs("div",{className:O.attractionMeta,children:[c.tips&&T.jsxs("div",{className:O.metaWithIcon,children:[T.jsx(pc,{size:14})," ",T.jsx("span",{children:c.tips})]}),T.jsxs("div",{className:O.metaWithIcon,children:[T.jsx(mc,{size:14}),T.jsxs("span",{children:["Breakfast: ",c.breakfastPoint&&c.breakfastPoint!=="--"&&c.breakfastPoint!=="----"?c.breakfastPoint:"Not specified"]})]}),c.addressLink?T.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(c.addressLink)}`,target:"_blank",rel:"noopener noreferrer",className:`${O.metaWithIcon} ${O.addressLink}`,onClick:p=>p.stopPropagation(),children:[T.jsx(Oo,{size:14})," ",T.jsx("span",{children:c.addressLink})]}):T.jsxs("div",{className:O.metaWithIcon,children:[T.jsx(Oo,{size:14})," ",T.jsx("span",{children:"Location details unavailable"})]})]}),c.gallery&&c.gallery.length>1&&T.jsx("div",{style:{marginTop:"0.5rem",display:"flex",gap:"4px",overflowX:"auto",paddingBottom:"4px"},children:c.gallery.map((p,h)=>T.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"4px",backgroundImage:`url(${ee(p)})`,backgroundSize:"cover",flexShrink:0}},h))})]},d))})]}),T.jsxs("div",{className:O.modalSection,children:[T.jsx("h3",{children:"Resorts"}),T.jsx("ul",{children:n.resorts.map((c,d)=>T.jsx("li",{children:c},d))})]}),T.jsx("button",{className:O.modalAddBtn,onClick:()=>{o(n),i()},children:"Add to Itinerary"})]})]})}):null},Cg=()=>{const[n,i]=I.useState("dayTrips"),[o,s]=I.useState(null),[l,c]=I.useState(""),[d,p]=I.useState(""),[h,g]=I.useState({"day-1":{id:"day-1",title:"Day 1",items:[]}}),[v,m]=I.useState([12.9716,77.5946]);I.useEffect(()=>{if(l&&d){const x=new Date(l),E=new Date(d),A=Math.abs(E-x),D=Math.ceil(A/(1e3*60*60*24))+1;if(D>0&&D<=30){const B={};for(let N=1;N<=D;N++){const z=`day-${N}`;B[z]=h[z]||{id:z,title:`Day ${N}`,items:[]}}g(B)}}},[l,d]);const _=x=>{const{source:E,destination:A}=x;if(A)if(E.droppableId===A.droppableId){const D=E.droppableId,B=h[D],N=Array.from(B.items),[z]=N.splice(E.index,1);N.splice(A.index,0,z),g({...h,[D]:{...B,items:N}})}else{const D=h[E.droppableId],B=h[A.droppableId],N=Array.from(D.items),z=Array.from(B.items),[J]=N.splice(E.index,1);z.splice(A.index,0,J),g({...h,[E.droppableId]:{...D,items:N},[A.droppableId]:{...B,items:z}})}},b=(x,E="day-1")=>{for(const N in h)if(h[N].items.find(z=>z.id===x.id)){alert(`${x.name} is already in your itinerary!`);return}const A=h[E]?E:Object.keys(h)[0],D=h[A],B=[...D.items,x];g({...h,[A]:{...D,items:B}}),m([x.lat,x.lng])},S=(x,E)=>{const A=h[x],D=Array.from(A.items);D.splice(E,1),g({...h,[x]:{...A,items:D}})},C=x=>{s(x),m([x.lat,x.lng])};return T.jsxs("div",{className:O.plannerContainer,children:[T.jsxs("div",{className:O.sidebar,children:[T.jsxs("div",{className:O.sidebarHeader,children:[T.jsx("h2",{children:"Explore"}),T.jsxs("div",{className:O.tabs,children:[T.jsx("button",{className:`${O.tab} ${n==="dayTrips"?O.activeTab:""}`,onClick:()=>i("dayTrips"),children:"Day Trips"}),T.jsx("button",{className:`${O.tab} ${n==="weekendGetaways"?O.activeTab:""}`,onClick:()=>i("weekendGetaways"),children:"Getaways"})]})]}),T.jsx("div",{className:O.placesList,children:xa[n].map(x=>T.jsxs("div",{className:O.placeCard,onClick:()=>C(x),children:[T.jsx("div",{className:O.placeImage,style:{backgroundImage:`url(${ee(x.image)})`}}),T.jsxs("div",{className:O.placeContent,children:[T.jsx("h3",{children:x.name}),T.jsx("p",{className:O.placeDesc,children:x.description}),T.jsxs("button",{className:O.addBtn,onClick:E=>{E.stopPropagation(),b(x)},children:[T.jsx(vc,{size:16})," Add"]})]})]},x.id))})]}),T.jsxs("div",{className:O.itineraryPanel,children:[T.jsxs("div",{className:O.itineraryHeader,children:[T.jsx("h2",{children:"Your Itinerary"}),T.jsx("button",{className:O.requestBtn,onClick:()=>window.location.href="/contact",children:"Request Quote"})]}),T.jsxs("div",{className:O.datePickerSection,children:[T.jsxs("div",{className:O.dateInputGroup,children:[T.jsx("label",{children:"Start Date"}),T.jsx("input",{type:"date",value:l,onChange:x=>c(x.target.value),className:O.dateInput})]}),T.jsxs("div",{className:O.dateInputGroup,children:[T.jsx("label",{children:"End Date"}),T.jsx("input",{type:"date",value:d,onChange:x=>p(x.target.value),className:O.dateInput})]})]}),T.jsxs("div",{className:O.itineraryHint,children:[T.jsx(Bo,{size:20,style:{flexShrink:0}}),T.jsxs("div",{children:[T.jsx("strong",{children:"Drag & Drop to Reorder"}),T.jsx("br",{}),"Arrange your places to optimize the route. Routes and distances calculate automatically based on the order."]})]}),T.jsx(op,{onDragEnd:_,children:T.jsx("div",{className:O.daysContainer,children:Object.values(h).map((x,E)=>{let A={lat:12.9716,lng:77.5946};E>0&&x.items.length>0&&(A={lat:x.items[0].lat,lng:x.items[0].lng});const D=wa(x.items,A);return T.jsxs("div",{className:O.dayColumn,children:[T.jsxs("div",{className:O.dayHeader,children:[T.jsx("h3",{className:O.dayTitle,children:x.title}),T.jsxs("div",{className:O.dayStats,children:[T.jsxs("span",{children:[D.totalDistance," km"]}),"  ",T.jsxs("span",{children:[D.totalTime," hrs"]})]})]}),D.warnings.length>0&&T.jsx("div",{className:O.warningBox,children:D.warnings.map((B,N)=>T.jsxs("div",{className:O.warningItem,children:[T.jsx(wc,{size:14})," ",B]},N))}),T.jsx(Up,{droppableId:x.id,children:(B,N)=>T.jsxs("div",{...B.droppableProps,ref:B.innerRef,className:`${O.dayList} ${N.isDraggingOver?O.draggingOver:""} ${D.isValid?"":O.invalidDay}`,children:[x.items.length===0&&T.jsx("div",{className:O.emptyDay,children:"Drag places here"}),x.items.map((z,J)=>T.jsx(Sp,{draggableId:z.id,index:J,children:($,ft)=>T.jsxs("div",{ref:$.innerRef,...$.draggableProps,className:`${O.itineraryItem} ${ft.isDragging?O.dragging:""}`,onClick:()=>m([z.lat,z.lng]),children:[T.jsx("div",{...$.dragHandleProps,className:O.dragHandle,children:T.jsx(Bo,{size:16})}),T.jsx("div",{className:O.itemContent,children:T.jsx("h4",{children:z.name})}),T.jsx("button",{className:O.deleteBtn,onClick:et=>{et.stopPropagation(),S(x.id,J)},children:T.jsx(bc,{size:14})})]})},z.id)),B.placeholder]})})]},x.id)})})})]}),T.jsx("div",{className:O.mapPanel,children:T.jsxs(om,{center:[12.9716,77.5946],zoom:8,style:{height:"100%",width:"100%"},children:[T.jsx(sm,{url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors  <a href="https://carto.com/attributions">CARTO</a>'}),T.jsx(bg,{center:v}),Object.values(h).map((x,E)=>{const A=x.items;if(A.length===0)return null;let D=[],B={lat:12.9716,lng:77.5946};E===0?D.push([B.lat,B.lng]):A.length>0,A.forEach(z=>D.push([z.lat,z.lng]));const N=wa(A,E===0?B:{lat:A[0].lat,lng:A[0].lng});return T.jsx(am,{positions:D,pathOptions:{color:xg(E),weight:4,opacity:.7,dashArray:E>0?"5, 10":null},children:T.jsx(Hi,{sticky:!0,children:T.jsxs("div",{children:[T.jsx("strong",{children:x.title}),T.jsx("br",{}),"Distance: ",N.totalDistance," km"]})})},`route-${x.id}`)}),xa[n].map(x=>T.jsxs(ya,{position:[x.lat,x.lng],icon:Pa(x.image,x.name),eventHandlers:{click:()=>C(x)},children:[T.jsx(Hi,{direction:"top",offset:[0,-20],opacity:1,className:O.customTooltip,children:T.jsxs("div",{className:O.tooltipContent,children:[T.jsx("div",{className:O.tooltipTitle,children:x.name}),T.jsx("div",{className:O.tooltipDesc,children:x.description}),x.attractions&&x.attractions.length>0&&T.jsxs("div",{className:O.tooltipAttractions,children:["Near: ",x.attractions.slice(0,2).map(E=>E.name).join(", ")]})]})}),T.jsx(ba,{children:T.jsxs("div",{className:O.popup,children:[T.jsx("h3",{children:x.name}),T.jsx("button",{onClick:()=>b(x),children:"Add to Itinerary"})]})})]},x.id)),Object.values(h).flatMap(x=>x.items).map(x=>T.jsxs(ya,{position:[x.lat,x.lng],icon:Pa(x.image,x.name),children:[T.jsx(Hi,{direction:"top",offset:[0,-20],opacity:1,className:O.customTooltip,children:T.jsxs("div",{className:O.tooltipContent,children:[T.jsx("div",{className:O.tooltipTitle,children:x.name}),T.jsx("div",{className:O.tooltipDesc,children:x.description})]})}),T.jsx(ba,{children:T.jsx("div",{className:O.popup,children:T.jsx("h3",{children:x.name})})})]},`itinerary-${x.id}`))]})}),o&&T.jsx(wg,{place:o,onClose:()=>s(null),onAdd:b})]})};export{Cg as default};
